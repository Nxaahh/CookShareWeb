var IM=Object.defineProperty,wM=Object.defineProperties;var CM=Object.getOwnPropertyDescriptors;var Dc=Object.getOwnPropertySymbols,DM=Object.getPrototypeOf,N_=Object.prototype.hasOwnProperty,O_=Object.prototype.propertyIsEnumerable,bM=Reflect.get;var R_=(e,t,n)=>t in e?IM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||={})N_.call(t,n)&&R_(e,n,t[n]);if(Dc)for(var n of Dc(t))O_.call(t,n)&&R_(e,n,t[n]);return e},U=(e,t)=>wM(e,CM(t));var k_=(e,t)=>{var n={};for(var r in e)N_.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Dc)for(var r of Dc(e))t.indexOf(r)<0&&O_.call(e,r)&&(n[r]=e[r]);return n};var Lr=(e,t,n)=>bM(DM(e),n,t);var p=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())});function $f(e,t){return Object.is(e,t)}var Ce=null,bc=!1,Hf=1,yt=Symbol("SIGNAL");function G(e){let t=Ce;return Ce=e,t}function Wf(){return Ce}var hs={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ps(e){if(bc)throw new Error("");if(Ce===null)return;Ce.consumerOnSignalRead(e);let t=Ce.nextProducerIndex++;if(Mc(Ce),t<Ce.producerNode.length&&Ce.producerNode[t]!==e&&fs(Ce)){let n=Ce.producerNode[t];Ac(n,Ce.producerIndexOfThis[t])}Ce.producerNode[t]!==e&&(Ce.producerNode[t]=e,Ce.producerIndexOfThis[t]=fs(Ce)?x_(e,Ce,t):0),Ce.producerLastReadVersion[t]=e.version}function P_(){Hf++}function zf(e){if(!(fs(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Hf)){if(!e.producerMustRecompute(e)&&!Yf(e)){Bf(e);return}e.producerRecomputeValue(e),Bf(e)}}function Gf(e){if(e.liveConsumerNode===void 0)return;let t=bc;bc=!0;try{for(let n of e.liveConsumerNode)n.dirty||TM(n)}finally{bc=t}}function qf(){return Ce?.consumerAllowSignalWrites!==!1}function TM(e){e.dirty=!0,Gf(e),e.consumerMarkedDirty?.(e)}function Bf(e){e.dirty=!1,e.lastCleanEpoch=Hf}function Sc(e){return e&&(e.nextProducerIndex=0),G(e)}function Kf(e,t){if(G(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(fs(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Ac(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Yf(e){Mc(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(zf(n),r!==n.version))return!0}return!1}function Zf(e){if(Mc(e),fs(e))for(let t=0;t<e.producerNode.length;t++)Ac(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function x_(e,t,n){if(F_(e),e.liveConsumerNode.length===0&&L_(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=x_(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Ac(e,t){if(F_(e),e.liveConsumerNode.length===1&&L_(e))for(let r=0;r<e.producerNode.length;r++)Ac(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Mc(i),i.producerIndexOfThis[r]=t}}function fs(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Mc(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function F_(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function L_(e){return e.producerNode!==void 0}function Qf(e,t){let n=Object.create(SM);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(zf(n),ps(n),n.value===Tc)throw n.error;return n.value};return r[yt]=n,r}var jf=Symbol("UNSET"),Uf=Symbol("COMPUTING"),Tc=Symbol("ERRORED"),SM=U(v({},hs),{value:jf,dirty:!0,error:null,equal:$f,kind:"computed",producerMustRecompute(e){return e.value===jf||e.value===Uf},producerRecomputeValue(e){if(e.value===Uf)throw new Error("Detected cycle in computations.");let t=e.value;e.value=Uf;let n=Sc(e),r,i=!1;try{r=e.computation(),G(null),i=t!==jf&&t!==Tc&&r!==Tc&&e.equal(t,r)}catch(o){r=Tc,e.error=o}finally{Kf(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function AM(){throw new Error}var V_=AM;function j_(e){V_(e)}function Jf(e){V_=e}var MM=null;function Xf(e,t){let n=Object.create(Rc);n.value=e,t!==void 0&&(n.equal=t);let r=()=>(ps(n),n.value);return r[yt]=n,r}function gs(e,t){qf()||j_(e),e.equal(e.value,t)||(e.value=t,RM(e))}function eh(e,t){qf()||j_(e),gs(e,t(e.value))}var Rc=U(v({},hs),{equal:$f,value:void 0,kind:"signal"});function RM(e){e.version++,P_(),Gf(e),MM?.()}function th(e){let t=G(null);try{return e()}finally{G(t)}}var nh;function ms(){return nh}function wn(e){let t=nh;return nh=e,t}var Nc=Symbol("NotFound");function k(e){return typeof e=="function"}function Ni(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Oc=Ni(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Vr(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var fe=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(k(r))try{r()}catch(o){t=o instanceof Oc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{U_(o)}catch(s){t=t??[],s instanceof Oc?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Oc(t)}}add(t){var n;if(t&&t!==this)if(this.closed)U_(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Vr(n,t)}remove(t){let{_finalizers:n}=this;n&&Vr(n,t),t instanceof e&&t._removeParent(this)}};fe.EMPTY=(()=>{let e=new fe;return e.closed=!0,e})();var rh=fe.EMPTY;function kc(e){return e instanceof fe||e&&"closed"in e&&k(e.remove)&&k(e.add)&&k(e.unsubscribe)}function U_(e){k(e)?e():e.unsubscribe()}var At={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Oi={setTimeout(e,t,...n){let{delegate:r}=Oi;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Oi;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Pc(e){Oi.setTimeout(()=>{let{onUnhandledError:t}=At;if(t)t(e);else throw e})}function vs(){}var B_=ih("C",void 0,void 0);function $_(e){return ih("E",void 0,e)}function H_(e){return ih("N",e,void 0)}function ih(e,t,n){return{kind:e,value:t,error:n}}var jr=null;function ki(e){if(At.useDeprecatedSynchronousErrorHandling){let t=!jr;if(t&&(jr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=jr;if(jr=null,n)throw r}}else e()}function W_(e){At.useDeprecatedSynchronousErrorHandling&&jr&&(jr.errorThrown=!0,jr.error=e)}var Ur=class extends fe{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,kc(t)&&t.add(this)):this.destination=FM}static create(t,n,r){return new Pi(t,n,r)}next(t){this.isStopped?sh(H_(t),this):this._next(t)}error(t){this.isStopped?sh($_(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?sh(B_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},PM=Function.prototype.bind;function oh(e,t){return PM.call(e,t)}var ah=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){xc(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){xc(r)}else xc(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){xc(n)}}},Pi=class extends Ur{constructor(t,n,r){super();let i;if(k(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&At.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&oh(t.next,o),error:t.error&&oh(t.error,o),complete:t.complete&&oh(t.complete,o)}):i=t}this.destination=new ah(i)}};function xc(e){At.useDeprecatedSynchronousErrorHandling?W_(e):Pc(e)}function xM(e){throw e}function sh(e,t){let{onStoppedNotification:n}=At;n&&Oi.setTimeout(()=>n(e,t))}var FM={closed:!0,next:vs,error:xM,complete:vs};var xi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ut(e){return e}function ch(...e){return lh(e)}function lh(e){return e.length===0?ut:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var q=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=VM(n)?n:new Pi(n,r,i);return ki(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=z_(r),new r((i,o)=>{let s=new Pi({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[xi](){return this}pipe(...n){return lh(n)(this)}toPromise(n){return n=z_(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function z_(e){var t;return(t=e??At.Promise)!==null&&t!==void 0?t:Promise}function LM(e){return e&&k(e.next)&&k(e.error)&&k(e.complete)}function VM(e){return e&&e instanceof Ur||LM(e)&&kc(e)}function uh(e){return k(e?.lift)}function Z(e){return t=>{if(uh(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function K(e,t,n,r,i){return new dh(e,t,n,r,i)}var dh=class extends Ur{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Fi(){return Z((e,t)=>{let n=null;e._refCount++;let r=K(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Li=class extends q{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,uh(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new fe;let n=this.getSubject();t.add(this.source.subscribe(K(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=fe.EMPTY)}return t}refCount(){return Fi()(this)}};var G_=Ni(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=(()=>{class e extends q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Fc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new G_}next(n){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?rh:(this.currentObservers=null,o.push(n),new fe(()=>{this.currentObservers=null,Vr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new q;return n.source=this,n}}return e.create=(t,n)=>new Fc(t,n),e})(),Fc=class extends ve{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:rh}};var Pe=class extends ve{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var fh={now(){return(fh.delegate||Date).now()},delegate:void 0};var Lc=class extends fe{constructor(t,n){super()}schedule(t,n=0){return this}};var ys={setInterval(e,t,...n){let{delegate:r}=ys;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=ys;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Vi=class extends Lc{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return ys.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ys.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Vr(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var ji=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};ji.now=fh.now;var Ui=class extends ji{constructor(t,n=ji.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var hh=new Ui(Vi);var Vc=class extends Vi{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}};var jc=class extends Ui{};var ph=new jc(Vc);var Ke=new q(e=>e.complete());function q_(e){return e&&k(e.schedule)}function K_(e){return e[e.length-1]}function Uc(e){return k(K_(e))?e.pop():void 0}function Zn(e){return q_(K_(e))?e.pop():void 0}function gh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Z_(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function Y_(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Br(e){return this instanceof Br?(this.v=e,this):new Br(e)}function Q_(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(g){return Promise.resolve(g).then(h,d)}}function a(h,g){r[h]&&(i[h]=function(_){return new Promise(function(T,j){o.push([h,_,T,j])>1||c(h,_)})},g&&(i[h]=g(i[h])))}function c(h,g){try{l(r[h](g))}catch(_){f(o[0][3],_)}}function l(h){h.value instanceof Br?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,g){h(g),o.shift(),o.length&&c(o[0][0],o[0][1])}}function J_(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Y_=="function"?Y_(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Bc=e=>e&&typeof e.length=="number"&&typeof e!="function";function $c(e){return k(e?.then)}function Hc(e){return k(e[xi])}function Wc(e){return Symbol.asyncIterator&&k(e?.[Symbol.asyncIterator])}function zc(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function jM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Gc=jM();function qc(e){return k(e?.[Gc])}function Kc(e){return Q_(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Br(n.read());if(i)return yield Br(void 0);yield yield Br(r)}}finally{n.releaseLock()}})}function Yc(e){return k(e?.getReader)}function ye(e){if(e instanceof q)return e;if(e!=null){if(Hc(e))return UM(e);if(Bc(e))return BM(e);if($c(e))return $M(e);if(Wc(e))return X_(e);if(qc(e))return HM(e);if(Yc(e))return WM(e)}throw zc(e)}function UM(e){return new q(t=>{let n=e[xi]();if(k(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function BM(e){return new q(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function $M(e){return new q(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Pc)})}function HM(e){return new q(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function X_(e){return new q(t=>{zM(e,t).catch(n=>t.error(n))})}function WM(e){return X_(Kc(e))}function zM(e,t){var n,r,i,o;return Z_(this,void 0,void 0,function*(){try{for(n=J_(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function Ye(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Qn(e,t=0){return Z((n,r)=>{n.subscribe(K(r,i=>Ye(r,e,()=>r.next(i),t),()=>Ye(r,e,()=>r.complete(),t),i=>Ye(r,e,()=>r.error(i),t)))})}function Jn(e,t=0){return Z((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function eE(e,t){return ye(e).pipe(Jn(t),Qn(t))}function tE(e,t){return ye(e).pipe(Jn(t),Qn(t))}function nE(e,t){return new q(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function rE(e,t){return new q(n=>{let r;return Ye(n,t,()=>{r=e[Gc](),Ye(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>k(r?.return)&&r.return()})}function Zc(e,t){if(!e)throw new Error("Iterable cannot be null");return new q(n=>{Ye(n,t,()=>{let r=e[Symbol.asyncIterator]();Ye(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function iE(e,t){return Zc(Kc(e),t)}function oE(e,t){if(e!=null){if(Hc(e))return eE(e,t);if(Bc(e))return nE(e,t);if($c(e))return tE(e,t);if(Wc(e))return Zc(e,t);if(qc(e))return rE(e,t);if(Yc(e))return iE(e,t)}throw zc(e)}function le(e,t){return t?oE(e,t):ye(e)}function R(...e){let t=Zn(e);return le(e,t)}function Bi(e,t){let n=k(e)?e:()=>e,r=i=>i.error(n());return new q(t?i=>t.schedule(r,0,i):r)}function mh(e){return!!e&&(e instanceof q||k(e.lift)&&k(e.subscribe))}var Cn=Ni(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Y(e,t){return Z((n,r)=>{let i=0;n.subscribe(K(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:GM}=Array;function qM(e,t){return GM(t)?e(...t):e(t)}function Qc(e){return Y(t=>qM(e,t))}var{isArray:KM}=Array,{getPrototypeOf:YM,prototype:ZM,keys:QM}=Object;function Jc(e){if(e.length===1){let t=e[0];if(KM(t))return{args:t,keys:null};if(JM(t)){let n=QM(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function JM(e){return e&&typeof e=="object"&&YM(e)===ZM}function Xc(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function _s(...e){let t=Zn(e),n=Uc(e),{args:r,keys:i}=Jc(e);if(r.length===0)return le([],t);let o=new q(XM(r,t,i?s=>Xc(i,s):ut));return n?o.pipe(Qc(n)):o}function XM(e,t,n=ut){return r=>{sE(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)sE(t,()=>{let l=le(e[c],t),u=!1;l.subscribe(K(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function sE(e,t,n){e?Ye(n,e,t):t()}function aE(e,t,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&t.complete()},h=_=>l<r?g(_):c.push(_),g=_=>{o&&t.next(_),l++;let T=!1;ye(n(_,u++)).subscribe(K(t,j=>{i?.(j),o?h(j):t.next(j)},()=>{T=!0},void 0,()=>{if(T)try{for(l--;c.length&&l<r;){let j=c.shift();s?Ye(t,s,()=>g(j)):g(j)}f()}catch(j){t.error(j)}}))};return e.subscribe(K(t,h,()=>{d=!0,f()})),()=>{a?.()}}function ge(e,t,n=1/0){return k(t)?ge((r,i)=>Y((o,s)=>t(r,o,i,s))(ye(e(r,i))),n):(typeof t=="number"&&(n=t),Z((r,i)=>aE(r,i,e,n)))}function $i(e=1/0){return ge(ut,e)}function cE(){return $i(1)}function Hi(...e){return cE()(le(e,Zn(e)))}function el(e){return new q(t=>{ye(e()).subscribe(t)})}function vh(...e){let t=Uc(e),{args:n,keys:r}=Jc(e),i=new q(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;ye(n[u]).subscribe(K(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Xc(r,a):a),o.complete())}))}});return t?i.pipe(Qc(t)):i}function dt(e,t){return Z((n,r)=>{let i=0;n.subscribe(K(r,o=>e.call(t,o,i++)&&r.next(o)))})}function Dn(e){return Z((t,n)=>{let r=null,i=!1,o;r=t.subscribe(K(n,void 0,void 0,s=>{o=ye(e(s,Dn(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function lE(e,t,n,r,i){return(o,s)=>{let a=n,c=t,l=0;o.subscribe(K(s,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Xn(e,t){return k(t)?ge(e,t,1):ge(e,1)}function er(e){return Z((t,n)=>{let r=!1;t.subscribe(K(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function bn(e){return e<=0?()=>Ke:Z((t,n)=>{let r=0;t.subscribe(K(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function tl(e=eR){return Z((t,n)=>{let r=!1;t.subscribe(K(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function eR(){return new Cn}function Es(e){return Z((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Tn(e,t){let n=arguments.length>=2;return r=>r.pipe(e?dt((i,o)=>e(i,o,r)):ut,bn(1),n?er(t):tl(()=>new Cn))}function Wi(e){return e<=0?()=>Ke:Z((t,n)=>{let r=[];t.subscribe(K(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function yh(e,t){let n=arguments.length>=2;return r=>r.pipe(e?dt((i,o)=>e(i,o,r)):ut,Wi(1),n?er(t):tl(()=>new Cn))}function _h(e,t){return Z(lE(e,t,arguments.length>=2,!0))}function Eh(...e){let t=Zn(e);return Z((n,r)=>{(t?Hi(e,n,t):Hi(e,n)).subscribe(r)})}function _t(e,t){return Z((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(K(r,c=>{i?.unsubscribe();let l=0,u=o++;ye(e(c,u)).subscribe(i=K(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ih(e){return Z((t,n)=>{ye(e).subscribe(K(n,()=>n.complete(),vs)),!n.closed&&t.subscribe(n)})}function De(e,t,n){let r=k(e)||t||n?{next:e,error:t,complete:n}:e;return r?Z((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(K(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):ut}var Th={JSACTION:"jsaction"},Sh={JSACTION:"__jsaction",OWNER:"__owner"},hE={};function tR(e){return e[Sh.JSACTION]}function uE(e,t){e[Sh.JSACTION]=t}function nR(e){return hE[e]}function rR(e,t){hE[e]=t}var M={CLICK:"click",CLICKMOD:"clickmod",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",ERROR:"error",LOAD:"load",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",TOGGLE:"toggle"},iR=[M.MOUSEENTER,M.MOUSELEAVE,"pointerenter","pointerleave"],Yq=[M.CLICK,M.DBLCLICK,M.FOCUSIN,M.FOCUSOUT,M.KEYDOWN,M.KEYUP,M.KEYPRESS,M.MOUSEOVER,M.MOUSEOUT,M.SUBMIT,M.TOUCHSTART,M.TOUCHEND,M.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],oR=[M.FOCUS,M.BLUR,M.ERROR,M.LOAD,M.TOGGLE],Ah=e=>oR.indexOf(e)>=0;function sR(e){return e===M.MOUSEENTER?M.MOUSEOVER:e===M.MOUSELEAVE?M.MOUSEOUT:e===M.POINTERENTER?M.POINTEROVER:e===M.POINTERLEAVE?M.POINTEROUT:e}function aR(e,t,n,r){let i=!1;Ah(t)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return e.addEventListener(t,n,o),{eventType:t,handler:n,capture:i,passive:r}}function cR(e,t){if(e.removeEventListener){let n=typeof t.passive=="boolean"?{capture:t.capture}:t.capture;e.removeEventListener(t.eventType,t.handler,n)}else e.detachEvent&&e.detachEvent(`on${t.eventType}`,t.handler)}function lR(e){e.preventDefault?e.preventDefault():e.returnValue=!1}var dE=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function uR(e){return e.which===2||e.which==null&&e.button===4}function dR(e){return dE&&e.metaKey||!dE&&e.ctrlKey||uR(e)||e.shiftKey}function fR(e,t,n){let r=e.relatedTarget;return(e.type===M.MOUSEOVER&&t===M.MOUSEENTER||e.type===M.MOUSEOUT&&t===M.MOUSELEAVE||e.type===M.POINTEROVER&&t===M.POINTERENTER||e.type===M.POINTEROUT&&t===M.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function hR(e,t){let n={};for(let r in e){if(r==="srcElement"||r==="target")continue;let i=r,o=e[i];typeof o!="function"&&(n[i]=o)}return e.type===M.MOUSEOVER?n.type=M.MOUSEENTER:e.type===M.MOUSEOUT?n.type=M.MOUSELEAVE:e.type===M.POINTEROVER?n.type=M.POINTERENTER:n.type=M.POINTERLEAVE,n.target=n.srcElement=t,n.bubbles=!1,n._originalEvent=e,n}var pR=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),ol=class{element;handlerInfos=[];constructor(t){this.element=t}addEventListener(t,n,r){pR&&(this.element.style.cursor="pointer"),this.handlerInfos.push(aR(this.element,t,n(this.element),r))}cleanUp(){for(let t=0;t<this.handlerInfos.length;t++)cR(this.element,this.handlerInfos[t]);this.handlerInfos=[]}},gR={EVENT_ACTION_SEPARATOR:":"};function tr(e){return e.eventType}function Mh(e,t){e.eventType=t}function rl(e){return e.event}function pE(e,t){e.event=t}function gE(e){return e.targetElement}function mE(e,t){e.targetElement=t}function vE(e){return e.eic}function mR(e,t){e.eic=t}function vR(e){return e.timeStamp}function yR(e,t){e.timeStamp=t}function il(e){return e.eia}function yE(e,t,n){e.eia=[t,n]}function wh(e){e.eia=void 0}function nl(e){return e[1]}function _R(e){return e.eirp}function _E(e,t){e.eirp=t}function EE(e){return e.eir}function IE(e,t){e.eir=t}function wE(e){return{eventType:e.eventType,event:e.event,targetElement:e.targetElement,eic:e.eic,eia:e.eia,timeStamp:e.timeStamp,eirp:e.eirp,eiack:e.eiack,eir:e.eir}}function ER(e,t,n,r,i,o,s,a){return{eventType:e,event:t,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var Ch=class e{eventInfo;constructor(t){this.eventInfo=t}getEventType(){return tr(this.eventInfo)}setEventType(t){Mh(this.eventInfo,t)}getEvent(){return rl(this.eventInfo)}setEvent(t){pE(this.eventInfo,t)}getTargetElement(){return gE(this.eventInfo)}setTargetElement(t){mE(this.eventInfo,t)}getContainer(){return vE(this.eventInfo)}setContainer(t){mR(this.eventInfo,t)}getTimestamp(){return vR(this.eventInfo)}setTimestamp(t){yR(this.eventInfo,t)}getAction(){let t=il(this.eventInfo);if(t)return{name:t[0],element:t[1]}}setAction(t){if(!t){wh(this.eventInfo);return}yE(this.eventInfo,t.name,t.element)}getIsReplay(){return _R(this.eventInfo)}setIsReplay(t){_E(this.eventInfo,t)}getResolved(){return EE(this.eventInfo)}setResolved(t){IE(this.eventInfo,t)}clone(){return new e(wE(this.eventInfo))}},IR={},wR=/\s*;\s*/,CR=M.CLICK,Dh=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:t=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=t,this.clickModSupport=n}resolveEventType(t){this.clickModSupport&&tr(t)===M.CLICK&&dR(rl(t))?Mh(t,M.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(t)}resolveAction(t){EE(t)||(this.populateAction(t,gE(t)),IE(t,!0))}resolveParentAction(t){let n=il(t),r=n&&nl(n);wh(t);let i=r&&this.getParentNode(r);i&&this.populateAction(t,i)}populateAction(t,n){let r=n;for(;r&&r!==vE(t)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,t),!il(t));)r=this.getParentNode(r);let i=il(t);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(t),this.syntheticMouseEventSupport&&(tr(t)===M.MOUSEENTER||tr(t)===M.MOUSELEAVE||tr(t)===M.POINTERENTER||tr(t)===M.POINTERLEAVE)))if(fR(rl(t),tr(t),nl(i))){let o=hR(rl(t),nl(i));pE(t,o),mE(t,nl(i))}else wh(t)}getParentNode(t){let n=t[Sh.OWNER];if(n)return n;let r=t.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(t,n){let r=this.parseActions(t),i=r[tr(n)];i!==void 0&&yE(n,i,t),this.a11yClickSupport&&this.populateClickOnlyAction(t,n,r)}parseActions(t){let n=tR(t);if(!n){let r=t.getAttribute(Th.JSACTION);if(!r)n=IR,uE(t,n);else{if(n=nR(r),!n){n={};let i=r.split(wR);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(gR.EVENT_ACTION_SEPARATOR),c=a!==-1,l=c?s.substr(0,a).trim():CR,u=c?s.substr(a+1).trim():s;n[l]=u}rR(r,n)}uE(t,n)}}return n}addA11yClickSupport(t,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=t,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},CE=function(e){return e[e.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",e}(CE||{}),bh=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(t,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=t,this.actionResolver=n,this.eventReplayer=r}dispatch(t){let n=new Ch(t);this.actionResolver?.resolveEventType(t),this.actionResolver?.resolveAction(t);let r=n.getAction();if(r&&DR(r.element,n)&&lR(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(t){this.replayEventInfoWrappers.push(t),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function DR(e,t){return e.tagName==="A"&&(t.getEventType()===M.CLICK||t.getEventType()===M.CLICKMOD)}var DE=Symbol.for("propagationStopped"),Rh={REPLAY:101};var bR="`preventDefault` called during event replay.";var TR="`composedPath` called during event replay.",sl=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(t,n=!0){this.dispatchDelegate=t,this.clickModSupport=n,this.actionResolver=new Dh({clickModSupport:n}),this.dispatcher=new bh(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(t){this.dispatcher.dispatch(t)}dispatchToDelegate(t){for(t.getIsReplay()&&MR(t),SR(t);t.getAction();){if(RR(t),Ah(t.getEventType())&&t.getAction().element!==t.getTargetElement()||(this.dispatchDelegate(t.getEvent(),t.getAction().name),AR(t)))return;this.actionResolver.resolveParentAction(t.eventInfo)}}};function SR(e){let t=e.getEvent(),n=e.getEvent().stopPropagation.bind(t),r=()=>{t[DE]=!0,n()};$r(t,"stopPropagation",r),$r(t,"stopImmediatePropagation",r)}function AR(e){return!!e.getEvent()[DE]}function MR(e){let t=e.getEvent(),n=e.getTargetElement(),r=t.preventDefault.bind(t);$r(t,"target",n),$r(t,"eventPhase",Rh.REPLAY),$r(t,"preventDefault",()=>{throw r(),new Error(bR+"")}),$r(t,"composedPath",()=>{throw new Error(TR+"")})}function RR(e){let t=e.getEvent(),n=e.getAction()?.element;n&&$r(t,"currentTarget",n,{configurable:!0})}function $r(e,t,n,{configurable:r=!1}={}){Object.defineProperty(e,t,{value:n,configurable:r})}function bE(e,t){e.ecrd(n=>{t.dispatch(n)},CE.I_AM_THE_JSACTION_FRAMEWORK)}function NR(e){return e?.q??[]}function OR(e){e&&(fE(e.c,e.et,e.h),fE(e.c,e.etc,e.h,!0))}function fE(e,t,n,r){for(let i=0;i<t.length;i++)e.removeEventListener(t[i],n,r)}var kR=!1,TE=(()=>{class e{static MOUSE_SPECIAL_SUPPORT=kR;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=ER(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){_E(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!e.MOUSE_SPECIAL_SUPPORT&&iR.indexOf(n)>=0)return;let o=(a,c,l)=>{this.handleEvent(a,c,l)};this.eventHandlers[n]=o;let s=sR(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>c=>{o(n,c,a)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),OR(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=wE(i);Mh(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return e})();function SE(e,t=window){return NR(t._ejsas?.[e])}function Nh(e,t=window){t._ejsas&&(t._ejsas[e]=void 0)}var AI="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",C=class extends Error{code;constructor(t,n){super(Kl(t,n)),this.code=t}};function PR(e){return`NG0${Math.abs(e)}`}function Kl(e,t){return`${PR(e)}${t?": "+t:""}`}var MI=Symbol("InputSignalNode#UNSET"),xR=U(v({},Rc),{transformFn:void 0,applyValueToInputSignal(e,t){gs(e,t)}});function RI(e,t){let n=Object.create(xR);n.value=e,n.transformFn=t?.transform;function r(){if(ps(n),n.value===MI){let i=null;throw new C(-950,i)}return n.value}return r[yt]=n,r}function Ns(e){return{toString:e}.toString()}var al="__parameters__";function FR(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function NI(e,t,n){return Ns(()=>{let r=FR(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(al)?c[al]:Object.defineProperty(c,al,{value:[]})[al];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var _l=globalThis;function ie(e){for(let t in e)if(e[t]===ie)return t;throw Error("Could not find renamed property on target object.")}function LR(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ze(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Ze).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function AE(e,t){return e?t?`${e} ${t}`:e:t||""}var VR=ie({__forward_ref__:ie});function Qr(e){return e.__forward_ref__=Qr,e.toString=function(){return Ze(this())},e}function ze(e){return OI(e)?e():e}function OI(e){return typeof e=="function"&&e.hasOwnProperty(VR)&&e.__forward_ref__===Qr}function b(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function On(e){return{providers:e.providers||[],imports:e.imports||[]}}function Yl(e){return ME(e,PI)||ME(e,xI)}function kI(e){return Yl(e)!==null}function ME(e,t){return e.hasOwnProperty(t)?e[t]:null}function jR(e){let t=e&&(e[PI]||e[xI]);return t||null}function RE(e){return e&&(e.hasOwnProperty(NE)||e.hasOwnProperty(UR))?e[NE]:null}var PI=ie({\u0275prov:ie}),NE=ie({\u0275inj:ie}),xI=ie({ngInjectableDef:ie}),UR=ie({ngInjectorDef:ie}),w=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=b({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function FI(e){return e&&!!e.\u0275providers}var BR=ie({\u0275cmp:ie}),$R=ie({\u0275dir:ie}),HR=ie({\u0275pipe:ie}),WR=ie({\u0275mod:ie}),El=ie({\u0275fac:ie}),Ds=ie({__NG_ELEMENT_ID__:ie}),OE=ie({__NG_ENV_ID__:ie});function Zl(e){return typeof e=="string"?e:e==null?"":String(e)}function zR(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Zl(e)}function LI(e,t){throw new C(-200,e)}function Fp(e,t){throw new C(-201,!1)}var B=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(B||{}),Yh;function VI(){return Yh}function Et(e){let t=Yh;return Yh=e,t}function jI(e,t,n){let r=Yl(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&B.Optional)return null;if(t!==void 0)return t;Fp(e,"Injector")}var GR={},Hr=GR,Zh="__NG_DI_FLAG__",Il=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=n;return this.injector.get(t,r.optional?Nc:Hr,r)}},wl="ngTempTokenPath",qR="ngTokenPath",KR=/\n/gm,YR="\u0275",kE="__source";function ZR(e,t=B.Default){if(ms()===void 0)throw new C(-203,!1);if(ms()===null)return jI(e,void 0,t);{let n=ms(),r;return n instanceof Il?r=n.injector:r=n,r.get(e,t&B.Optional?null:void 0,t)}}function N(e,t=B.Default){return(VI()||ZR)(ze(e),t)}function m(e,t=B.Default){return N(e,Ql(t))}function Ql(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Qh(e){let t=[];for(let n=0;n<e.length;n++){let r=ze(e[n]);if(Array.isArray(r)){if(r.length===0)throw new C(900,!1);let i,o=B.Default;for(let s=0;s<r.length;s++){let a=r[s],c=QR(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(N(i,o))}else t.push(N(r))}return t}function UI(e,t){return e[Zh]=t,e.prototype[Zh]=t,e}function QR(e){return e[Zh]}function JR(e,t,n,r){let i=e[wl];throw t[kE]&&i.unshift(t[kE]),e.message=XR(`
`+e.message,i,n,r),e[qR]=i,e[wl]=null,e}function XR(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==YR?e.slice(2):e;let i=Ze(t);if(Array.isArray(t))i=t.map(Ze).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ze(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(KR,`
  `)}`}var Xe=UI(NI("Optional"),8);var eN=UI(NI("SkipSelf"),4);function eo(e,t){let n=e.hasOwnProperty(El);return n?e[El]:null}function Lp(e,t){e.forEach(n=>Array.isArray(n)?Lp(n,t):t(n))}function BI(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Cl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function tN(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function nN(e,t,n){let r=Os(e,t);return r>=0?e[r|1]=n:(r=~r,tN(e,r,t,n)),r}function Oh(e,t){let n=Os(e,t);if(n>=0)return e[n|1]}function Os(e,t){return rN(e,t,1)}function rN(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var zr={},It=[],rr=new w(""),$I=new w("",-1),HI=new w(""),Dl=class{get(t,n=Hr){if(n===Hr){let r=new Error(`NullInjectorError: No provider for ${Ze(t)}!`);throw r.name="NullInjectorError",r}return n}};function WI(e,t){let n=e[WR]||null;if(!n&&t===!0)throw new Error(`Type ${Ze(e)} does not have '\u0275mod' property.`);return n}function ir(e){return e[BR]||null}function zI(e){return e[$R]||null}function GI(e){return e[HR]||null}function et(e){return{\u0275providers:e}}function iN(...e){return{\u0275providers:Vp(!0,e),\u0275fromNgModule:!0}}function Vp(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return Lp(t,s=>{let a=s;Jh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&qI(i,o),n}function qI(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];jp(i,o=>{t(o,r)})}}function Jh(e,t,n,r){if(e=ze(e),!e)return!1;let i=null,o=RE(e),s=!o&&ir(e);if(!o&&!s){let c=e.ngModule;if(o=RE(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Jh(l,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Lp(o.imports,u=>{Jh(u,t,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&qI(l,t)}if(!a){let l=eo(i)||(()=>new i);t({provide:i,useFactory:l,deps:It},i),t({provide:HI,useValue:i,multi:!0},i),t({provide:rr,useValue:()=>N(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;jp(c,u=>{t(u,l)})}}else return!1;return i!==e&&e.providers!==void 0}function jp(e,t){for(let n of e)FI(n)&&(n=n.\u0275providers),Array.isArray(n)?jp(n,t):t(n)}var oN=ie({provide:String,useValue:ie});function KI(e){return e!==null&&typeof e=="object"&&oN in e}function sN(e){return!!(e&&e.useExisting)}function aN(e){return!!(e&&e.useFactory)}function to(e){return typeof e=="function"}function cN(e){return!!e.useClass}var Jl=new w(""),fl={},PE={},kh;function Up(){return kh===void 0&&(kh=new Dl),kh}var xe=class{},bs=class extends xe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,ep(t,s=>this.processProvider(s)),this.records.set($I,zi(void 0,this)),i.has("environment")&&this.records.set(xe,zi(void 0,this));let o=this.records.get(Jl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(HI,It,B.Self))}retrieve(t,n){let r=n;return this.get(t,r.optional?Nc:Hr,r)}destroy(){ws(this),this._destroyed=!0;let t=G(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),G(t)}}onDestroy(t){return ws(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){ws(this);let n=wn(this),r=Et(void 0),i;try{return t()}finally{wn(n),Et(r)}}get(t,n=Hr,r=B.Default){if(ws(this),t.hasOwnProperty(OE))return t[OE](this);r=Ql(r);let i,o=wn(this),s=Et(void 0);try{if(!(r&B.SkipSelf)){let c=this.records.get(t);if(c===void 0){let l=hN(t)&&Yl(t);l&&this.injectableDefInScope(l)?c=zi(Xh(t),fl):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c,r)}let a=r&B.Self?Up():this.parent;return n=r&B.Optional&&n===Hr?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[wl]=a[wl]||[]).unshift(Ze(t)),o)throw a;return JR(a,t,"R3InjectorError",this.source)}else throw a}finally{Et(s),wn(o)}}resolveInjectorInitializers(){let t=G(null),n=wn(this),r=Et(void 0),i;try{let o=this.get(rr,It,B.Self);for(let s of o)s()}finally{wn(n),Et(r),G(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Ze(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=ze(t);let n=to(t)?t:ze(t&&t.provide),r=uN(t);if(!to(t)&&t.multi===!0){let i=this.records.get(n);i||(i=zi(void 0,fl,!0),i.factory=()=>Qh(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=G(null);try{return n.value===PE?LI(Ze(t)):n.value===fl&&(n.value=PE,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&fN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{G(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=ze(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Xh(e){let t=Yl(e),n=t!==null?t.factory:eo(e);if(n!==null)return n;if(e instanceof w)throw new C(204,!1);if(e instanceof Function)return lN(e);throw new C(204,!1)}function lN(e){if(e.length>0)throw new C(204,!1);let n=jR(e);return n!==null?()=>n.factory(e):()=>new e}function uN(e){if(KI(e))return zi(void 0,e.useValue);{let t=YI(e);return zi(t,fl)}}function YI(e,t,n){let r;if(to(e)){let i=ze(e);return eo(i)||Xh(i)}else if(KI(e))r=()=>ze(e.useValue);else if(aN(e))r=()=>e.useFactory(...Qh(e.deps||[]));else if(sN(e))r=(i,o)=>N(ze(e.useExisting),o!==void 0&&o&B.Optional?B.Optional:void 0);else{let i=ze(e&&(e.useClass||e.provide));if(dN(e))r=()=>new i(...Qh(e.deps));else return eo(i)||Xh(i)}return r}function ws(e){if(e.destroyed)throw new C(205,!1)}function zi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function dN(e){return!!e.deps}function fN(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function hN(e){return typeof e=="function"||typeof e=="object"&&e instanceof w}function ep(e,t){for(let n of e)Array.isArray(n)?ep(n,t):n&&FI(n)?ep(n.\u0275providers,t):t(n)}function Le(e,t){let n;e instanceof bs?(ws(e),n=e):n=new Il(e);let r,i=wn(n),o=Et(void 0);try{return t()}finally{wn(i),Et(o)}}function ZI(){return VI()!==void 0||ms()!=null}function Xl(e){if(!ZI())throw new C(-203,!1)}function pN(e){return typeof e=="function"}var pt=0,P=1,x=2,Me=3,Rt=4,kt=5,Zt=6,bl=7,Qe=8,Qt=9,An=10,oe=11,Ts=12,xE=13,co=14,Ct=15,no=16,Gi=17,ro=18,eu=19,QI=20,nr=21,Ph=22,Tl=23,wt=24,Zi=25,Fe=26,JI=1,Mn=6,Rn=7,Sl=8,Al=9,ht=10;function Nt(e){return Array.isArray(e)&&typeof e[JI]=="object"}function nn(e){return Array.isArray(e)&&e[JI]===!0}function XI(e){return(e.flags&4)!==0}function Jr(e){return e.componentOffset>-1}function Bp(e){return(e.flags&1)===1}function Jt(e){return!!e.template}function Ss(e){return(e[x]&512)!==0}function Xr(e){return(e[x]&256)===256}var tp=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function ew(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var sr=(()=>{let e=()=>tw;return e.ngInherit=!0,e})();function tw(e){return e.type.prototype.ngOnChanges&&(e.setInput=mN),gN}function gN(){let e=rw(this),t=e?.current;if(t){let n=e.previous;if(n===zr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function mN(e,t,n,r,i){let o=this.declaredInputs[r],s=rw(e)||vN(e,{previous:zr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new tp(l&&l.currentValue,n,c===zr),ew(e,t,i,n)}var nw="__ngSimpleChanges__";function rw(e){return e[nw]||null}function vN(e,t){return e[nw]=t}var FE=null;var ee=function(e,t=null,n){FE?.(e,t,n)},yN="svg",_N="math";function Ot(e){for(;Array.isArray(e);)e=e[pt];return e}function iw(e,t){return Ot(t[e])}function Pt(e,t){return Ot(t[e.index])}function tu(e,t){return e.data[t]}function Xt(e,t){let n=t[e];return Nt(n)?n:n[pt]}function $p(e){return(e[x]&128)===128}function EN(e){return nn(e[Me])}function Ml(e,t){return t==null?null:e[t]}function ow(e){e[Gi]=0}function sw(e){e[x]&1024||(e[x]|=1024,$p(e)&&ks(e))}function IN(e,t){for(;e>0;)t=t[co],e--;return t}function nu(e){return!!(e[x]&9216||e[wt]?.dirty)}function np(e){e[An].changeDetectionScheduler?.notify(8),e[x]&64&&(e[x]|=1024),nu(e)&&ks(e)}function ks(e){e[An].changeDetectionScheduler?.notify(0);let t=Gr(e);for(;t!==null&&!(t[x]&8192||(t[x]|=8192,!$p(t)));)t=Gr(t)}function aw(e,t){if(Xr(e))throw new C(911,!1);e[nr]===null&&(e[nr]=[]),e[nr].push(t)}function wN(e,t){if(e[nr]===null)return;let n=e[nr].indexOf(t);n!==-1&&e[nr].splice(n,1)}function Gr(e){let t=e[Me];return nn(t)?t[Me]:t}function cw(e){return e[bl]??=[]}function lw(e){return e.cleanup??=[]}var $={lFrame:yw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var rp=!1;function CN(){return $.lFrame.elementDepthCount}function DN(){$.lFrame.elementDepthCount++}function bN(){$.lFrame.elementDepthCount--}function uw(){return $.bindingsEnabled}function Ps(){return $.skipHydrationRootTNode!==null}function TN(e){return $.skipHydrationRootTNode===e}function SN(e){$.skipHydrationRootTNode=e}function AN(){$.skipHydrationRootTNode=null}function re(){return $.lFrame.lView}function tt(){return $.lFrame.tView}function Hp(e){return $.lFrame.contextLView=e,e[Qe]}function Wp(e){return $.lFrame.contextLView=null,e}function nt(){let e=dw();for(;e!==null&&e.type===64;)e=e.parent;return e}function dw(){return $.lFrame.currentTNode}function MN(){let e=$.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function xs(e,t){let n=$.lFrame;n.currentTNode=e,n.isParent=t}function fw(){return $.lFrame.isParent}function RN(){$.lFrame.isParent=!1}function hw(){return rp}function LE(e){let t=rp;return rp=e,t}function pw(){let e=$.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function NN(e){return $.lFrame.bindingIndex=e}function ru(){return $.lFrame.bindingIndex++}function ON(e){let t=$.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function kN(){return $.lFrame.inI18n}function PN(e,t){let n=$.lFrame;n.bindingIndex=n.bindingRootIndex=e,ip(t)}function xN(){return $.lFrame.currentDirectiveIndex}function ip(e){$.lFrame.currentDirectiveIndex=e}function FN(e){let t=$.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function gw(e){$.lFrame.currentQueryIndex=e}function LN(e){let t=e[P];return t.type===2?t.declTNode:t.type===1?e[kt]:null}function mw(e,t,n){if(n&B.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&B.Host);)if(i=LN(o),i===null||(o=o[co],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=$.lFrame=vw();return r.currentTNode=t,r.lView=e,!0}function zp(e){let t=vw(),n=e[P];$.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function vw(){let e=$.lFrame,t=e===null?null:e.child;return t===null?yw(e):t}function yw(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function _w(){let e=$.lFrame;return $.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Ew=_w;function Gp(){let e=_w();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function VN(e){return($.lFrame.contextLView=IN(e,$.lFrame.contextLView))[Qe]}function lo(){return $.lFrame.selectedIndex}function qr(e){$.lFrame.selectedIndex=e}function iu(){let e=$.lFrame;return tu(e.tView,e.selectedIndex)}function Iw(){return $.lFrame.currentNamespace}var ww=!0;function qp(){return ww}function ar(e){ww=e}function jN(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=tw(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function Cw(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function hl(e,t,n){Dw(e,t,3,n)}function pl(e,t,n,r){(e[x]&3)===n&&Dw(e,t,n,r)}function xh(e,t){let n=e[x];(n&3)===t&&(n&=16383,n+=1,e[x]=n)}function Dw(e,t,n,r){let i=r!==void 0?e[Gi]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[Gi]+=65536),(a<o||o==-1)&&(UN(e,n,t,c),e[Gi]=(e[Gi]&4294901760)+c+2),c++}function VE(e,t){ee(4,e,t);let n=G(null);try{t.call(e)}finally{G(n),ee(5,e,t)}}function UN(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[x]>>14<e[Gi]>>16&&(e[x]&3)===t&&(e[x]+=16384,VE(a,o)):VE(a,o)}var Qi=-1,Kr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function BN(e){return(e.flags&8)!==0}function $N(e){return(e.flags&16)!==0}function HN(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];WN(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function bw(e){return e===3||e===4||e===6}function WN(e){return e.charCodeAt(0)===64}function As(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?jE(e,n,i,null,t[++r]):jE(e,n,i,null,null))}}return e}function jE(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function Tw(e){return e!==Qi}function Rl(e){return e&32767}function zN(e){return e>>16}function Nl(e,t){let n=zN(e),r=t;for(;n>0;)r=r[co],n--;return r}var op=!0;function UE(e){let t=op;return op=e,t}var GN=256,Sw=GN-1,Aw=5,qN=0,Yt={};function KN(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ds)&&(r=n[Ds]),r==null&&(r=n[Ds]=qN++);let i=r&Sw,o=1<<i;t.data[e+(i>>Aw)]|=o}function Ol(e,t){let n=Mw(e,t);if(n!==-1)return n;let r=t[P];r.firstCreatePass&&(e.injectorIndex=t.length,Fh(r.data,e),Fh(t,null),Fh(r.blueprint,null));let i=Kp(e,t),o=e.injectorIndex;if(Tw(i)){let s=Rl(i),a=Nl(i,t),c=a[P].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function Fh(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Mw(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Kp(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=Pw(i),r===null)return Qi;if(n++,i=i[co],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Qi}function sp(e,t,n){KN(e,t,n)}function YN(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(bw(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function Rw(e,t,n){if(n&B.Optional||e!==void 0)return e;Fp(t,"NodeInjector")}function Nw(e,t,n,r){if(n&B.Optional&&r===void 0&&(r=null),(n&(B.Self|B.Host))===0){let i=e[Qt],o=Et(void 0);try{return i?i.get(t,r,n&B.Optional):jI(t,r,n&B.Optional)}finally{Et(o)}}return Rw(r,t,n)}function Ow(e,t,n,r=B.Default,i){if(e!==null){if(t[x]&2048&&!(r&B.Self)){let s=eO(e,t,n,r,Yt);if(s!==Yt)return s}let o=kw(e,t,n,r,Yt);if(o!==Yt)return o}return Nw(t,n,r,i)}function kw(e,t,n,r,i){let o=JN(n);if(typeof o=="function"){if(!mw(t,e,r))return r&B.Host?Rw(i,n,r):Nw(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&B.Optional))Fp(n);else return s}finally{Ew()}}else if(typeof o=="number"){let s=null,a=Mw(e,t),c=Qi,l=r&B.Host?t[Ct][kt]:null;for((a===-1||r&B.SkipSelf)&&(c=a===-1?Kp(e,t):t[a+8],c===Qi||!$E(r,!1)?a=-1:(s=t[P],a=Rl(c),t=Nl(c,t)));a!==-1;){let u=t[P];if(BE(o,a,u.data)){let d=ZN(a,t,n,s,r,l);if(d!==Yt)return d}c=t[a+8],c!==Qi&&$E(r,t[P].data[a+8]===l)&&BE(o,a,t)?(s=u,a=Rl(c),t=Nl(c,t)):a=-1}}return i}function ZN(e,t,n,r,i,o){let s=t[P],a=s.data[e+8],c=r==null?Jr(a)&&op:r!=s&&(a.type&3)!==0,l=i&B.Host&&o===a,u=QN(a,s,n,c,l);return u!==null?kl(t,s,u,a,i):Yt}function QN(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let g=s[h];if(h<c&&n===g||h>=c&&g.type===n)return h}if(i){let h=s[c];if(h&&Jt(h)&&h.type===n)return c}return null}function kl(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof Kr){let a=o;a.resolving&&LI(zR(s[n]));let c=UE(a.canSeeViewProviders);a.resolving=!0;let l,u=a.injectImpl?Et(a.injectImpl):null,d=mw(e,r,B.Default);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&jN(n,s[n],t)}finally{u!==null&&Et(u),UE(c),a.resolving=!1,Ew()}}return o}function JN(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Ds)?e[Ds]:void 0;return typeof t=="number"?t>=0?t&Sw:XN:t}function BE(e,t,n){let r=1<<e;return!!(n[t+(e>>Aw)]&r)}function $E(e,t){return!(e&B.Self)&&!(e&B.Host&&t)}var Wr=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Ow(this._tNode,this._lView,t,Ql(r),n)}};function XN(){return new Wr(nt(),re())}function uo(e){return Ns(()=>{let t=e.prototype.constructor,n=t[El]||ap(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[El]||ap(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ap(e){return OI(e)?()=>{let t=ap(ze(e));return t&&t()}:eo(e)}function eO(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[x]&2048&&!Ss(s);){let a=kw(o,s,n,r|B.Self,Yt);if(a!==Yt)return a;let c=o.parent;if(!c){let l=s[QI];if(l){let u=l.get(n,Yt,r);if(u!==Yt)return u}c=Pw(s),s=s[co]}o=c}return i}function Pw(e){let t=e[P],n=t.type;return n===2?t.declTNode:n===1?e[kt]:null}function Yp(e){return YN(nt(),e)}function HE(e,t=null,n=null,r){let i=xw(e,t,n,r);return i.resolveInjectorInitializers(),i}function xw(e,t=null,n=null,r,i=new Set){let o=[n||It,iN(e)];return r=r||(typeof e=="object"?void 0:Ze(e)),new bs(o,t||Up(),r||null,i)}var he=class e{static THROW_IF_NOT_FOUND=Hr;static NULL=new Dl;static create(t,n){if(Array.isArray(t))return HE({name:""},n,t,"");{let r=t.name??"";return HE({name:r},t.parent,t.providers,r)}}static \u0275prov=b({token:e,providedIn:"any",factory:()=>N($I)});static __NG_ELEMENT_ID__=-1};var tO=new w("");tO.__NG_ELEMENT_ID__=e=>{let t=nt();if(t===null)throw new C(204,!1);if(t.type&2)return t.value;if(e&B.Optional)return null;throw new C(204,!1)};var Fw=!1,fo=(()=>{class e{static __NG_ELEMENT_ID__=nO;static __NG_ENV_ID__=n=>n}return e})(),cp=class extends fo{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let n=this._lView;return Xr(n)?(t(),()=>{}):(aw(n,t),()=>wN(n,t))}};function nO(){return new cp(re())}var Yr=class{},ou=new w("",{providedIn:"root",factory:()=>!1});var Lw=new w(""),Vw=new w(""),kn=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Pe(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=b({token:e,providedIn:"root",factory:()=>new e})}return e})(),Fs=(()=>{class e{internalPendingTasks=m(kn);scheduler=m(Yr);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return p(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=b({token:e,providedIn:"root",factory:()=>new e})}return e})(),lp=class extends ve{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,ZI()&&(this.destroyRef=m(fo,{optional:!0})??void 0,this.pendingTasks=m(kn,{optional:!0})??void 0)}emit(t){let n=G(null);try{super.next(t)}finally{G(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof fe&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},me=lp;function Pl(...e){}function jw(e){let t,n;function r(){e=Pl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function WE(e){return queueMicrotask(()=>e()),()=>{e=Pl}}var Zp="isAngularZone",xl=Zp+"_ID",rO=0,Q=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new me(!1);onMicrotaskEmpty=new me(!1);onStable=new me(!1);onError=new me(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Fw}=t;if(typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,sO(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Zp)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new C(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,iO,Pl,Pl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},iO={};function Qp(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function oO(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){jw(()=>{e.callbackScheduled=!1,up(e),e.isCheckStableRunning=!0,Qp(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),up(e)}function sO(e){let t=()=>{oO(e)},n=rO++;e._inner=e._inner.fork({name:"angular",properties:{[Zp]:!0,[xl]:n,[xl+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(aO(c))return r.invokeTask(o,s,a,c);try{return zE(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),GE(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return zE(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!cO(c)&&t(),GE(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,up(e),Qp(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function up(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function zE(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function GE(e){e._nesting--,Qp(e)}var dp=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new me;onMicrotaskEmpty=new me;onStable=new me;onError=new me;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function aO(e){return Uw(e,"__ignore_ng_zone__")}function cO(e){return Uw(e,"__scheduler_tick__")}function Uw(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var en=class{_console=console;handleError(t){this._console.error("ERROR",t)}},lO=new w("",{providedIn:"root",factory:()=>{let e=m(Q),t=m(en);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function qE(e,t){return RI(e,t)}function uO(e){return RI(MI,e)}var Bw=(qE.required=uO,qE);function dO(){return su(nt(),re())}function su(e,t){return new Pn(Pt(e,t))}var Pn=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=dO}return e})();function fO(e){return typeof e=="function"&&e[yt]!==void 0}function ei(e,t){let n=Xf(e,t?.equal),r=n[yt];return n.set=i=>gs(r,i),n.update=i=>eh(r,i),n.asReadonly=hO.bind(n),n}function hO(){let e=this[yt];if(e.readonlyFn===void 0){let t=()=>this();t[yt]=e,e.readonlyFn=t}return e.readonlyFn}function $w(e){return fO(e)&&typeof e.set=="function"}var pO="ngSkipHydration",gO="ngskiphydration";function Hw(e){let t=e.mergedAttrs;if(t===null)return!1;for(let n=0;n<t.length;n+=2){let r=t[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===gO)return!0}return!1}function Ww(e){return e.hasAttribute(pO)}function Fl(e){return(e.flags&128)===128}function mO(e){if(Fl(e))return!0;let t=e.parent;for(;t;){if(Fl(e)||Hw(t))return!0;t=t.parent}return!1}var zw=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(zw||{}),Gw=new Map,vO=0;function yO(){return vO++}function _O(e){Gw.set(e[eu],e)}function fp(e){Gw.delete(e[eu])}var KE="__ngContext__";function Ls(e,t){Nt(t)?(e[KE]=t[eu],_O(t)):e[KE]=t}function qw(e){return Yw(e[Ts])}function Kw(e){return Yw(e[Rt])}function Yw(e){for(;e!==null&&!nn(e);)e=e[Rt];return e}var hp;function Zw(e){hp=e}function au(){if(hp!==void 0)return hp;if(typeof document<"u")return document;throw new C(210,!1)}var Sn=new w("",{providedIn:"root",factory:()=>EO}),EO="ng",Jp=new w(""),cr=new w("",{providedIn:"platform",factory:()=>"unknown"});var Xp=new w("",{providedIn:"root",factory:()=>au().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function IO(){let e=new ho;return e.store=wO(au(),m(Sn)),e}var ho=(()=>{class e{static \u0275prov=b({token:e,providedIn:"root",factory:IO});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();function wO(e,t){let n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}var Qw="h",Jw="b",CO="f",DO="n",bO="e",TO="t",eg="c",Xw="x",Ll="r",SO="i",AO="n",eC="d";var MO="di",RO="s",NO="p";var cl=new w(""),tC=!1,nC=new w("",{providedIn:"root",factory:()=>tC});var rC=new w(""),OO=!1,kO=new w(""),YE=new w("",{providedIn:"root",factory:()=>new Map}),tg=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(tg||{}),po=new w(""),ZE=new Set;function rn(e){ZE.has(e)||(ZE.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var iC=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=PO}return e})();function PO(){return new iC(re(),nt())}var qi=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(qi||{}),oC=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=b({token:e,providedIn:"root",factory:()=>new e})}return e})(),xO=[qi.EarlyRead,qi.Write,qi.MixedReadWrite,qi.Read],FO=(()=>{class e{ngZone=m(Q);scheduler=m(Yr);errorHandler=m(en,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){m(po,{optional:!0})}execute(){let n=this.sequences.size>0;n&&ee(16),this.executing=!0;for(let r of xO)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&ee(17)}register(n){let{view:r}=n;r!==void 0?((r[Zi]??=[]).push(n),ks(r),r[x]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(tg.AFTER_NEXT_RENDER,n):n()}static \u0275prov=b({token:e,providedIn:"root",factory:()=>new e})}return e})(),pp=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,i,o,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Zi];t&&(this.view[Zi]=t.filter(n=>n!==this))}};function cu(e,t){!t?.injector&&Xl(cu);let n=t?.injector??m(he);return rn("NgAfterNextRender"),VO(e,n,t,!0)}function LO(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function VO(e,t,n,r){let i=t.get(oC);i.impl??=t.get(FO);let o=t.get(po,null,{optional:!0}),s=n?.phase??qi.MixedReadWrite,a=n?.manualCleanup!==!0?t.get(fo):null,c=t.get(iC,null,{optional:!0}),l=new pp(i.impl,LO(e,s),c?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var ft=function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e}(ft||{}),QE=0,jO=1,be=function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}(be||{});var UO=0,lu=1;var BO=4,$O=5;var HO=7,Ji=8,WO=9,sC=function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e}(sC||{});function gl(e,t){let n=GO(e),r=t[n];if(r!==null){for(let i of r)i();t[n]=null}}function zO(e){gl(1,e),gl(0,e),gl(2,e)}function GO(e){let t=BO;return e===1?t=$O:e===2&&(t=WO),t}function aC(e){return e+1}function Vs(e,t){let n=e[P],r=aC(t.index);return e[r]}function uu(e,t){let n=aC(t.index);return e.data[n]}function qO(e,t,n){let r=t[P],i=uu(r,n);switch(e){case be.Complete:return i.primaryTmplIndex;case be.Loading:return i.loadingTmplIndex;case be.Error:return i.errorTmplIndex;case be.Placeholder:return i.placeholderTmplIndex;default:return null}}function JE(e,t){return t===be.Placeholder?e.placeholderBlockConfig?.[QE]??null:t===be.Loading?e.loadingBlockConfig?.[QE]??null:null}function KO(e){return e.loadingBlockConfig?.[jO]??null}function XE(e,t){if(!e||e.length===0)return t;let n=new Set(e);for(let r of t)n.add(r);return e.length===n.size?e:Array.from(n)}function YO(e,t){let n=t.primaryTmplIndex+Fe;return tu(e,n)}var du="ngb";var ZO=(e,t,n)=>{let r=e,i=r.__jsaction_fns??new Map,o=i.get(t)??[];o.push(n),i.set(t,o),r.__jsaction_fns=i},QO=(e,t)=>{let n=e,r=n.getAttribute(du)??"",i=t.get(r)??new Set;i.has(n)||i.add(n),t.set(r,i)};var JO=e=>{e.removeAttribute(Th.JSACTION),e.removeAttribute(du),e.__jsaction_fns=void 0},XO=new w("",{providedIn:"root",factory:()=>({})});function cC(e,t){let n=t?.__jsaction_fns?.get(e.type);if(!(!n||!t?.isConnected))for(let r of n)r(e)}var ng=new w("");var ek="__nghData__",lC=ek,tk="__nghDeferData__",nk=tk,Lh="ngh",rk="nghm",uC=()=>null;function ik(e,t,n=!1){let r=e.getAttribute(Lh);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,c={};if(r!==""){let u=t.get(ho,null,{optional:!0});u!==null&&(c=u.get(lC,[])[Number(r)])}let l={data:c,firstChild:e.firstChild??null};return n&&(l.firstChild=e,fu(l,0,e.nextSibling)),a?e.setAttribute(Lh,a):e.removeAttribute(Lh),l}function ok(){uC=ik}function dC(e,t,n=!1){return uC(e,t,n)}function sk(e){let t=e._lView;return t[P].type===2?null:(Ss(t)&&(t=t[Fe]),t)}function ak(e){return e.textContent?.replace(/\s/gm,"")}function ck(e){let t=au(),n=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=ak(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(t.createTextNode("")):o.remove()}function fu(e,t,n){e.segmentHeads??={},e.segmentHeads[t]=n}function gp(e,t){return e.segmentHeads?.[t]??null}function lk(e){return e.get(kO,!1,{optional:!0})}function uk(e,t){let n=e.data,r=n[bO]?.[t]??null;return r===null&&n[eg]?.[t]&&(r=rg(e,t)),r}function fC(e,t){return e.data[eg]?.[t]??null}function rg(e,t){let n=fC(e,t)??[],r=0;for(let i of n)r+=i[Ll]*(i[Xw]??1);return r}function dk(e){if(typeof e.disconnectedNodes>"u"){let t=e.data[eC];e.disconnectedNodes=t?new Set(t):null}return e.disconnectedNodes}function js(e,t){if(typeof e.disconnectedNodes>"u"){let n=e.data[eC];e.disconnectedNodes=n?new Set(n):null}return!!dk(e)?.has(t)}function fk(e,t){let n=t.get(ng),i=t.get(ho).get(nk,{}),o=!1,s=e,a=null,c=[];for(;!o&&s;){o=n.has(s);let l=n.hydrating.get(s);if(a===null&&l!=null){a=l.promise;break}c.unshift(s),s=i[s][NO]}return{parentBlockPromise:a,hydrationQueue:c}}function Vh(e){return!!e&&e.nodeType===Node.COMMENT_NODE&&e.textContent?.trim()===rk}function eI(e){for(;e&&e.nodeType===Node.TEXT_NODE;)e=e.previousSibling;return e}function hk(e){for(let r of e.body.childNodes)if(Vh(r))return;let t=eI(e.body.previousSibling);if(Vh(t))return;let n=eI(e.head.lastChild);if(!Vh(n))throw new C(-507,!1)}function hC(e,t){let n=e.contentQueries;if(n!==null){let r=G(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];gw(o),a.contentQueries(2,t[s],s)}}}finally{G(r)}}}function mp(e,t,n){gw(0);let r=G(null);try{t(e,n)}finally{G(r)}}function pC(e,t,n){if(XI(t)){let r=G(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{G(r)}}}var tn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(tn||{});var ll;function pk(){if(ll===void 0&&(ll=null,_l.trustedTypes))try{ll=_l.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ll}function tI(e){return pk()?.createScriptURL(e)||e}var Vl=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${AI})`}};function Us(e){return e instanceof Vl?e.changingThisBreaksApplicationSecurity:e}function ig(e,t){let n=gk(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${AI})`)}return n===t}function gk(e){return e instanceof Vl&&e.getTypeName()||null}var mk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function gC(e){return e=String(e),e.match(mk)?e:"unsafe:"+e}var hu=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(hu||{});function on(e){let t=vC();return t?t.sanitize(hu.URL,e)||"":ig(e,"URL")?Us(e):gC(Zl(e))}function vk(e){let t=vC();if(t)return tI(t.sanitize(hu.RESOURCE_URL,e)||"");if(ig(e,"ResourceURL"))return tI(Us(e));throw new C(904,!1)}function yk(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?vk:on}function mC(e,t,n){return yk(t,n)(e)}function vC(){let e=re();return e&&e[An].sanitizer}var _k=/^>|^->|<!--|-->|--!>|<!-$/g,Ek=/(<|>)/g,Ik="\u200B$1\u200B";function wk(e){return e.replace(_k,t=>t.replace(Ek,Ik))}function Ck(e){return e.ownerDocument.body}function yC(e){return e instanceof Function?e():e}function Dk(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var _C="ng-template";function bk(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&Dk(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(og(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function og(e){return e.type===4&&e.value!==_C}function Tk(e,t,n){let r=e.type===4&&!n?_C:e.value;return t===r}function Sk(e,t,n){let r=4,i=e.attrs,o=i!==null?Rk(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!Mt(r)&&!Mt(c))return!1;if(s&&Mt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!Tk(e,c,n)||c===""&&t.length===1){if(Mt(r))return!1;s=!0}}else if(r&8){if(i===null||!bk(e,i,c,n)){if(Mt(r))return!1;s=!0}}else{let l=t[++a],u=Ak(c,i,og(e),n);if(u===-1){if(Mt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Mt(r))return!1;s=!0}}}}return Mt(r)||s}function Mt(e){return(e&1)===0}function Ak(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Nk(t,e)}function Mk(e,t,n=!1){for(let r=0;r<t.length;r++)if(Sk(e,t[r],n))return!0;return!1}function Rk(e){for(let t=0;t<e.length;t++){let n=e[t];if(bw(n))return t}return e.length}function Nk(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function nI(e,t){return e?":not("+t.trim()+")":t}function Ok(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Mt(s)&&(t+=nI(o,i),i=""),r=s,o=o||!Mt(r);n++}return i!==""&&(t+=nI(o,i)),t}function kk(e){return e.map(Ok).join(",")}function Pk(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!Mt(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var xn={};function EC(e,t){return e.createText(t)}function xk(e,t,n){e.setValue(t,n)}function IC(e,t){return e.createComment(wk(t))}function sg(e,t,n){return e.createElement(t,n)}function jl(e,t,n,r,i){e.insertBefore(t,n,r,i)}function wC(e,t,n){e.appendChild(t,n)}function rI(e,t,n,r,i){r!==null?jl(e,t,n,r,i):wC(e,t,n)}function ag(e,t,n){e.removeChild(null,t,n)}function CC(e){e.textContent=""}function Fk(e,t,n){e.setAttribute(t,"style",n)}function Lk(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function DC(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&HN(e,t,r),i!==null&&Lk(e,t,i),o!==null&&Fk(e,t,o)}function cg(e,t,n,r,i,o,s,a,c,l,u){let d=Fe+r,f=d+i,h=Vk(d,f),g=typeof l=="function"?l():l;return h[P]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function Vk(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:xn);return n}function jk(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=cg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function lg(e,t,n,r,i,o,s,a,c,l,u){let d=t.blueprint.slice();return d[pt]=i,d[x]=r|4|128|8|64|1024,(l!==null||e&&e[x]&2048)&&(d[x]|=2048),ow(d),d[Me]=d[co]=e,d[Qe]=n,d[An]=s||e&&e[An],d[oe]=a||e&&e[oe],d[Qt]=c||e&&e[Qt]||null,d[kt]=o,d[eu]=yO(),d[Zt]=u,d[QI]=l,d[Ct]=t.type==2?e[Ct]:d,d}function Uk(e,t,n){let r=Pt(t,e),i=jk(n),o=e[An].rendererFactory,s=ug(e,lg(e,i,null,bC(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function bC(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function TC(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function ug(e,t){return e[Ts]?e[xE][Rt]=t:e[Ts]=t,e[xE]=t,t}function D(e=1){SC(tt(),re(),lo()+e,!1)}function SC(e,t,n,r){if(!r)if((t[x]&3)===3){let o=e.preOrderCheckHooks;o!==null&&hl(t,o,n)}else{let o=e.preOrderHooks;o!==null&&pl(t,o,0,n)}qr(n)}var pu=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(pu||{});function vp(e,t,n,r){let i=G(null);try{let[o,s,a]=e.inputs[n],c=null;(s&pu.SignalBased)!==0&&(c=t[o][yt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,o):ew(t,c,o,r)}finally{G(i)}}function AC(e,t,n,r,i){let o=lo(),s=r&2;try{qr(-1),s&&t.length>Fe&&SC(e,t,Fe,!1),ee(s?2:0,i),n(r,i)}finally{qr(o),ee(s?3:1,i)}}function dg(e,t,n){qk(e,t,n),(n.flags&64)===64&&Kk(e,t,n)}function MC(e,t,n=Pt){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function Bk(e,t,n,r){let o=r.get(nC,tC)||n===tn.ShadowDom,s=e.selectRootElement(t,o);return $k(s),s}function $k(e){RC(e)}var RC=()=>null;function Hk(e){Ww(e)?CC(e):ck(e)}function Wk(){RC=Hk}function zk(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function fg(e,t,n,r,i,o,s,a){if(!a&&pg(t,e,n,r,i)){Jr(t)&&Gk(n,t.index);return}if(t.type&3){let c=Pt(t,n);r=zk(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(c,r,i)}else t.type&12}function Gk(e,t){let n=Xt(t,e);n[x]&16||(n[x]|=64)}function qk(e,t,n){let r=n.directiveStart,i=n.directiveEnd;Jr(n)&&Uk(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Ol(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=kl(t,e,s,n);if(Ls(c,t),o!==null&&Jk(t,s-r,c,a,n,o),Jt(a)){let l=Xt(n.index,t);l[Qe]=kl(t,e,s,n)}}}function Kk(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=xN();try{qr(o);for(let a=r;a<i;a++){let c=e.data[a],l=t[a];ip(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Yk(c,l)}}finally{qr(-1),ip(s)}}function Yk(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function NC(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];Mk(t,o.selectors,!1)&&(r??=[],Jt(o)?r.unshift(o):r.push(o))}return r}function Zk(e,t,n,r,i,o){let s=Pt(e,t);Qk(t[oe],s,o,e.value,n,r,i)}function Qk(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?Zl(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function Jk(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];vp(r,n,c,l)}}function hg(e,t){let n=e[Qt],r=n?n.get(en,null):null;r&&r.handleError(t)}function pg(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=t.data[l];vp(d,n[l],u,i),a=!0}if(o)for(let c of o){let l=n[c],u=t.data[c];vp(u,l,r,i),a=!0}return a}function Xk(e,t){let n=Xt(t,e),r=n[P];eP(r,n);let i=n[pt];i!==null&&n[Zt]===null&&(n[Zt]=dC(i,n[Qt])),ee(18),gg(r,n,n[Qe]),ee(19,n[Qe])}function eP(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function gg(e,t,n){zp(t);try{let r=e.viewQuery;r!==null&&mp(1,r,n);let i=e.template;i!==null&&AC(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[ro]?.finishViewCreation(e),e.staticContentQueries&&hC(e,t),e.staticViewQueries&&mp(2,e.viewQuery,n);let o=e.components;o!==null&&tP(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[x]&=-5,Gp()}}function tP(e,t){for(let n=0;n<t.length;n++)Xk(e,t[n])}function OC(e,t,n,r){let i=G(null);try{let o=t.tView,a=e[x]&4096?4096:16,c=lg(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[no]=l;let u=e[ro];return u!==null&&(c[ro]=u.createEmbeddedView(o)),gg(o,c,n),c}finally{G(i)}}function yp(e,t){return!t||t.firstChild===null||Fl(e)}var nP;function mg(e,t){return nP(e,t)}var Nn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Nn||{});function go(e){return(e.flags&32)===32}function Ki(e,t,n,r,i){if(r!=null){let o,s=!1;nn(r)?o=r:Nt(r)&&(s=!0,r=r[pt]);let a=Ot(r);e===0&&n!==null?i==null?wC(t,n,a):jl(t,n,a,i||null,!0):e===1&&n!==null?jl(t,n,a,i||null,!0):e===2?ag(t,a,s):e===3&&t.destroyNode(a),o!=null&&pP(t,e,o,n,i)}}function rP(e,t){kC(e,t),t[pt]=null,t[kt]=null}function iP(e,t,n,r,i,o){r[pt]=i,r[kt]=t,gu(e,r,n,1,i,o)}function kC(e,t){t[An].changeDetectionScheduler?.notify(9),gu(e,t,t[oe],2,null,null)}function oP(e){let t=e[Ts];if(!t)return jh(e[P],e);for(;t;){let n=null;if(Nt(t))n=t[Ts];else{let r=t[ht];r&&(n=r)}if(!n){for(;t&&!t[Rt]&&t!==e;)Nt(t)&&jh(t[P],t),t=t[Me];t===null&&(t=e),Nt(t)&&jh(t[P],t),n=t&&t[Rt]}t=n}}function vg(e,t){let n=e[Al],r=n.indexOf(t);n.splice(r,1)}function yg(e,t){if(Xr(t))return;let n=t[oe];n.destroyNode&&gu(e,t,n,3,null,null),oP(t)}function jh(e,t){if(Xr(t))return;let n=G(null);try{t[x]&=-129,t[x]|=256,t[wt]&&Zf(t[wt]),aP(e,t),sP(e,t),t[P].type===1&&t[oe].destroy();let r=t[no];if(r!==null&&nn(t[Me])){r!==t[Me]&&vg(r,t);let i=t[ro];i!==null&&i.detachView(e)}fp(t)}finally{G(n)}}function sP(e,t){let n=e.cleanup,r=t[bl];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[bl]=null);let i=t[nr];if(i!==null){t[nr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[Tl];if(o!==null){t[Tl]=null;for(let s of o)s.destroy()}}function aP(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Kr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];ee(4,a,c);try{c.call(a)}finally{ee(5,a,c)}}else{ee(4,i,o);try{o.call(i)}finally{ee(5,i,o)}}}}}function cP(e,t,n){return lP(e,t.parent,n)}function lP(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[pt];if(Jr(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===tn.None||i===tn.Emulated)return null}return Pt(r,n)}function uP(e,t,n){return fP(e,t,n)}function dP(e,t,n){return e.type&40?Pt(e,n):null}var fP=dP,iI;function _g(e,t,n,r){let i=cP(e,r,t),o=t[oe],s=r.parent||t[kt],a=uP(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)rI(o,i,n[c],a,!1);else rI(o,i,n,a,!1);iI!==void 0&&iI(o,r,t,n,i)}function Cs(e,t){if(t!==null){let n=t.type;if(n&3)return Pt(t,e);if(n&4)return _p(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Cs(e,r);{let i=e[t.index];return nn(i)?_p(-1,i):Ot(i)}}else{if(n&128)return Cs(e,t.next);if(n&32)return mg(t,e)()||Ot(e[t.index]);{let r=PC(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Gr(e[Ct]);return Cs(i,r)}else return Cs(e,t.next)}}}return null}function PC(e,t){if(t!==null){let r=e[Ct][kt],i=t.projection;return r.projection[i]}return null}function _p(e,t){let n=ht+e+1;if(n<t.length){let r=t[n],i=r[P].firstChild;if(i!==null)return Cs(r,i)}return t[Rn]}function Eg(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&Ls(Ot(a),r),n.flags|=2),!go(n))if(c&8)Eg(e,t,n.child,r,i,o,!1),Ki(t,e,i,a,o);else if(c&32){let l=mg(n,r),u;for(;u=l();)Ki(t,e,i,u,o);Ki(t,e,i,a,o)}else c&16?hP(e,t,r,n,i,o):Ki(t,e,i,a,o);n=s?n.projectionNext:n.next}}function gu(e,t,n,r,i,o){Eg(n,r,e.firstChild,t,i,o,!1)}function hP(e,t,n,r,i,o){let s=n[Ct],c=s[kt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Ki(t,e,i,u,o)}else{let l=c,u=s[Me];Fl(r)&&(l.flags|=128),Eg(e,t,l,u,i,o,!0)}}function pP(e,t,n,r,i){let o=n[Rn],s=Ot(n);o!==s&&Ki(t,e,r,o,i);for(let a=ht;a<n.length;a++){let c=n[a];gu(c[P],c,e,t,r,o)}}function gP(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Nn.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Nn.Important),e.setStyle(n,r,i,o))}}function Ul(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(Ot(o)),nn(o)&&mP(o,r);let s=n.type;if(s&8)Ul(e,t,n.child,r);else if(s&32){let a=mg(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=PC(t,n);if(Array.isArray(a))r.push(...a);else{let c=Gr(t[Ct]);Ul(c[P],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function mP(e,t){for(let n=ht;n<e.length;n++){let r=e[n],i=r[P].firstChild;i!==null&&Ul(r[P],r,i,t)}e[Rn]!==e[pt]&&t.push(e[Rn])}function xC(e){if(e[Zi]!==null){for(let t of e[Zi])t.impl.addSequence(t);e[Zi].length=0}}var FC=[];function vP(e){return e[wt]??yP(e)}function yP(e){let t=FC.pop()??Object.create(EP);return t.lView=e,t}function _P(e){e.lView[wt]!==e&&(e.lView=null,FC.push(e))}var EP=U(v({},hs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{ks(e.lView)},consumerOnSignalRead(){this.lView[wt]=this}});function IP(e){let t=e[wt]??Object.create(wP);return t.lView=e,t}var wP=U(v({},hs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Gr(e.lView);for(;t&&!LC(t[P]);)t=Gr(t);t&&sw(t)},consumerOnSignalRead(){this.lView[wt]=this}});function LC(e){return e.type!==2}function VC(e){if(e[Tl]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Tl])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[x]&8192)}}var CP=100;function jC(e,t=!0,n=0){let i=e[An].rendererFactory,o=!1;o||i.begin?.();try{DP(e,n)}catch(s){throw t&&hg(e,s),s}finally{o||i.end?.()}}function DP(e,t){let n=hw();try{LE(!0),Ep(e,t);let r=0;for(;nu(e);){if(r===CP)throw new C(103,!1);r++,Ep(e,1)}}finally{LE(n)}}function bP(e,t,n,r){if(Xr(t))return;let i=t[x],o=!1,s=!1;zp(t);let a=!0,c=null,l=null;o||(LC(e)?(l=vP(t),c=Sc(l)):Wf()===null?(a=!1,l=IP(t),c=Sc(l)):t[wt]&&(Zf(t[wt]),t[wt]=null));try{ow(t),NN(e.bindingStartIndex),n!==null&&AC(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=e.preOrderCheckHooks;h!==null&&hl(t,h,null)}else{let h=e.preOrderHooks;h!==null&&pl(t,h,0,null),xh(t,0)}if(s||TP(t),VC(t),UC(t,0),e.contentQueries!==null&&hC(e,t),!o)if(u){let h=e.contentCheckHooks;h!==null&&hl(t,h)}else{let h=e.contentHooks;h!==null&&pl(t,h,1),xh(t,1)}AP(e,t);let d=e.components;d!==null&&$C(t,d,0);let f=e.viewQuery;if(f!==null&&mp(2,f,r),!o)if(u){let h=e.viewCheckHooks;h!==null&&hl(t,h)}else{let h=e.viewHooks;h!==null&&pl(t,h,2),xh(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Ph]){for(let h of t[Ph])h();t[Ph]=null}o||(xC(t),t[x]&=-73)}catch(u){throw o||ks(t),u}finally{l!==null&&(Kf(l,c),a&&_P(l)),Gp()}}function UC(e,t){for(let n=qw(e);n!==null;n=Kw(n))for(let r=ht;r<n.length;r++){let i=n[r];BC(i,t)}}function TP(e){for(let t=qw(e);t!==null;t=Kw(t)){if(!(t[x]&2))continue;let n=t[Al];for(let r=0;r<n.length;r++){let i=n[r];sw(i)}}}function SP(e,t,n){ee(18);let r=Xt(t,e);BC(r,n),ee(19,r[Qe])}function BC(e,t){$p(e)&&Ep(e,t)}function Ep(e,t){let r=e[P],i=e[x],o=e[wt],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Yf(o)),s||=!1,o&&(o.dirty=!1),e[x]&=-9217,s)bP(r,e,r.template,e[Qe]);else if(i&8192){VC(e),UC(e,1);let a=r.components;a!==null&&$C(e,a,1),xC(e)}}function $C(e,t,n){for(let r=0;r<t.length;r++)SP(e,t[r],n)}function AP(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)qr(~i);else{let o=i,s=n[++r],a=n[++r];PN(s,o);let c=t[o];ee(24,c),a(2,c),ee(25,c)}}}finally{qr(-1)}}function mu(e,t){let n=hw()?64:1088;for(e[An].changeDetectionScheduler?.notify(t);e;){e[x]|=n;let r=Gr(e);if(Ss(e)&&!r)return e;e=r}return null}function HC(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function WC(e,t,n,r=!0){let i=t[P];if(RP(i,t,e,n),r){let s=_p(n,e),a=t[oe],c=a.parentNode(e[Rn]);c!==null&&iP(i,e[kt],a,t,c,s)}let o=t[Zt];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function MP(e,t){let n=Bl(e,t);return n!==void 0&&yg(n[P],n),n}function Bl(e,t){if(e.length<=ht)return;let n=ht+t,r=e[n];if(r){let i=r[no];i!==null&&i!==e&&vg(i,r),t>0&&(e[n-1][Rt]=r[Rt]);let o=Cl(e,ht+t);rP(r[P],r);let s=o[ro];s!==null&&s.detachView(o[P]),r[Me]=null,r[Rt]=null,r[x]&=-129}return r}function RP(e,t,n,r){let i=ht+r,o=n.length;r>0&&(n[i-1][Rt]=t),r<o-ht?(t[Rt]=n[i],BI(n,ht+r,t)):(n.push(t),t[Rt]=null),t[Me]=n;let s=t[no];s!==null&&n!==s&&zC(s,t);let a=t[ro];a!==null&&a.insertView(e),np(t),t[x]|=128}function zC(e,t){let n=e[Al],r=t[Me];if(Nt(r))e[x]|=2;else{let i=r[Me][Ct];t[Ct]!==i&&(e[x]|=2)}n===null?e[Al]=[t]:n.push(t)}var Ms=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[P];return Ul(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Qe]}set context(t){this._lView[Qe]=t}get destroyed(){return Xr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Me];if(nn(t)){let n=t[Sl],r=n?n.indexOf(this):-1;r>-1&&(Bl(t,r),Cl(n,r))}this._attachedToViewContainer=!1}yg(this._lView[P],this._lView)}onDestroy(t){aw(this._lView,t)}markForCheck(){mu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[x]&=-129}reattach(){np(this._lView),this._lView[x]|=128}detectChanges(){this._lView[x]|=1024,jC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Ss(this._lView),n=this._lView[no];n!==null&&!t&&vg(n,this._lView),kC(this._lView[P],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=t;let n=Ss(this._lView),r=this._lView[no];r!==null&&!n&&zC(r,this._lView),np(this._lView)}};var vu=(()=>{class e{static __NG_ELEMENT_ID__=kP}return e})(),NP=vu,OP=class extends NP{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=OC(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Ms(i)}};function kP(){return PP(nt(),re())}function PP(e,t){return e.type&4?new OP(t,e,su(e,t)):null}function Ig(e,t,n,r,i){let o=e.data[t];if(o===null)o=xP(e,t,n,r,i),kN()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=MN();o.injectorIndex=s===null?-1:s.injectorIndex}return xs(o,!0),o}function xP(e,t,n,r,i){let o=dw(),s=fw(),a=s?o:o&&o.parent,c=e.data[t]=LP(e,a,n,t,r,i);return FP(e,c,o,s),c}function FP(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function LP(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return Ps()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var VP=new RegExp(`^(\\d+)*(${Jw}|${Qw})*(.*)`);function jP(e){let t=e.match(VP),[n,r,i,o]=t,s=r?parseInt(r,10):i,a=[];for(let[c,l,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[s,...a]}function UP(e){return!e.prev&&e.parent?.type===8}function Uh(e){return e.index-Fe}function BP(e,t){let n=e.i18nNodes;if(n)return n.get(t)}function yu(e,t,n,r){let i=Uh(r),o=BP(e,i);if(o===void 0){let s=e.data[AO];if(s?.[i])o=HP(s[i],n);else if(t.firstChild===r)o=e.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(UP(r)){let l=Uh(r.parent);o=gp(e,l)}else{let l=Pt(c,n);if(a)o=l.firstChild;else{let u=Uh(c),d=gp(e,u);if(c.type===2&&d){let h=rg(e,u)+1;o=_u(h,d)}else o=l.nextSibling}}}}return o}function _u(e,t){let n=t;for(let r=0;r<e;r++)n=n.nextSibling;return n}function $P(e,t){let n=e;for(let r=0;r<t.length;r+=2){let i=t[r],o=t[r+1];for(let s=0;s<o;s++)switch(i){case CO:n=n.firstChild;break;case DO:n=n.nextSibling;break}}return n}function HP(e,t){let[n,...r]=jP(e),i;if(n===Qw)i=t[Ct][pt];else if(n===Jw)i=Ck(t[Ct][pt]);else{let o=Number(n);i=Ot(t[o+Fe])}return $P(i,r)}var WP=!1;function zP(e){WP=e}function GP(e){let t=e[Zt];if(t){let{i18nNodes:n,dehydratedIcuData:r}=t;if(n&&r){let i=e[oe];for(let o of r.values())qP(i,n,o)}t.i18nNodes=void 0,t.dehydratedIcuData=void 0}}function qP(e,t,n){for(let r of n.node.cases[n.case]){let i=t.get(r.index-Fe);i&&ag(e,i,!1)}}function GC(e){let t=e[Mn]??[],r=e[Me][oe],i=[];for(let o of t)o.data[MO]!==void 0?i.push(o):qC(o,r);e[Mn]=i}function KP(e){let{lContainer:t}=e,n=t[Mn];if(n===null)return;let i=t[Me][oe];for(let o of n)qC(o,i)}function qC(e,t){let n=0,r=e.firstChild;if(r){let i=e.data[Ll];for(;n<i;){let o=r.nextSibling;ag(t,r,!1),r=o,n++}}}function Eu(e){GC(e);let t=e[pt];Nt(t)&&$l(t);for(let n=ht;n<e.length;n++)$l(e[n])}function $l(e){GP(e);let t=e[P];for(let n=Fe;n<t.bindingStartIndex;n++)if(nn(e[n])){let r=e[n];Eu(r)}else Nt(e[n])&&$l(e[n])}function KC(e){let t=e._views;for(let n of t){let r=sk(n);r!==null&&r[pt]!==null&&(Nt(r)?$l(r):Eu(r))}}function YP(e,t,n,r){e!==null&&(n.cleanup(t),Eu(e.lContainer),KC(r))}function ZP(e,t){let n=[];for(let r of t)for(let i=0;i<(r[Xw]??1);i++){let o={data:r,firstChild:null};r[Ll]>0&&(o.firstChild=e,e=_u(r[Ll],e)),n.push(o)}return[e,n]}var YC=()=>null;function QP(e,t){let n=e[Mn];return!t||n===null||n.length===0?null:n[0].data[SO]===t?n.shift():(GC(e),null)}function JP(){YC=QP}function oI(e,t){return YC(e,t)}var XP=class{},ZC=class{},Ip=class{resolveComponentFactory(t){throw Error(`No component factory found for ${Ze(t)}.`)}},Iu=class{static NULL=new Ip},io=class{},lr=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>ex()}return e})();function ex(){let e=re(),t=nt(),n=Xt(t.index,e);return(Nt(n)?n:e)[oe]}var tx=(()=>{class e{static \u0275prov=b({token:e,providedIn:"root",factory:()=>null})}return e})();var Bh={},Xi=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Ql(r);let i=this.injector.get(t,Bh,r);return i!==Bh||n===Bh?i:this.parentInjector.get(t,n,r)}};function sI(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=AE(i,a);else if(o==2){let c=a,l=t[++s];r=AE(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function S(e,t=B.Default){let n=re();if(n===null)return N(e,t);let r=nt();return Ow(r,n,ze(e),t)}function QC(){let e="invalid";throw new Error(e)}function JC(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a,c=null,l=null,u=rx(s);u===null?a=s:[a,c,l]=u,sx(e,t,n,a,o,c,l)}o!==null&&r!==null&&nx(n,r,o)}function nx(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new C(-301,!1);r.push(t[i],o)}}function rx(e){let t=null,n=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&Jt(a)&&(t=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,ix(s,r,o,i)),s===t&&(r??=[],r.push(s));return r!==null?(r.push(...t===null?e:e.slice(1)),[r,i,o]):null}function ix(e,t,n,r){let i=t.length;e.findHostDirectiveDefs(e,t,r),n.set(e,[i,t.length-1])}function ox(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function sx(e,t,n,r,i,o,s){let a=r.length,c=!1;for(let f=0;f<a;f++){let h=r[f];!c&&Jt(h)&&(c=!0,ox(e,n,f)),sp(Ol(n,t),e,h.type)}fx(n,e.data.length,a);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let l=!1,u=!1,d=TC(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(n.mergedAttrs=As(n.mergedAttrs,h.hostAttrs),cx(e,n,t,d,h),dx(d,h,i),s!==null&&s.has(h)){let[_,T]=s.get(h);n.directiveToIndex.set(h.type,[d,_+n.directiveStart,T+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let g=h.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}ax(e,n,o)}function ax(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))aI(0,t,i,r),aI(1,t,i,r),lI(t,r,!1);else{let o=n.get(i);cI(0,t,o,r),cI(1,t,o,r),lI(t,r,!0)}}}function aI(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),XC(t,o)}}function cI(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),XC(t,s)}}function XC(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function lI(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||og(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function cx(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=eo(i.type,!0)),s=new Kr(o,Jt(i),S);e.blueprint[r]=s,n[r]=s,lx(e,t,r,TC(e,n,i.hostVars,xn),i)}function lx(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;ux(s)!=a&&s.push(a),s.push(n,r,o)}}function ux(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function dx(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Jt(t)&&(n[""]=e)}}function fx(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function eD(e,t,n,r,i,o,s,a){let c=t.consts,l=Ml(c,s),u=Ig(t,e,2,r,l);return o&&JC(t,n,u,Ml(c,a),i),u.mergedAttrs=As(u.mergedAttrs,u.attrs),u.attrs!==null&&sI(u,u.attrs,!1),u.mergedAttrs!==null&&sI(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function tD(e,t){Cw(e,t),XI(t)&&e.queries.elementEnd(t)}var Hl=class extends Iu{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=ir(t);return new oo(n,this.ngModule)}};function hx(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&pu.SignalBased)!==0};return i&&(o.transform=i),o})}function px(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function gx(e,t,n){let r=t instanceof xe?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Xi(n,r):n}function mx(e){let t=e.get(io,null);if(t===null)throw new C(407,!1);let n=e.get(tx,null),r=e.get(Yr,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function vx(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return sg(t,n,n==="svg"?yN:n==="math"?_N:null)}var oo=class extends ZC{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=hx(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=px(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=kk(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i){ee(22);let o=G(null);try{let s=this.componentDef,a=r?["ng-version","19.2.11"]:Pk(this.componentDef.selectors[0]),c=cg(0,null,null,1,0,null,null,null,null,[a],null),l=gx(s,i||this.ngModule,t),u=mx(l),d=u.rendererFactory.createRenderer(null,s),f=r?Bk(d,r,s.encapsulation,l):vx(s,d),h=lg(null,c,null,512|bC(s),null,null,u,d,l,null,dC(f,l,!0));h[Fe]=f,zp(h);let g=null;try{let _=eD(Fe,c,h,"#host",()=>[this.componentDef],!0,0);f&&(DC(d,f,_),Ls(f,h)),dg(c,h,_),pC(c,_,h),tD(c,_),n!==void 0&&yx(_,this.ngContentSelectors,n),g=Xt(_.index,h),h[Qe]=g[Qe],gg(c,h,null)}catch(_){throw g!==null&&fp(g),fp(h),_}finally{ee(23),Gp()}return new wp(this.componentType,h)}finally{G(o)}}},wp=class extends XP{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=tu(n[P],Fe),this.location=su(this._tNode,n),this.instance=Xt(this._tNode.index,n)[Qe],this.hostView=this.changeDetectorRef=new Ms(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=pg(r,i[P],i,t,n);this.previousInputValues.set(t,n);let s=Xt(r.index,i);mu(s,1)}get injector(){return new Wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function yx(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var mo=(()=>{class e{static __NG_ELEMENT_ID__=_x}return e})();function _x(){let e=nt();return Ix(e,re())}var Ex=mo,nD=class extends Ex{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return su(this._hostTNode,this._hostLView)}get injector(){return new Wr(this._hostTNode,this._hostLView)}get parentInjector(){let t=Kp(this._hostTNode,this._hostLView);if(Tw(t)){let n=Nl(t,this._hostLView),r=Rl(t),i=n[P].data[r+8];return new Wr(i,n)}else return new Wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=uI(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=oI(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,yp(this._hostTNode,s)),a}createComponent(t,n,r,i,o){let s=t&&!pN(t),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let c=s?t:new oo(ir(t)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let _=(s?l:this.parentInjector).get(xe,null);_&&(o=_)}let u=ir(c.componentType??{}),d=oI(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,i,f,o);return this.insertImpl(h.hostView,a,yp(this._hostTNode,d)),h}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(EN(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[Me],l=new nD(c,c[kt],c[Me]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return WC(s,i,o,r),t.attachToViewContainerRef(),BI($h(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=uI(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Bl(this._lContainer,n);r&&(Cl($h(this._lContainer),n),yg(r[P],r))}detach(t){let n=this._adjustIndex(t,-1),r=Bl(this._lContainer,n);return r&&Cl($h(this._lContainer),n)!=null?new Ms(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function uI(e){return e[Sl]}function $h(e){return e[Sl]||(e[Sl]=[])}function Ix(e,t){let n,r=t[e.index];return nn(r)?n=r:(n=HC(r,t,null,e),t[e.index]=n,ug(t,n)),rD(n,t,e,r),new nD(n,e,t)}function wx(e,t){let n=e[oe],r=n.createComment(""),i=Pt(t,e),o=n.parentNode(i);return jl(n,o,r,n.nextSibling(i),!1),r}var rD=iD,wg=()=>!1;function Cx(e,t,n){return wg(e,t,n)}function iD(e,t,n,r){if(e[Rn])return;let i;n.type&8?i=Ot(r):i=wx(t,n),e[Rn]=i}function Dx(e,t,n){if(e[Rn]&&e[Mn])return!0;let r=n[Zt],i=t.index-Fe;if(!r||mO(t)||js(r,i))return!1;let s=gp(r,i),a=r.data[eg]?.[i],[c,l]=ZP(s,a);return e[Rn]=c,e[Mn]=l,!0}function bx(e,t,n,r){wg(e,n,t)||iD(e,t,n,r)}function Tx(){rD=bx,wg=Dx}var so=class{},Cg=class{};var Cp=class extends so{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Hl(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=WI(t);this._bootstrapComponents=yC(o.bootstrap),this._r3Injector=xw(t,n,[{provide:so,useValue:this},{provide:Iu,useValue:this.componentFactoryResolver},...r],Ze(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Dp=class extends Cg{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Cp(this.moduleType,t,[])}};var Wl=class extends so{injector;componentFactoryResolver=new Hl(this);instance=null;constructor(t){super();let n=new bs([...t.providers,{provide:so,useValue:this},{provide:Iu,useValue:this.componentFactoryResolver}],t.parent||Up(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function vo(e,t,n=null){return new Wl({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var Sx=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Vp(!1,n.type),i=r.length>0?vo([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=b({token:e,providedIn:"environment",factory:()=>new e(N(xe))})}return e})();function Be(e){return Ns(()=>{let t=oD(e),n=U(v({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===zw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(Sx).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||tn.Emulated,styles:e.styles||It,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&rn("NgStandalone"),sD(n);let r=e.dependencies;return n.directiveDefs=dI(r,!1),n.pipeDefs=dI(r,!0),n.id=Ox(n),n})}function Ax(e){return ir(e)||zI(e)}function Mx(e){return e!==null}function Fn(e){return Ns(()=>({type:e.type,bootstrap:e.bootstrap||It,declarations:e.declarations||It,imports:e.imports||It,exports:e.exports||It,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Rx(e,t){if(e==null)return zr;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=pu.None,c=null),n[o]=[r,a,c],t[o]=s}return n}function Nx(e){if(e==null)return zr;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Te(e){return Ns(()=>{let t=oD(e);return sD(t),t})}function oD(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||zr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||It,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Rx(e.inputs,t),outputs:Nx(e.outputs),debugInfo:null}}function sD(e){e.features?.forEach(t=>t(e))}function dI(e,t){if(!e)return null;let n=t?GI:Ax;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(Mx)}function Ox(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function kx(e){return Object.getPrototypeOf(e.prototype).constructor}function Ln(e){let t=kx(e.type),n=!0,r=[e];for(;t;){let i;if(Jt(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new C(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=Hh(e.inputs),s.declaredInputs=Hh(e.declaredInputs),s.outputs=Hh(e.outputs);let a=i.hostBindings;a&&Vx(e,a);let c=i.viewQuery,l=i.contentQueries;if(c&&Fx(e,c),l&&Lx(e,l),Px(e,i),LR(e.outputs,i.outputs),Jt(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Ln&&(n=!1)}}t=Object.getPrototypeOf(t)}xx(r)}function Px(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function xx(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=As(i.hostAttrs,n=As(n,i.hostAttrs))}}function Hh(e){return e===zr?{}:e===It?[]:e}function Fx(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function Lx(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function Vx(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function aD(e){return Ux(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function jx(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function Ux(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function cD(e,t,n){return e[t]=n}function Bx(e,t){return e[t]}function yo(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function $x(e,t,n,r,i,o,s,a,c){let l=t.consts,u=Ig(t,e,4,s||null,a||null);uw()&&JC(t,n,u,Ml(l,c),NC),u.mergedAttrs=As(u.mergedAttrs,u.attrs),Cw(t,u);let d=u.tView=cg(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function Hx(e,t,n,r,i,o,s,a,c,l){let u=n+Fe,d=t.firstCreatePass?$x(u,t,e,r,i,o,s,a,c):t.data[u];xs(d,!1);let f=lD(t,e,d,n);qp()&&_g(t,e,f,d),Ls(f,e);let h=HC(f,e,f,d);return e[u]=h,ug(e,h),Cx(h,d,e),Bp(d)&&dg(t,e,d),c!=null&&MC(e,d,l),d}function _e(e,t,n,r,i,o,s,a){let c=re(),l=tt(),u=Ml(l.consts,o);return Hx(c,l,e,t,n,r,i,u,s,a),_e}var lD=uD;function uD(e,t,n,r){return ar(!0),t[oe].createComment("")}function Wx(e,t,n,r){let i=t[Zt],o=!i||Ps()||go(n)||js(i,r);if(ar(o),o)return uD(e,t);let s=i.data[TO]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=yu(i,e,t,n);fu(i,r,a);let c=rg(i,r);return _u(c,a)}function zx(){lD=Wx}var Gx=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let s=i.length>0?vo(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=b({token:e,providedIn:"environment",factory:()=>new e})}return e})();var qx=new w("");function Wh(e,t,n){return e.get(Gx).getOrCreateInjector(t,e,n,"")}function Kx(e,t,n){if(e instanceof Xi){let i=e.injector,o=e.parentInjector,s=Wh(o,t,n);return new Xi(i,s)}let r=e.get(xe);if(r!==e){let i=Wh(r,t,n);return new Xi(e,i)}return Wh(e,t,n)}function Yi(e,t,n,r=!1){let i=n[Me],o=i[P];if(Xr(i))return;let s=Vs(i,t),a=s[lu],c=s[HO];if(!(c!==null&&e<c)&&fI(a,e)&&fI(s[UO]??-1,e)){let l=uu(o,t),d=!r&&!0&&(KO(l)!==null||JE(l,be.Loading)!==null||JE(l,be.Placeholder))?Qx:Zx;try{d(e,s,n,t,i)}catch(f){hg(i,f)}}}function Yx(e,t){let n=e[Mn]?.findIndex(i=>i.data[RO]===t[lu])??-1;return{dehydratedView:n>-1?e[Mn][n]:null,dehydratedViewIx:n}}function Zx(e,t,n,r,i){ee(20);let o=qO(e,i,r);if(o!==null){t[lu]=e;let s=i[P],a=o+Fe,c=tu(s,a),l=0;MP(n,l);let u;if(e===be.Complete){let g=uu(s,r),_=g.providers;_&&_.length>0&&(u=Kx(i[Qt],g,_))}let{dehydratedView:d,dehydratedViewIx:f}=Yx(n,t),h=OC(i,c,null,{injector:u,dehydratedView:d});if(WC(n,h,l,yp(c,d)),mu(h,2),f>-1&&n[Mn]?.splice(f,1),(e===be.Complete||e===be.Error)&&Array.isArray(t[Ji])){for(let g of t[Ji])g();t[Ji]=null}}ee(21)}function fI(e,t){return e<t}function hI(e,t,n){e.loadingPromise.then(()=>{e.loadingState===ft.COMPLETE?Yi(be.Complete,t,n):e.loadingState===ft.FAILED&&Yi(be.Error,t,n)})}var Qx=null;var Dg=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var dD=new w("");var Jx=(()=>{class e{static \u0275prov=b({token:e,providedIn:"root",factory:()=>new bp})}return e})(),bp=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function ti(e){return!!e&&typeof e.then=="function"}function fD(e){return!!e&&typeof e.subscribe=="function"}var hD=new w("");function bg(e){return et([{provide:hD,multi:!0,useValue:e}])}var pD=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=m(hD,{optional:!0})??[];injector=m(he);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Le(this.injector,i);if(ti(o))n.push(o);else if(fD(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ur=new w("");function Xx(){Jf(()=>{throw new C(600,!1)})}function e1(e){return e.isBoundToModule}var t1=10;var Je=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=m(lO);afterRenderManager=m(oC);zonelessEnabled=m(ou);rootEffectScheduler=m(Jx);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ve;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=m(kn).hasPendingTasks.pipe(Y(n=>!n));constructor(){m(po,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=m(xe);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=he.NULL){ee(10);let o=n instanceof ZC;if(!this._injector.get(pD).done){let h="";throw new C(405,h)}let a;o?a=n:a=this._injector.get(Iu).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let c=e1(a)?void 0:this._injector.get(so),l=r||a.selector,u=a.create(i,[],l,c),d=u.location.nativeElement,f=u.injector.get(dD,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),ml(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),ee(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ee(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(tg.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new C(101,!1);let n=G(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,G(n),this.afterTick.next(),ee(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(io,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<t1;)ee(14),this.synchronizeOnce(),ee(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)n1(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>nu(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ml(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(ur,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ml(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new C(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ml(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function n1(e,t,n,r){if(!n&&!nu(e))return;jC(e,t,n&&!r?0:1)}function r1(e,t,n){let r=t[Qt],i=t[P];if(e.loadingState!==ft.NOT_STARTED)return e.loadingPromise??Promise.resolve();let o=Vs(t,n),s=YO(i,e);e.loadingState=ft.IN_PROGRESS,gl(1,o);let a=e.dependencyResolverFn,c=r.get(Fs).add();return a?(e.loadingPromise=Promise.allSettled(a()).then(l=>{let u=!1,d=[],f=[];for(let h of l)if(h.status==="fulfilled"){let g=h.value,_=ir(g)||zI(g);if(_)d.push(_);else{let T=GI(g);T&&f.push(T)}}else{u=!0;break}if(u){if(e.loadingState=ft.FAILED,e.errorTmplIndex===null){let h="",g=new C(-750,!1);hg(t,g)}}else{e.loadingState=ft.COMPLETE;let h=s.tView;if(d.length>0){h.directiveRegistry=XE(h.directiveRegistry,d);let g=d.map(T=>T.type),_=Vp(!1,...g);e.providers=_}f.length>0&&(h.pipeRegistry=XE(h.pipeRegistry,f))}}),e.loadingPromise.finally(()=>{e.loadingPromise=null,c()})):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=ft.COMPLETE,c()}),e.loadingPromise)}function i1(e,t){return t[Qt].get(qx,null,{optional:!0})?.behavior!==sC.Manual}function o1(e,t,n){let r=t[P],i=t[n.index];if(!i1(e,t))return;let o=Vs(t,n),s=uu(r,n);switch(zO(o),s.loadingState){case ft.NOT_STARTED:Yi(be.Loading,n,i),r1(s,t,n),s.loadingState===ft.IN_PROGRESS&&hI(s,n,i);break;case ft.IN_PROGRESS:Yi(be.Loading,n,i),hI(s,n,i);break;case ft.COMPLETE:Yi(be.Complete,n,i);break;case ft.FAILED:Yi(be.Error,n,i);break;default:}}function s1(e,t,n){return p(this,null,function*(){let r=e.get(ng);if(r.hydrating.has(t))return;let{parentBlockPromise:o,hydrationQueue:s}=fk(t,e);if(s.length===0)return;o!==null&&s.shift(),l1(r,s),o!==null&&(yield o);let a=s[0];r.has(a)?yield pI(e,s,n):r.awaitParentBlock(a,()=>p(null,null,function*(){return yield pI(e,s,n)}))})}function pI(e,t,n){return p(this,null,function*(){let r=e.get(ng),i=r.hydrating,o=e.get(kn),s=o.add();for(let c=0;c<t.length;c++){let l=t[c],u=r.get(l);if(u!=null){if(yield d1(u),yield u1(e),a1(u)){KP(u),gI(t.slice(c),r);break}i.get(l).resolve()}else{c1(c,t,r),gI(t.slice(c),r);break}}let a=t[t.length-1];yield i.get(a)?.promise,o.remove(s),n&&n(t),YP(r.get(a),t,r,e.get(Je))})}function a1(e){return Vs(e.lView,e.tNode)[lu]===be.Error}function c1(e,t,n){let r=e-1,i=r>-1?n.get(t[r]):null;i&&Eu(i.lContainer)}function gI(e,t){let n=t.hydrating;for(let r in e)n.get(r)?.reject();t.cleanup(e)}function l1(e,t){for(let n of t)e.hydrating.set(n,Promise.withResolvers())}function u1(e){return new Promise(t=>cu(t,{injector:e}))}function d1(e){return p(this,null,function*(){let{tNode:t,lView:n}=e,r=Vs(n,t);return new Promise(i=>{f1(r,i),o1(2,n,t)})})}function f1(e,t){Array.isArray(e[Ji])||(e[Ji]=[]),e[Ji].push(t)}function Bs(e,t,n,r){let i=re(),o=ru();if(yo(i,o,t)){let s=tt(),a=iu();Zk(a,i,e,t,n,r)}return Bs}function gD(e,t,n,r){return yo(e,ru(),n)?t+Zl(n)+r:xn}function ul(e,t){return e<<17|t<<2}function Zr(e){return e>>17&32767}function h1(e){return(e&2)==2}function p1(e,t){return e&131071|t<<17}function Tp(e){return e|2}function ao(e){return(e&131068)>>2}function zh(e,t){return e&-131069|t<<2}function g1(e){return(e&1)===1}function Sp(e){return e|1}function m1(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Zr(s),c=ao(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Os(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=Zr(e[a+1]);e[r+1]=ul(f,a),f!==0&&(e[f+1]=zh(e[f+1],r)),e[a+1]=p1(e[a+1],r)}else e[r+1]=ul(a,0),a!==0&&(e[a+1]=zh(e[a+1],r)),a=r;else e[r+1]=ul(c,0),a===0?a=r:e[c+1]=zh(e[c+1],r),c=r;l&&(e[r+1]=Tp(e[r+1])),mI(e,u,r,!0),mI(e,u,r,!1),v1(t,u,e,r,o),s=ul(a,c),o?t.classBindings=s:t.styleBindings=s}function v1(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Os(o,t)>=0&&(n[r+1]=Sp(n[r+1]))}function mI(e,t,n,r){let i=e[n+1],o=t===null,s=r?Zr(i):ao(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];y1(c,t)&&(a=!0,e[s+1]=r?Sp(l):Tp(l)),s=r?Zr(l):ao(l)}a&&(e[n+1]=r?Tp(i):Sp(i))}function y1(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Os(e,t)>=0:!1}function F(e,t,n){let r=re(),i=ru();if(yo(r,i,t)){let o=tt(),s=iu();fg(o,s,r,e,t,r[oe],n,!1)}return F}function vI(e,t,n,r,i){pg(t,e,n,i?"class":"style",r)}function wu(e,t){return _1(e,t,null,!0),wu}function _1(e,t,n,r){let i=re(),o=tt(),s=ON(2);if(o.firstUpdatePass&&I1(o,e,s,r),t!==xn&&yo(i,s,t)){let a=o.data[lo()];T1(o,a,i,i[oe],e,i[s+1]=S1(t,n),r,s)}}function E1(e,t){return t>=e.expandoStartIndex}function I1(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[lo()],s=E1(e,n);A1(o,r)&&t===null&&!s&&(t=!1),t=w1(i,o,t,r),m1(i,o,t,n,s,r)}}function w1(e,t,n,r){let i=FN(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=Gh(null,e,t,n,r),n=Rs(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=Gh(i,e,t,n,r),o===null){let c=C1(e,t,r);c!==void 0&&Array.isArray(c)&&(c=Gh(null,e,t,c[1],r),c=Rs(c,t.attrs,r),D1(e,t,r,c))}else o=b1(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function C1(e,t,n){let r=n?t.classBindings:t.styleBindings;if(ao(r)!==0)return e[Zr(r)]}function D1(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[Zr(i)]=r}function b1(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Rs(r,s,n)}return Rs(r,t.attrs,n)}function Gh(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=Rs(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Rs(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),nN(e,s,n?!0:t[++o]))}return e===void 0?null:e}function T1(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=g1(l)?yI(c,t,n,i,ao(l),s):void 0;if(!zl(u)){zl(o)||h1(l)&&(o=yI(c,null,n,i,a,s));let d=iw(lo(),n);gP(r,s,d,i,o)}}function yI(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===xn&&(f=d?It:void 0);let h=d?Oh(f,r):u===r?f:void 0;if(l&&!zl(h)&&(h=Oh(c,r)),zl(h)&&(a=h,s))return a;let g=e[i+1];i=s?Zr(g):ao(g)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=Oh(c,r))}return a}function zl(e){return e!==void 0}function S1(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Ze(Us(e)))),e}function A1(e,t){return(e.flags&(t?8:16))!==0}function E(e,t,n,r){let i=re(),o=tt(),s=Fe+e,a=i[oe],c=o.firstCreatePass?eD(s,o,i,t,NC,uw(),n,r):o.data[s],l=mD(o,i,c,a,t,e);i[s]=l;let u=Bp(c);return xs(c,!0),DC(a,l,c),!go(c)&&qp()&&_g(o,i,l,c),(CN()===0||u)&&Ls(l,i),DN(),u&&(dg(o,i,c),pC(o,c,i)),r!==null&&MC(i,c),E}function I(){let e=nt();fw()?RN():(e=e.parent,xs(e,!1));let t=e;TN(t)&&AN(),bN();let n=tt();return n.firstCreatePass&&tD(n,t),t.classesWithoutHost!=null&&BN(t)&&vI(n,t,re(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&$N(t)&&vI(n,t,re(),t.stylesWithoutHost,!1),I}function ce(e,t,n,r){return E(e,t,n,r),I(),ce}var mD=(e,t,n,r,i,o)=>(ar(!0),sg(r,i,Iw()));function M1(e,t,n,r,i,o){let s=t[Zt],a=!s||Ps()||go(n)||js(s,o);if(ar(a),a)return sg(r,i,Iw());let c=yu(s,e,t,n);return fC(s,o)&&fu(s,o,c.nextSibling),s&&(Hw(n)||Ww(c))&&Jr(n)&&(SN(n),CC(c)),c}function R1(){mD=M1}var N1=(e,t,n,r)=>(ar(!0),IC(t[oe],""));function O1(e,t,n,r){let i,o=t[Zt],s=!o||Ps()||js(o,r)||go(n);if(ar(s),s)return IC(t[oe],"");let a=yu(o,e,t,n),c=uk(o,r);return fu(o,r,a),i=_u(c,a),i}function k1(){N1=O1}function Tg(){return re()}var Gl="en-US";var P1=Gl;function x1(e){typeof e=="string"&&(P1=e.toLowerCase().replace(/_/g,"-"))}function _I(e,t,n){return function r(i){if(i===Function)return n;let o=Jr(e)?Xt(e.index,t):t;mu(o,5);let s=t[Qe],a=EI(t,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=EI(t,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function EI(e,t,n,r){let i=G(null);try{return ee(6,t,n),n(r)!==!1}catch(o){return F1(e,o),!1}finally{ee(7,t,n),G(i)}}function F1(e,t){let n=e[Qt],r=n?n.get(en,null):null;r&&r.handleError(t)}function II(e,t,n,r,i,o){let s=t[n],a=t[P],l=a.data[n].outputs[r],u=s[l],d=a.firstCreatePass?lw(a):null,f=cw(t),h=u.subscribe(o),g=f.length;f.push(o,h),d&&d.push(i,e.index,g,-(g+1))}var Sg=new Map;function L1(e,t){Sg.set(e,t)}function V1(e){Sg.delete(e)}function Ve(e,t,n,r){let i=re(),o=tt(),s=nt();return vD(o,i,i[oe],s,e,t,r),Ve}function j1(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[bl],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function vD(e,t,n,r,i,o,s){let a=Bp(r),l=e.firstCreatePass?lw(e):null,u=cw(t),d=!0;if(r.type&3||s){let f=Pt(r,t),h=s?s(f):f,g=u.length,_=s?j=>s(Ot(j[r.index])):r.index,T=null;if(!s&&a&&(T=j1(e,t,i,r.index)),T!==null){let j=T.__ngLastListenerFn__||T;j.__ngNextListenerFn__=o,T.__ngLastListenerFn__=o,d=!1}else{o=_I(r,t,o);let j=t[Qt].get(Sn);Sg.get(j)?.(h,i,o);let de=n.listen(h,i,o);u.push(o,de),l&&l.push(i,_,g,g+1)}}else o=_I(r,t,o);if(d){let f=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let g=0;g<h.length;g+=2){let _=h[g],T=h[g+1];II(r,t,_,T,i,o)}if(f&&f.length)for(let g of f)II(r,t,g,i,i,o)}}function Ee(e=1){return VN(e)}function _o(e,t,n,r,i){let o=re(),s=gD(o,t,n,r);if(s!==xn){let a=tt(),c=iu();fg(a,c,o,e,s,o[oe],i,!1)}return _o}function A(e,t=""){let n=re(),r=tt(),i=e+Fe,o=r.firstCreatePass?Ig(r,i,1,t,null):r.data[i],s=yD(r,n,o,t,e);n[i]=s,qp()&&_g(r,n,s,o),xs(o,!1)}var yD=(e,t,n,r,i)=>(ar(!0),EC(t[oe],r));function U1(e,t,n,r,i){let o=t[Zt],s=!o||Ps()||go(n)||js(o,i);return ar(s),s?EC(t[oe],r):yu(o,e,t,n)}function B1(){yD=U1}function se(e){return Cu("",e,""),se}function Cu(e,t,n){let r=re(),i=gD(r,e,t,n);return i!==xn&&$1(r,lo(),i),Cu}function $1(e,t,n){let r=iw(t,e);xk(e[oe],r,n)}function Vn(e,t,n){$w(t)&&(t=t());let r=re(),i=ru();if(yo(r,i,t)){let o=tt(),s=iu();fg(o,s,r,e,t,r[oe],n,!1)}return Vn}function dr(e,t){let n=$w(e);return n&&e.set(t),n}function jn(e,t){let n=re(),r=tt(),i=nt();return vD(r,n,n[oe],i,e,t),jn}function H1(e,t,n){let r=tt();if(r.firstCreatePass){let i=Jt(e);Ap(n,r.data,r.blueprint,i,!0),Ap(t,r.data,r.blueprint,i,!1)}}function Ap(e,t,n,r,i){if(e=ze(e),Array.isArray(e))for(let o=0;o<e.length;o++)Ap(e[o],t,n,r,i);else{let o=tt(),s=re(),a=nt(),c=to(e)?e:ze(e.provide),l=YI(e),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(to(e)||!e.multi){let h=new Kr(l,i,S),g=Kh(c,t,i?u:u+f,d);g===-1?(sp(Ol(a,s),o,c),qh(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[g]=h,s[g]=h)}else{let h=Kh(c,t,u+f,d),g=Kh(c,t,u,u+f),_=h>=0&&n[h],T=g>=0&&n[g];if(i&&!T||!i&&!_){sp(Ol(a,s),o,c);let j=G1(i?z1:W1,n.length,i,r,l);!i&&T&&(n[g].providerFactory=j),qh(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(j),s.push(j)}else{let j=_D(n[i?g:h],l,!i&&r);qh(o,e,h>-1?h:g,j)}!i&&r&&T&&n[g].componentProviders++}}}function qh(e,t,n,r){let i=to(t),o=cN(t);if(i||o){let c=(o?ze(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function _D(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Kh(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function W1(e,t,n,r,i){return Mp(this.multi,[])}function z1(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=kl(r,r[P],this.providerFactory.index,i);s=c.slice(0,a),Mp(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],Mp(o,s);return s}function Mp(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function G1(e,t,n,r,i){let o=new Kr(e,n,S);return o.multi=[],o.index=t,o.componentProviders=0,_D(o,i,r&&!n),o}function $s(e,t=[]){return n=>{n.providersResolver=(r,i)=>H1(r,i?i(e):e,t)}}function Ag(e,t,n){let r=pw()+e,i=re();return i[r]===xn?cD(i,r,n?t.call(n):t()):Bx(i,r)}function ni(e,t,n,r){return K1(re(),pw(),e,t,n,r)}function q1(e,t){let n=e[t];return n===xn?void 0:n}function K1(e,t,n,r,i,o){let s=t+n;return yo(e,s,i)?cD(e,s+1,o?r.call(o,i):r(i)):q1(e,s+1)}var or=class{full;major;minor;patch;constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},ED=new or("19.2.11"),Rp=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},ID=(()=>{class e{compileModuleSync(n){return new Dp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=WI(n),o=yC(i.declarations).reduce((s,a)=>{let c=ir(a);return c&&s.push(new oo(c)),s},[]);return new Rp(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Y1=(()=>{class e{zone=m(Q);changeDetectionScheduler=m(Yr);applicationRef=m(Je);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Z1=new w("",{factory:()=>!1});function wD({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Q(U(v({},DD()),{scheduleInRootZone:n})),[{provide:Q,useFactory:e},{provide:rr,multi:!0,useFactory:()=>{let r=m(Y1,{optional:!0});return()=>r.initialize()}},{provide:rr,multi:!0,useFactory:()=>{let r=m(Q1);return()=>{r.initialize()}}},t===!0?{provide:Lw,useValue:!0}:[],{provide:Vw,useValue:n??Fw}]}function CD(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=wD({ngZoneFactory:()=>{let i=DD(e);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&rn("NgZone_CoalesceEvent"),new Q(i)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return et([{provide:Z1,useValue:!0},{provide:ou,useValue:!1},r])}function DD(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var Q1=(()=>{class e{subscription=new fe;initialized=!1;zone=m(Q);pendingTasks=m(kn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Q.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Q.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var J1=(()=>{class e{appRef=m(Je);taskService=m(kn);ngZone=m(Q);zonelessEnabled=m(ou);tracing=m(po,{optional:!0});disableScheduling=m(Lw,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new fe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(xl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(m(Vw,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof dp||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?WE:jw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(xl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,WE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function X1(){return typeof $localize<"u"&&$localize.locale||Gl}var Mg=new w("",{providedIn:"root",factory:()=>m(Mg,B.Optional|B.SkipSelf)||X1()});var Np=new w(""),eF=new w("");function Is(e){return!e.moduleRef}function tF(e){let t=Is(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Q);return n.run(()=>{Is(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(en,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Is(e)){let o=()=>t.destroy(),s=e.platformInjector.get(Np);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Np);s.add(o),e.moduleRef.onDestroy(()=>{ml(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return rF(r,n,()=>{let o=t.get(pD);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(Mg,Gl);if(x1(s||Gl),!t.get(eF,!0))return Is(e)?t.get(Je):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Is(e)){let c=t.get(Je);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return nF(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function nF(e,t){let n=e.injector.get(Je);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new C(-403,!1);t.push(e)}function rF(e,t,n){try{let r=n();return ti(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var vl=null;function iF(e=[],t){return he.create({name:t,providers:[{provide:Jl,useValue:"platform"},{provide:Np,useValue:new Set([()=>vl=null])},...e]})}function oF(e=[]){if(vl)return vl;let t=iF(e);return vl=t,Xx(),sF(t),t}function sF(e){let t=e.get(Jp,null);Le(e,()=>{t?.forEach(n=>n())})}function Rg(){return!1}var Un=(()=>{class e{static __NG_ELEMENT_ID__=aF}return e})();function aF(e){return cF(nt(),re(),(e&16)===16)}function cF(e,t,n){if(Jr(e)&&!n){let r=Xt(e.index,t);return new Ms(r,r)}else if(e.type&175){let r=t[Ct];return new Ms(r,t)}return null}var Op=class{constructor(){}supports(t){return aD(t)}create(t){return new kp(t)}},lF=(e,t)=>t,kp=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||lF}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<wI(r,i,o)?n:r,a=wI(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let h=f<o.length?o[f]:o[f]=0,g=h+f;u<=g&&g<l&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!aD(t))throw new C(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,jx(t,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new Pp(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new ql),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ql),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Pp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},xp=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ql=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new xp,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function wI(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function CI(){return new Ng([new Op])}var Ng=(()=>{class e{factories;static \u0275prov=b({token:e,providedIn:"root",factory:CI});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||CI()),deps:[[e,new eN,new Xe]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new C(901,!1)}}return e})();function bD(e){ee(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=oF(r),o=[wD({}),{provide:Yr,useExisting:J1},...n||[]],s=new Wl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return tF({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}finally{ee(9)}}var dl=new WeakSet,DI="",yl=[];function bI(e){return e.get(rC,OO)}function TD(){let e=[{provide:rC,useFactory:()=>{let t=!0;{let n=m(Sn);t=!!window._ejsas?.[n]}return t&&rn("NgEventReplay"),t}}];return e.push({provide:rr,useValue:()=>{let t=m(Je),{injector:n}=t;if(!dl.has(t)){let r=m(YE);if(bI(n)){let i=n.get(Sn);L1(i,(o,s,a)=>{o.nodeType===Node.ELEMENT_NODE&&(ZO(o,s,a),QO(o,r))})}}},multi:!0},{provide:ur,useFactory:()=>{let t=m(Je),{injector:n}=t;return()=>{!bI(n)||dl.has(t)||(dl.add(t),t.onDestroy(()=>{dl.delete(t);{let r=n.get(Sn);Nh(r),V1(r)}}),t.whenStable().then(()=>{if(t.destroyed)return;let r=n.get(XO);uF(r,n);let i=n.get(YE);i.get(DI)?.forEach(JO),i.delete(DI);let o=r.instance;lk(n)?t.onDestroy(()=>o.cleanUp()):o.cleanUp()}))}},multi:!0}),e}var uF=(e,t)=>{let n=t.get(Sn),r=window._ejsas[n],i=e.instance=new TE(new ol(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=SE(n);i.replayEarlyEventInfos(o),Nh(n);let s=new sl(a=>{dF(t,a,a.currentTarget)});bE(i,s)};function dF(e,t,n){let r=(n&&n.getAttribute(du))??"";/d\d+/.test(r)?fF(r,e,t,n):t.eventPhase===Rh.REPLAY&&cC(t,n)}function fF(e,t,n,r){yl.push({event:n,currentTarget:r}),s1(t,e,hF)}function hF(e){let t=[...yl],n=new Set(e);yl=[];for(let{event:r,currentTarget:i}of t){let o=i.getAttribute(du);n.has(o)?cC(r,i):yl.push({event:r,currentTarget:i})}}var TI=!1;function pF(){TI||(TI=!0,ok(),R1(),B1(),k1(),zx(),Tx(),JP(),Wk())}function gF(e){return e.whenStable()}function SD(){let e=[{provide:cl,useFactory:()=>{let t=!0;return t=!!m(ho,{optional:!0})?.get(lC,null),t&&rn("NgHydration"),t}},{provide:rr,useValue:()=>{zP(!1),m(cl)&&(hk(au()),pF())},multi:!0}];return e.push({provide:nC,useFactory:()=>m(cl)},{provide:ur,useFactory:()=>{if(m(cl)){let t=m(Je);return()=>{gF(t).then(()=>{t.destroyed||KC(t)})}}return()=>{}},multi:!0}),et(e)}function fr(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function sn(e){return th(e)}function ri(e,t){return Qf(e,t?.equal)}var SI=class{[yt];constructor(t){this[yt]=t}destroy(){this[yt].destroy()}};function AD(e){let t=ir(e);if(!t)return null;let n=new oo(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var Re=new w("");var ND=null;function Dt(){return ND}function Og(e){ND??=e}var Hs=class{},Ws=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>m(OD),providedIn:"platform"})}return e})(),kg=new w(""),OD=(()=>{class e extends Ws{_location;_history;_doc=m(Re);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Dt().getBaseHref(this._doc)}onPopState(n){let r=Dt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Dt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Du(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function MD(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function xt(e){return e&&e[0]!=="?"?`?${e}`:e}var Ft=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>m(Tu),providedIn:"root"})}return e})(),bu=new w(""),Tu=(()=>{class e extends Ft{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??m(Re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Du(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+xt(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+xt(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+xt(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(N(Ws),N(bu,8))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hr=(()=>{class e{_subject=new ve;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=yF(MD(RD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+xt(r))}normalize(n){return e.stripTrailingSlash(vF(this._basePath,RD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+xt(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+xt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=xt;static joinWithSlash=Du;static stripTrailingSlash=MD;static \u0275fac=function(r){return new(r||e)(N(Ft))};static \u0275prov=b({token:e,factory:()=>mF(),providedIn:"root"})}return e})();function mF(){return new hr(N(Ft))}function vF(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function RD(e){return e.replace(/\/index.html$/,"")}function yF(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var xg=(()=>{class e extends Ft{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Du(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+xt(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+xt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(N(Ws),N(bu,8))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})();var Pg=/\s+/,kD=[],Fg=(()=>{class e{_ngEl;_renderer;initialClasses=kD;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Pg):kD}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Pg):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Pg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(S(Pn),S(lr))};static \u0275dir=Te({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var Su=class{$implicit;ngForOf;index;count;constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},pr=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Su(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),PD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);PD(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(S(mo),S(vu),S(Ng))};static \u0275dir=Te({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function PD(e,t){e.context.$implicit=t.item}var Lt=(()=>{class e{_viewContainer;_context=new Au;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){xD(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){xD(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(S(mo),S(vu))};static \u0275dir=Te({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Au=class{$implicit=null;ngIf=null};function xD(e,t){if(e&&!e.createEmbeddedView)throw new C(2020,!1)}var rt=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Fn({type:e});static \u0275inj=On({})}return e})();function Lg(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Vg="browser",FD="server";function Mu(e){return e===FD}var zs=class{};var LD=(()=>{class e{static \u0275prov=b({token:e,providedIn:"root",factory:()=>new jg(m(Re),window)})}return e})(),jg=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=_F(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function _F(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}var Ou=new w(""),Hg=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new C(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(N(Ou),N(Q))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),Gs=class{_doc;constructor(t){this._doc=t}manager},Ru="ng-app-id";function VD(e){for(let t of e)t.remove()}function jD(e,t){let n=t.createElement("style");return n.textContent=e,n}function EF(e,t,n,r){let i=e.head?.querySelectorAll(`style[${Ru}="${t}"],link[${Ru}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Ru),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Bg(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Wg=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Mu(o),EF(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,jD);r?.forEach(i=>this.addUsage(i,this.external,Bg))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(VD(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])VD(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,jD(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Bg(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Ru,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(N(Re),N(Sn),N(Xp,8),N(cr))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),Ug={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},zg=/%COMP%/g;var BD="%COMP%",IF=`_nghost-${BD}`,wF=`_ngcontent-${BD}`,CF=!0,DF=new w("",{providedIn:"root",factory:()=>CF});function bF(e){return wF.replace(zg,e)}function TF(e){return IF.replace(zg,e)}function $D(e,t){return t.map(n=>n.replace(zg,e))}var Gg=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c,l=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=Mu(a),this.defaultRenderer=new qs(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===tn.ShadowDom&&(r=U(v({},r),{encapsulation:tn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Nu?i.applyToHost(n):i instanceof Ks&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case tn.Emulated:o=new Nu(c,l,r,this.appId,u,s,a,d,f);break;case tn.ShadowDom:return new $g(c,l,n,r,s,a,this.nonce,d,f);default:o=new Ks(c,l,r,u,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(N(Hg),N(Wg),N(Sn),N(DF),N(Re),N(cr),N(Q),N(Xp),N(po,8))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),qs=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Ug[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(UD(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(UD(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new C(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Ug[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Ug[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Nn.DashCase|Nn.Important)?t.style.setProperty(n,r,i&Nn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Nn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=Dt().getGlobalEventTarget(this.doc,t),!t))throw new C(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function UD(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var $g=class extends qs{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,c,l){super(t,o,s,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=$D(i.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=Bg(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ks=class extends qs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,c,l){super(t,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?$D(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Nu=class extends Ks{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,c,l){let u=i+"-"+r.id;super(t,n,r,o,s,a,c,l,u),this.contentAttr=bF(u),this.hostAttr=TF(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var ku=class e extends Hs{supportsDOMEvents=!0;static makeCurrent(){Og(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=SF();return n==null?null:AF(n)}resetBaseElement(){Ys=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Lg(document.cookie,t)}},Ys=null;function SF(){return Ys=Ys||document.querySelector("base"),Ys?Ys.getAttribute("href"):null}function AF(e){return new URL(e,document.baseURI).pathname}var MF=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),WD=(()=>{class e extends Gs{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(N(Re))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),HD=["alt","control","meta","shift"],RF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},NF={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},zD=(()=>{class e extends Gs{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Dt().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),HD.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=RF[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),HD.forEach(s=>{if(s!==i){let a=NF[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(N(Re))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})();function qg(e,t){return bD(v({rootComponent:e},OF(t)))}function OF(e){return{appProviders:[...LF,...e?.providers??[]],platformProviders:FF}}function kF(){ku.makeCurrent()}function PF(){return new en}function xF(){return Zw(document),document}var FF=[{provide:cr,useValue:Vg},{provide:Jp,useValue:kF,multi:!0},{provide:Re,useFactory:xF}];var LF=[{provide:Jl,useValue:"root"},{provide:en,useFactory:PF},{provide:Ou,useClass:WD,multi:!0,deps:[Re]},{provide:Ou,useClass:zD,multi:!0,deps:[Re]},Gg,Wg,Hg,{provide:io,useExisting:Gg},{provide:zs,useClass:MF},[]];var Zs=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var VF="X-Request-URL",jF="text/plain",UF="application/json",cK=`${UF}, ${jF}, */*`;var Yg=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Yg||{}),Kg=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new Zs,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var Qs=class e extends Kg{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Yg.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};var GD=new w("");var lK=RegExp(`^${VF}:`,"m");var BF=new w(""),$F="b",HF="h",WF="s",zF="st",GF="u",qF="rt",Zg=new w(""),KF=["GET","HEAD"];function YF(e,t){let f=m(Zg),{isCacheActive:n}=f,r=k_(f,["isCacheActive"]),{transferCache:i,method:o}=e;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!KF.includes(o)||!r.includeRequestsWithAuthHeaders&&ZF(e)||r.filter?.(e)===!1)return t(e);let s=m(ho);if(m(BF,{optional:!0}))throw new C(2803,!1);let c=e.url,l=QF(e,c),u=s.get(l,null),d=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(d=i.includeHeaders),u){let{[$F]:h,[qF]:g,[HF]:_,[WF]:T,[zF]:j,[GF]:ke}=u,de=h;switch(g){case"arraybuffer":de=new TextEncoder().encode(h).buffer;break;case"blob":de=new Blob([h]);break}let Yn=new Zs(_);return R(new Qs({body:de,headers:Yn,status:T,statusText:j,url:ke}))}return t(e).pipe(De(h=>{h instanceof Qs}))}function ZF(e){return e.headers.has("authorization")||e.headers.has("proxy-authorization")}function qD(e){return[...e.keys()].sort().map(t=>`${t}=${e.getAll(t)}`).join("&")}function QF(e,t){let{params:n,method:r,responseType:i}=e,o=qD(n),s=e.serializeBody();s instanceof URLSearchParams?s=qD(s):typeof s!="string"&&(s="");let a=[r,i,t,s,o].join("|"),c=JF(a);return c}function JF(e){let t=0;for(let n of e)t=Math.imul(31,t)+n.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function KD(e){return[{provide:Zg,useFactory:()=>(rn("NgHttpTransferCache"),v({isCacheActive:!0},e))},{provide:GD,useValue:YF,multi:!0},{provide:ur,multi:!0,useFactory:()=>{let t=m(Je),n=m(Zg);return()=>{t.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var YD=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(N(Re))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Pu=function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e[e.I18nSupport=2]="I18nSupport",e[e.EventReplay=3]="EventReplay",e[e.IncrementalHydration=4]="IncrementalHydration",e}(Pu||{});function XF(e,t=[],n={}){return{\u0275kind:e,\u0275providers:t}}function ZD(){return XF(Pu.EventReplay,TD())}function QD(...e){let t=[],n=new Set;for(let{\u0275providers:i,\u0275kind:o}of e)n.add(o),i.length&&t.push(i);let r=n.has(Pu.HttpTransferCacheOptions);return et([[],SD(),n.has(Pu.NoHttpTransferCache)||r?[]:KD({}),t])}var L="primary",ua=Symbol("RouteTitle"),tm=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function si(e){return new tm(e)}function ob(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function tL(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!an(e[n],t[n]))return!1;return!0}function an(e,t){let n=e?nm(e):void 0,r=t?nm(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!sb(e[i],t[i]))return!1;return!0}function nm(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function sb(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function ab(e){return e.length>0?e[e.length-1]:null}function _r(e){return mh(e)?e:ti(e)?le(Promise.resolve(e)):R(e)}var nL={exact:lb,subset:ub},cb={exact:rL,subset:iL,ignored:()=>!0};function JD(e,t,n){return nL[n.paths](e.root,t.root,n.matrixParams)&&cb[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function rL(e,t){return an(e,t)}function lb(e,t,n){if(!ii(e.segments,t.segments)||!Lu(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!lb(e.children[r],t.children[r],n))return!1;return!0}function iL(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>sb(e[n],t[n]))}function ub(e,t,n){return db(e,t,t.segments,n)}function db(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!ii(i,n)||t.hasChildren()||!Lu(i,n,r))}else if(e.segments.length===n.length){if(!ii(e.segments,n)||!Lu(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!ub(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!ii(e.segments,i)||!Lu(e.segments,i,r)||!e.children[L]?!1:db(e.children[L],t,o,r)}}function Lu(e,t,n){return t.every((r,i)=>cb[n](e[i].parameters,r.parameters))}var ln=class{root;queryParams;fragment;_queryParamMap;constructor(t=new X([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=si(this.queryParams),this._queryParamMap}toString(){return aL.serialize(this)}},X=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vu(this)}},gr=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=si(this.parameters),this._parameterMap}toString(){return hb(this)}};function oL(e,t){return ii(e,t)&&e.every((n,r)=>an(n.parameters,t[r].parameters))}function ii(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function sL(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===L&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==L&&(n=n.concat(t(i,r)))}),n}var ai=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>new mr,providedIn:"root"})}return e})(),mr=class{parse(t){let n=new im(t);return new ln(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Js(t.root,!0)}`,r=uL(t.queryParams),i=typeof t.fragment=="string"?`#${cL(t.fragment)}`:"";return`${n}${r}${i}`}},aL=new mr;function Vu(e){return e.segments.map(t=>hb(t)).join("/")}function Js(e,t){if(!e.hasChildren())return Vu(e);if(t){let n=e.children[L]?Js(e.children[L],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==L&&r.push(`${i}:${Js(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=sL(e,(r,i)=>i===L?[Js(e.children[L],!1)]:[`${i}:${Js(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[L]!=null?`${Vu(e)}/${n[0]}`:`${Vu(e)}/(${n.join("//")})`}}function fb(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xu(e){return fb(e).replace(/%3B/gi,";")}function cL(e){return encodeURI(e)}function rm(e){return fb(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ju(e){return decodeURIComponent(e)}function XD(e){return ju(e.replace(/\+/g,"%20"))}function hb(e){return`${rm(e.path)}${lL(e.parameters)}`}function lL(e){return Object.entries(e).map(([t,n])=>`;${rm(t)}=${rm(n)}`).join("")}function uL(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${xu(n)}=${xu(i)}`).join("&"):`${xu(n)}=${xu(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var dL=/^[^\/()?;#]+/;function Qg(e){let t=e.match(dL);return t?t[0]:""}var fL=/^[^\/()?;=#]+/;function hL(e){let t=e.match(fL);return t?t[0]:""}var pL=/^[^=?&#]+/;function gL(e){let t=e.match(pL);return t?t[0]:""}var mL=/^[^&#]+/;function vL(e){let t=e.match(mL);return t?t[0]:""}var im=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new X([],{}):new X([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[L]=new X(t,n)),r}parseSegment(){let t=Qg(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(t),new gr(ju(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=hL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Qg(this.remaining);i&&(r=i,this.capture(r))}t[ju(n)]=ju(r)}parseQueryParam(t){let n=gL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=vL(this.remaining);s&&(r=s,this.capture(r))}let i=XD(n),o=XD(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Qg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new C(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=L);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[L]:new X([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new C(4011,!1)}};function pb(e){return e.segments.length>0?new X([],{[L]:e}):e}function gb(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=gb(i);if(r===L&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new X(e.segments,t);return yL(n)}function yL(e){if(e.numberOfChildren===1&&e.children[L]){let t=e.children[L];return new X(e.segments.concat(t.segments),t.children)}return e}function vr(e){return e instanceof ln}function mb(e,t,n=null,r=null){let i=vb(e);return yb(i,t,n,r)}function vb(e){let t;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new X(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=pb(r);return t??i}function yb(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Jg(i,i,i,n,r);let o=_L(t);if(o.toRoot())return Jg(i,i,new X([],{}),n,r);let s=EL(o,i,e),a=s.processChildren?ea(s.segmentGroup,s.index,o.commands):Eb(s.segmentGroup,s.index,o.commands);return Jg(i,s.segmentGroup,a,n,r)}function Bu(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function na(e){return typeof e=="object"&&e!=null&&e.outlets}function Jg(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;e===t?s=n:s=_b(e,t,n);let a=pb(gb(s));return new ln(a,o,i)}function _b(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=_b(o,t,n)}),new X(e.segments,r)}var $u=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Bu(r[0]))throw new C(4003,!1);let i=r.find(na);if(i&&i!==ab(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function _L(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new $u(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new $u(n,t,r)}var Co=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function EL(e,t,n){if(e.isAbsolute)return new Co(t,!0,0);if(!n)return new Co(t,!1,NaN);if(n.parent===null)return new Co(n,!0,0);let r=Bu(e.commands[0])?0:1,i=n.segments.length-1+r;return IL(n,i,e.numberOfDoubleDots)}function IL(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new Co(r,!1,i-o)}function wL(e){return na(e[0])?e[0].outlets:{[L]:e}}function Eb(e,t,n){if(e??=new X([],{}),e.segments.length===0&&e.hasChildren())return ea(e,t,n);let r=CL(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new X(e.segments.slice(0,r.pathIndex),{});return o.children[L]=new X(e.segments.slice(r.pathIndex),e.children),ea(o,0,i)}else return r.match&&i.length===0?new X(e.segments,{}):r.match&&!e.hasChildren()?om(e,t,n):r.match?ea(e,0,i):om(e,t,n)}function ea(e,t,n){if(n.length===0)return new X(e.segments,{});{let r=wL(n),i={};if(Object.keys(r).some(o=>o!==L)&&e.children[L]&&e.numberOfChildren===1&&e.children[L].segments.length===0){let o=ea(e.children[L],t,n);return new X(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Eb(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new X(e.segments,i)}}function CL(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(na(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!tb(c,l,s))return o;r+=2}else{if(!tb(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function om(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(na(o)){let c=DL(o.outlets);return new X(r,c)}if(i===0&&Bu(n[0])){let c=e.segments[t];r.push(new gr(c.path,eb(n[0]))),i++;continue}let s=na(o)?o.outlets[L]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Bu(a)?(r.push(new gr(s,eb(a))),i+=2):(r.push(new gr(s,{})),i++)}return new X(r,{})}function DL(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=om(new X([],{}),0,r))}),t}function eb(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function tb(e,t,n){return e==n.path&&an(t,n.parameters)}var Uu="imperative",Se=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Se||{}),mt=class{id;url;constructor(t,n){this.id=t,this.url=n}},yr=class extends mt{type=Se.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},bt=class extends mt{urlAfterRedirects;type=Se.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},it=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(it||{}),bo=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(bo||{}),cn=class extends mt{reason;code;type=Se.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},un=class extends mt{reason;code;type=Se.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},To=class extends mt{error;target;type=Se.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ra=class extends mt{urlAfterRedirects;state;type=Se.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hu=class extends mt{urlAfterRedirects;state;type=Se.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wu=class extends mt{urlAfterRedirects;state;shouldActivate;type=Se.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},zu=class extends mt{urlAfterRedirects;state;type=Se.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gu=class extends mt{urlAfterRedirects;state;type=Se.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qu=class{route;type=Se.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ku=class{route;type=Se.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Yu=class{snapshot;type=Se.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zu=class{snapshot;type=Se.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qu=class{snapshot;type=Se.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ju=class{snapshot;type=Se.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},So=class{routerEvent;position;anchor;type=Se.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},ia=class{},Ao=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function bL(e,t){return e.providers&&!e._injector&&(e._injector=vo(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Vt(e){return e.outlet||L}function TL(e,t){let n=e.filter(r=>Vt(r)===t);return n.push(...e.filter(r=>Vt(r)!==t)),n}function da(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Xu=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return da(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new ci(this.rootInjector)}},ci=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Xu(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(N(xe))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ed=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=sm(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=sm(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=am(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return am(t,this._root).map(n=>n.value)}};function sm(e,t){if(e===t.value)return t;for(let n of t.children){let r=sm(e,n);if(r)return r}return null}function am(e,t){if(e===t.value)return[t];for(let n of t.children){let r=am(e,n);if(r.length)return r.unshift(t),r}return[]}var gt=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function wo(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var oa=class extends ed{snapshot;constructor(t,n){super(t),this.snapshot=n,gm(this,t)}toString(){return this.snapshot.toString()}};function Ib(e){let t=SL(e),n=new Pe([new gr("",{})]),r=new Pe({}),i=new Pe({}),o=new Pe({}),s=new Pe(""),a=new ot(n,r,o,s,i,L,e,t.root);return a.snapshot=t.root,new oa(new gt(a,[]),t)}function SL(e){let t={},n={},r={},i="",o=new oi([],t,r,i,n,L,e,null,{});return new sa("",new gt(o,[]))}var ot=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Y(l=>l[ua]))??R(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(t=>si(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(t=>si(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function td(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:v(v({},t.params),e.params),data:v(v({},t.data),e.data),resolve:v(v(v(v({},e.data),t.data),i?.data),e._resolvedData)}:r={params:v({},e.params),data:v({},e.data),resolve:v(v({},e.data),e._resolvedData??{})},i&&Cb(i)&&(r.resolve[ua]=i.title),r}var oi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ua]}constructor(t,n,r,i,o,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=si(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=si(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},sa=class extends ed{url;constructor(t,n){super(n),this.url=t,gm(this,n)}toString(){return wb(this._root)}};function gm(e,t){t.value._routerState=e,t.children.forEach(n=>gm(e,n))}function wb(e){let t=e.children.length>0?` { ${e.children.map(wb).join(", ")} } `:"";return`${e.value}${t}`}function Xg(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,an(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),an(t.params,n.params)||e.paramsSubject.next(n.params),tL(t.url,n.url)||e.urlSubject.next(n.url),an(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function cm(e,t){let n=an(e.params,t.params)&&oL(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||cm(e.parent,t.parent))}function Cb(e){return typeof e.title=="string"||e.title===null}var Db=new w(""),fa=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=L;activateEvents=new me;deactivateEvents=new me;attachEvents=new me;detachEvents=new me;routerOutletData=Bw(void 0);parentContexts=m(ci);location=m(mo);changeDetector=m(Un);inputBinder=m(ha,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new lm(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Te({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[sr]})}return e})(),lm=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===ot?this.route:t===ci?this.childContexts:t===Db?this.outletData:this.parent.get(t,n)}},ha=new w(""),mm=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=_s([r.queryParams,r.params,r.data]).pipe(_t(([o,s,a],c)=>(a=v(v(v({},o),s),a),c===0?R(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=AD(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),vm=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Be({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ce(0,"router-outlet")},dependencies:[fa],encapsulation:2})}return e})();function ym(e){let t=e.children&&e.children.map(ym),n=t?U(v({},e),{children:t}):v({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==L&&(n.component=vm),n}function AL(e,t,n){let r=aa(e,t._root,n?n._root:void 0);return new oa(r,t)}function aa(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=ML(e,t,n);return new gt(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>aa(e,a)),s}}let r=RL(t.value),i=t.children.map(o=>aa(e,o));return new gt(r,i)}}function ML(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return aa(e,r,i);return aa(e,r)})}function RL(e){return new ot(new Pe(e.url),new Pe(e.params),new Pe(e.queryParams),new Pe(e.fragment),new Pe(e.data),e.outlet,e.component,e)}var Mo=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},bb="ngNavigationCancelingError";function nd(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=vr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Tb(!1,it.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Tb(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[bb]=!0,n.cancellationCode=t,n}function NL(e){return Sb(e)&&vr(e.url)}function Sb(e){return!!e&&e[bb]}var OL=(e,t,n,r)=>Y(i=>(new um(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),um=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Xg(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=wo(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=wo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=wo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=wo(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ju(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Zu(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(Xg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Xg(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},rd=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Do=class{component;route;constructor(t,n){this.component=t,this.route=n}};function kL(e,t,n){let r=e._root,i=t?t._root:null;return Xs(r,i,n,[r.value])}function PL(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function No(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!kI(e)?e:t.get(e):r}function Xs(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=wo(t);return e.children.forEach(s=>{xL(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ta(a,n.getContext(s),i)),i}function xL(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=FL(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new rd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Xs(e,t,a?a.children:null,r,i):Xs(e,t,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Do(a.outlet.component,s))}else s&&ta(t,a,i),i.canActivateChecks.push(new rd(r)),o.component?Xs(e,null,a?a.children:null,r,i):Xs(e,null,n,r,i);return i}function FL(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!ii(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ii(e.url,t.url)||!an(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cm(e,t)||!an(e.queryParams,t.queryParams);case"paramsChange":default:return!cm(e,t)}}function ta(e,t,n){let r=wo(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?ta(s,t.children.getContext(o),n):ta(s,null,n):ta(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Do(t.outlet.component,i)):n.canDeactivateChecks.push(new Do(null,i)):n.canDeactivateChecks.push(new Do(null,i))}function pa(e){return typeof e=="function"}function LL(e){return typeof e=="boolean"}function VL(e){return e&&pa(e.canLoad)}function jL(e){return e&&pa(e.canActivate)}function UL(e){return e&&pa(e.canActivateChild)}function BL(e){return e&&pa(e.canDeactivate)}function $L(e){return e&&pa(e.canMatch)}function Ab(e){return e instanceof Cn||e?.name==="EmptyError"}var Fu=Symbol("INITIAL_VALUE");function Ro(){return _t(e=>_s(e.map(t=>t.pipe(bn(1),Eh(Fu)))).pipe(Y(t=>{for(let n of t)if(n!==!0){if(n===Fu)return Fu;if(n===!1||HL(n))return n}return!0}),dt(t=>t!==Fu),bn(1)))}function HL(e){return vr(e)||e instanceof Mo}function WL(e,t){return ge(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?R(U(v({},n),{guardsResult:!0})):zL(s,r,i,e).pipe(ge(a=>a&&LL(a)?GL(r,o,e,t):R(a)),Y(a=>U(v({},n),{guardsResult:a})))})}function zL(e,t,n,r){return le(e).pipe(ge(i=>QL(i.component,i.route,n,t,r)),Tn(i=>i!==!0,!0))}function GL(e,t,n,r){return le(t).pipe(Xn(i=>Hi(KL(i.route.parent,r),qL(i.route,r),ZL(e,i.path,n),YL(e,i.route,n))),Tn(i=>i!==!0,!0))}function qL(e,t){return e!==null&&t&&t(new Qu(e)),R(!0)}function KL(e,t){return e!==null&&t&&t(new Yu(e)),R(!0)}function YL(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return R(!0);let i=r.map(o=>el(()=>{let s=da(t)??n,a=No(o,s),c=jL(a)?a.canActivate(t,e):Le(s,()=>a(t,e));return _r(c).pipe(Tn())}));return R(i).pipe(Ro())}function ZL(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>PL(s)).filter(s=>s!==null).map(s=>el(()=>{let a=s.guards.map(c=>{let l=da(s.node)??n,u=No(c,l),d=UL(u)?u.canActivateChild(r,e):Le(l,()=>u(r,e));return _r(d).pipe(Tn())});return R(a).pipe(Ro())}));return R(o).pipe(Ro())}function QL(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return R(!0);let s=o.map(a=>{let c=da(t)??i,l=No(a,c),u=BL(l)?l.canDeactivate(e,t,n,r):Le(c,()=>l(e,t,n,r));return _r(u).pipe(Tn())});return R(s).pipe(Ro())}function JL(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return R(!0);let o=i.map(s=>{let a=No(s,e),c=VL(a)?a.canLoad(t,n):Le(e,()=>a(t,n));return _r(c)});return R(o).pipe(Ro(),Mb(r))}function Mb(e){return ch(De(t=>{if(typeof t!="boolean")throw nd(e,t)}),Y(t=>t===!0))}function XL(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return R(!0);let o=i.map(s=>{let a=No(s,e),c=$L(a)?a.canMatch(t,n):Le(e,()=>a(t,n));return _r(c)});return R(o).pipe(Ro(),Mb(r))}var ca=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},la=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Io(e){return Bi(new ca(e))}function eV(e){return Bi(new C(4e3,!1))}function tV(e){return Bi(Tb(!1,it.GuardRejected))}var dm=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return R(r);if(i.numberOfChildren>1||!i.children[L])return eV(`${t.redirectTo}`);i=i.children[L]}}applyRedirectCommands(t,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,params:h,data:g,title:_}=i,T=Le(o,()=>a({params:h,data:g,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,title:_}));if(T instanceof ln)throw new la(T);n=T}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new la(s);return s}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new ln(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new X(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},fm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nV(e,t,n,r,i){let o=Rb(e,t,n);return o.matched?(r=bL(t,r),XL(r,t,n,i).pipe(Y(s=>s===!0?o:v({},fm)))):R(o)}function Rb(e,t,n){if(t.path==="**")return rV(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?v({},fm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||ob)(n,e,t);if(!i)return v({},fm);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?v(v({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function rV(e){return{matched:!0,parameters:e.length>0?ab(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function nb(e,t,n,r){return n.length>0&&sV(e,n,r)?{segmentGroup:new X(t,oV(r,new X(n,e.children))),slicedSegments:[]}:n.length===0&&aV(e,n,r)?{segmentGroup:new X(e.segments,iV(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new X(e.segments,e.children),slicedSegments:n}}function iV(e,t,n,r){let i={};for(let o of n)if(od(e,t,o)&&!r[Vt(o)]){let s=new X([],{});i[Vt(o)]=s}return v(v({},r),i)}function oV(e,t){let n={};n[L]=t;for(let r of e)if(r.path===""&&Vt(r)!==L){let i=new X([],{});n[Vt(r)]=i}return n}function sV(e,t,n){return n.some(r=>od(e,t,r)&&Vt(r)!==L)}function aV(e,t,n){return n.some(r=>od(e,t,r))}function od(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function cV(e,t,n){return t.length===0&&!e.children[n]}var hm=class{};function lV(e,t,n,r,i,o,s="emptyOnly"){return new pm(e,t,n,r,i,s,o).recognize()}var uV=31,pm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new dm(this.urlSerializer,this.urlTree)}noMatchError(t){return new C(4002,`'${t.segmentGroup}'`)}recognize(){let t=nb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Y(({children:n,rootSnapshot:r})=>{let i=new gt(r,n),o=new sa("",i),s=mb(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new oi([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),L,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,L,n).pipe(Y(r=>({children:r,rootSnapshot:n})),Dn(r=>{if(r instanceof la)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ca?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(Y(s=>s instanceof gt?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return le(o).pipe(Xn(s=>{let a=r.children[s],c=TL(n,s);return this.processSegmentGroup(t,c,a,s,i)}),_h((s,a)=>(s.push(...a),s)),er(null),yh(),ge(s=>{if(s===null)return Io(r);let a=Nb(s);return dV(a),R(a)}))}processSegment(t,n,r,i,o,s,a){return le(n).pipe(Xn(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,i,o,s,a).pipe(Dn(l=>{if(l instanceof ca)return R(null);throw l}))),Tn(c=>!!c),Dn(c=>{if(Ab(c))return cV(r,i,o)?R(new hm):Io(r);throw c}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,c){return Vt(r)!==s&&(s===L||!od(i,o,r))?Io(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,c):Io(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=Rb(n,i,o);if(!c)return Io(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>uV&&(this.allowRedirects=!1));let h=new oi(o,l,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,rb(i),Vt(i),i.component??i._loadedComponent??null,i,ib(i)),g=td(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(g.params),h.data=Object.freeze(g.data);let _=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,t);return this.applyRedirects.lineralizeSegments(i,_).pipe(ge(T=>this.processSegment(t,r,n,T.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=nV(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(_t(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(_t(({routes:l})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:h}=c,g=new oi(f,d,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,rb(r),Vt(r),r.component??r._loadedComponent??null,r,ib(r)),_=td(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(_.params),g.data=Object.freeze(_.data);let{segmentGroup:T,slicedSegments:j}=nb(n,f,h,l);if(j.length===0&&T.hasChildren())return this.processChildren(u,l,T,g).pipe(Y(de=>new gt(g,de)));if(l.length===0&&j.length===0)return R(new gt(g,[]));let ke=Vt(r)===o;return this.processSegment(u,l,T,j,ke?L:o,!0,g).pipe(Y(de=>new gt(g,de instanceof gt?[de]:[])))}))):Io(n)))}getChildConfig(t,n,r){return n.children?R({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?R({routes:n._loadedRoutes,injector:n._loadedInjector}):JL(t,n,r,this.urlSerializer).pipe(ge(i=>i?this.configLoader.loadChildren(t,n).pipe(De(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):tV(n))):R({routes:[],injector:t})}};function dV(e){e.sort((t,n)=>t.value.outlet===L?-1:n.value.outlet===L?1:t.value.outlet.localeCompare(n.value.outlet))}function fV(e){let t=e.value.routeConfig;return t&&t.path===""}function Nb(e){let t=[],n=new Set;for(let r of e){if(!fV(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=Nb(r.children);t.push(new gt(r.value,i))}return t.filter(r=>!n.has(r))}function rb(e){return e.data||{}}function ib(e){return e.resolve||{}}function hV(e,t,n,r,i,o){return ge(s=>lV(e,t,n,r,s.extractedUrl,i,o).pipe(Y(({state:a,tree:c})=>U(v({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function pV(e,t){return ge(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return R(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of Ob(c))s.add(l);let a=0;return le(s).pipe(Xn(c=>o.has(c)?gV(c,r,e,t):(c.data=td(c,c.parent,e).resolve,R(void 0))),De(()=>a++),Wi(1),ge(c=>a===s.size?R(n):Ke))})}function Ob(e){let t=e.children.map(n=>Ob(n)).flat();return[e,...t]}function gV(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!Cb(i)&&(o[ua]=i.title),mV(o,e,t,r).pipe(Y(s=>(e._resolvedData=s,e.data=td(e,e.parent,n).resolve,null)))}function mV(e,t,n,r){let i=nm(e);if(i.length===0)return R({});let o={};return le(i).pipe(ge(s=>vV(e[s],t,n,r).pipe(Tn(),De(a=>{if(a instanceof Mo)throw nd(new mr,a);o[s]=a}))),Wi(1),Y(()=>o),Dn(s=>Ab(s)?Ke:Bi(s)))}function vV(e,t,n,r){let i=da(t)??r,o=No(e,i),s=o.resolve?o.resolve(t,n):Le(i,()=>o(t,n));return _r(s)}function em(e){return _t(t=>{let n=e(t);return n?le(n).pipe(Y(()=>t)):R(t)})}var _m=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===L);return r}getResolvedTitleForRoute(n){return n.data[ua]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>m(kb),providedIn:"root"})}return e})(),kb=(()=>{class e extends _m{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(N(YD))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),li=new w("",{providedIn:"root",factory:()=>({})}),ui=new w(""),sd=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=m(ID);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return R(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=_r(n.loadComponent()).pipe(Y(xb),De(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Es(()=>{this.componentLoaders.delete(n)})),i=new Li(r,()=>new ve).pipe(Fi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return R({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Pb(r,this.compiler,n,this.onLoadEndListener).pipe(Es(()=>{this.childrenLoaders.delete(r)})),s=new Li(o,()=>new ve).pipe(Fi());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Pb(e,t,n,r){return _r(e.loadChildren()).pipe(Y(xb),ge(i=>i instanceof Cg||Array.isArray(i)?R(i):le(t.compileModuleAsync(i))),Y(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(ui,[],{optional:!0,self:!0}).flat()),{routes:s.map(ym),injector:o}}))}function yV(e){return e&&typeof e=="object"&&"default"in e}function xb(e){return yV(e)?e.default:e}var ad=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>m(_V),providedIn:"root"})}return e})(),_V=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Em=new w(""),Im=new w("");function Fb(e,t,n){let r=e.get(Im),i=e.get(Re);return e.get(Q).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),EV(e))),{onViewTransitionCreated:c}=r;return c&&Le(e,()=>c({transition:a,from:t,to:n})),s})}function EV(e){return new Promise(t=>{cu({read:()=>setTimeout(t)},{injector:e})})}var wm=new w(""),cd=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ve;transitionAbortSubject=new ve;configLoader=m(sd);environmentInjector=m(xe);destroyRef=m(fo);urlSerializer=m(ai);rootContexts=m(ci);location=m(hr);inputBindingEnabled=m(ha,{optional:!0})!==null;titleStrategy=m(_m);options=m(li,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=m(ad);createViewTransition=m(Em,{optional:!0});navigationErrorHandler=m(wm,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>R(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new qu(i)),r=i=>this.events.next(new Ku(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(U(v({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new Pe(null),this.transitions.pipe(dt(r=>r!==null),_t(r=>{let i=!1,o=!1;return R(r).pipe(_t(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",it.SupersededByNewNavigation),Ke;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?U(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new un(s.id,this.urlSerializer.serialize(s.rawUrl),l,bo.IgnoredSameUrlNavigation)),s.resolve(!1),Ke}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return R(s).pipe(_t(l=>(this.events.next(new yr(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Ke:Promise.resolve(l))),hV(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),De(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=U(v({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let u=new ra(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:u,source:d,restoredState:f,extras:h}=s,g=new yr(l,this.urlSerializer.serialize(u),d,f);this.events.next(g);let _=Ib(this.rootComponentType).snapshot;return this.currentTransition=r=U(v({},s),{targetSnapshot:_,urlAfterRedirects:u,extras:U(v({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,R(r)}else{let l="";return this.events.next(new un(s.id,this.urlSerializer.serialize(s.extractedUrl),l,bo.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Ke}}),De(s=>{let a=new Hu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Y(s=>(this.currentTransition=r=U(v({},s),{guards:kL(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),WL(this.environmentInjector,s=>this.events.next(s)),De(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw nd(this.urlSerializer,s.guardsResult);let a=new Wu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),dt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",it.GuardRejected),!1)),em(s=>{if(s.guards.canActivateChecks.length!==0)return R(s).pipe(De(a=>{let c=new zu(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),_t(a=>{let c=!1;return R(a).pipe(pV(this.paramsInheritanceStrategy,this.environmentInjector),De({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",it.NoDataFromResolver)}}))}),De(a=>{let c=new Gu(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),em(s=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(De(u=>{c.component=u}),Y(()=>{})));for(let u of c.children)l.push(...a(u));return l};return _s(a(s.targetSnapshot.root)).pipe(er(null),bn(1))}),em(()=>this.afterPreactivation()),_t(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?le(c).pipe(Y(()=>r)):R(r)}),Y(s=>{let a=AL(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=U(v({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),De(()=>{this.events.next(new ia)}),OL(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),bn(1),De({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new bt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Ih(this.transitionAbortSubject.pipe(De(s=>{throw s}))),Es(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",it.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Dn(s=>{if(this.destroyed)return r.resolve(!1),Ke;if(o=!0,Sb(s))this.events.next(new cn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),NL(s)?this.events.next(new Ao(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new To(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Le(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Mo){let{message:l,cancellationCode:u}=nd(this.urlSerializer,c);this.events.next(new cn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new Ao(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Ke}))}))}cancelNavigationTransition(n,r,i){let o=new cn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function IV(e){return e!==Uu}var Lb=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>m(wV),providedIn:"root"})}return e})(),id=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},wV=(()=>{class e extends id{static \u0275fac=(()=>{let n;return function(i){return(n||(n=uo(e)))(i||e)}})();static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Vb=(()=>{class e{urlSerializer=m(ai);options=m(li,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=m(hr);urlHandlingStrategy=m(ad);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ln;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof ln?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=Ib(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>m(CV),providedIn:"root"})}return e})(),CV=(()=>{class e extends Vb{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof yr?this.updateStateMemento():n instanceof un?this.commitTransition(r):n instanceof ra?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ia?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof cn&&(n.code===it.GuardRejected||n.code===it.NoDataFromResolver)?this.restoreHistory(r):n instanceof To?this.restoreHistory(r,!0):n instanceof bt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=v(v({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=v(v({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=uo(e)))(i||e)}})();static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ld(e,t){e.events.pipe(dt(n=>n instanceof bt||n instanceof cn||n instanceof To||n instanceof un),Y(n=>n instanceof bt||n instanceof un?0:(n instanceof cn?n.code===it.Redirect||n.code===it.SupersededByNewNavigation:!1)?2:1),dt(n=>n!==2),bn(1)).subscribe(()=>{t()})}var DV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ie=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=m(Dg);stateManager=m(Vb);options=m(li,{optional:!0})||{};pendingTasks=m(kn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=m(cd);urlSerializer=m(ai);location=m(hr);urlHandlingStrategy=m(ad);_events=new ve;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=m(Lb);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=m(ui,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!m(ha,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new fe;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof cn&&r.code!==it.Redirect&&r.code!==it.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof bt)this.navigated=!0;else if(r instanceof Ao){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=v({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||IV(i.source)},s);this.scheduleNavigation(a,Uu,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}SV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Uu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=v({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(ym),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=v(v({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=vb(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return yb(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=vr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Uu,null,r)}navigate(n,r={skipLocationChange:!1}){return TV(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=v({},DV):r===!1?i=v({},bV):i=r,vr(n))return JD(this.currentUrlTree,n,i);let o=this.parseUrl(n);return JD(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return ld(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function TV(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new C(4008,!1)}function SV(e){return!(e instanceof ia)&&!(e instanceof Ao)}var Tt=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ve;constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof bt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(vr(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:mC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:vr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(S(Ie),S(ot),Yp("tabindex"),S(lr),S(Pn),S(Ft))};static \u0275dir=Te({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Ve("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Bs("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",fr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",fr],replaceUrl:[2,"replaceUrl","replaceUrl",fr],routerLink:"routerLink"},features:[sr]})}return e})();var ga=class{};var jb=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o){this.router=n,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(dt(n=>n instanceof bt),Xn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=vo(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return le(i).pipe($i())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=R(null);let o=i.pipe(ge(s=>s===null?R(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return le([o,s]).pipe($i())}else return o})}static \u0275fac=function(r){return new(r||e)(N(Ie),N(xe),N(ga),N(sd))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ub=new w(""),AV=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof yr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof bt?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof un&&n.code===bo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof So&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new So(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){QC()};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})();function Dm(e,...t){return et([{provide:ui,multi:!0,useValue:e},[],{provide:ot,useFactory:Bb,deps:[Ie]},{provide:ur,multi:!0,useFactory:$b},t.map(n=>n.\u0275providers)])}function Bb(e){return e.routerState.root}function ma(e,t){return{\u0275kind:e,\u0275providers:t}}function $b(){let e=m(he);return t=>{let n=e.get(Je);if(t!==n.components[0])return;let r=e.get(Ie),i=e.get(Hb);e.get(bm)===1&&r.initialNavigation(),e.get(Gb,null,B.Optional)?.setUpPreloading(),e.get(Ub,null,B.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Hb=new w("",{factory:()=>new ve}),bm=new w("",{providedIn:"root",factory:()=>1});function Wb(){let e=[{provide:bm,useValue:0},bg(()=>{let t=m(he);return t.get(kg,Promise.resolve()).then(()=>new Promise(r=>{let i=t.get(Ie),o=t.get(Hb);ld(i,()=>{r(!0)}),t.get(cd).afterPreactivation=()=>(r(!0),o.closed?R(void 0):o),i.initialNavigation()}))})];return ma(2,e)}function zb(){let e=[bg(()=>{m(Ie).setUpLocationChangeListener()}),{provide:bm,useValue:2}];return ma(3,e)}var Gb=new w("");function qb(e){return ma(0,[{provide:Gb,useExisting:jb},{provide:ga,useExisting:e}])}function Kb(){return ma(8,[mm,{provide:ha,useExisting:mm}])}function Yb(e){rn("NgRouterViewTransitions");let t=[{provide:Em,useValue:Fb},{provide:Im,useValue:v({skipNextTransition:!!e?.skipInitialTransition},e)}];return ma(9,t)}var Zb=[hr,{provide:ai,useClass:mr},Ie,ci,{provide:ot,useFactory:Bb,deps:[Ie]},sd,[]],jt=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[Zb,[],{provide:ui,multi:!0,useValue:n},[],r?.errorHandler?{provide:wm,useValue:r.errorHandler}:[],{provide:li,useValue:r||{}},r?.useHash?RV():NV(),MV(),r?.preloadingStrategy?qb(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?OV(r):[],r?.bindToComponentInputs?Kb().\u0275providers:[],r?.enableViewTransitions?Yb().\u0275providers:[],kV()]}}static forChild(n){return{ngModule:e,providers:[{provide:ui,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Fn({type:e});static \u0275inj=On({})}return e})();function MV(){return{provide:Ub,useFactory:()=>{let e=m(LD),t=m(Q),n=m(li),r=m(cd),i=m(ai);return n.scrollOffset&&e.setOffset(n.scrollOffset),new AV(i,r,e,t,n)}}}function RV(){return{provide:Ft,useClass:xg}}function NV(){return{provide:Ft,useClass:Tu}}function OV(e){return[e.initialNavigation==="disabled"?zb().\u0275providers:[],e.initialNavigation==="enabledBlocking"?Wb().\u0275providers:[]]}var Cm=new w("");function kV(){return[{provide:Cm,useFactory:$b},{provide:ur,multi:!0,useExisting:Cm}]}var ud=class e{title="cookshare-ci";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Be({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&ce(0,"router-outlet")},dependencies:[fa],encapsulation:2})};var oT=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(S(lr),S(Pn))};static \u0275dir=Te({type:e})}return e})(),PV=(()=>{class e extends oT{static \u0275fac=(()=>{let n;return function(i){return(n||(n=uo(e)))(i||e)}})();static \u0275dir=Te({type:e,features:[Ln]})}return e})(),sT=new w("");var xV={provide:sT,useExisting:Qr(()=>Lo),multi:!0};function FV(){let e=Dt()?Dt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var LV=new w(""),Lo=(()=>{class e extends oT{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!FV())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(S(lr),S(Pn),S(LV,8))};static \u0275dir=Te({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ve("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[$s([xV]),Ln]})}return e})();function VV(e){return e==null||jV(e)===0}function jV(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var Mm=new w(""),aT=new w("");function UV(e){return VV(e.value)?{required:!0}:null}function Qb(e){return null}function cT(e){return e!=null}function lT(e){return ti(e)?le(e):e}function uT(e){let t={};return e.forEach(n=>{t=n!=null?v(v({},t),n):t}),Object.keys(t).length===0?null:t}function dT(e,t){return t.map(n=>n(e))}function BV(e){return!e.validate}function fT(e){return e.map(t=>BV(t)?t:n=>t.validate(n))}function $V(e){if(!e)return null;let t=e.filter(cT);return t.length==0?null:function(n){return uT(dT(n,t))}}function Rm(e){return e!=null?$V(fT(e)):null}function HV(e){if(!e)return null;let t=e.filter(cT);return t.length==0?null:function(n){let r=dT(n,t).map(lT);return vh(r).pipe(Y(uT))}}function Nm(e){return e!=null?HV(fT(e)):null}function Jb(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function WV(e){return e._rawValidators}function zV(e){return e._rawAsyncValidators}function Tm(e){return e?Array.isArray(e)?e:[e]:[]}function fd(e,t){return Array.isArray(e)?e.includes(t):e===t}function Xb(e,t){let n=Tm(t);return Tm(e).forEach(i=>{fd(n,i)||n.push(i)}),n}function eT(e,t){return Tm(t).filter(n=>!fd(e,n))}var hd=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Rm(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Nm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Fo=class extends hd{name;get formDirective(){return null}get path(){return null}},wa=class extends hd{_parent=null;name=null;valueAccessor=null},pd=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},GV={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},iZ=U(v({},GV),{"[class.ng-submitted]":"isSubmitted"}),yd=(()=>{class e extends pd{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(S(wa,2))};static \u0275dir=Te({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&wu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ln]})}return e})(),_d=(()=>{class e extends pd{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(S(Fo,10))};static \u0275dir=Te({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&wu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Ln]})}return e})();var va="VALID",dd="INVALID",Po="PENDING",ya="DISABLED",Er=class{},gd=class extends Er{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Ea=class extends Er{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},Ia=class extends Er{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},xo=class extends Er{status;source;constructor(t,n){super(),this.status=t,this.source=n}},Sm=class extends Er{source;constructor(t){super(),this.source=t}},Am=class extends Er{source;constructor(t){super(),this.source=t}};function hT(e){return(Ed(e)?e.validators:e)||null}function qV(e){return Array.isArray(e)?Rm(e):e||null}function pT(e,t){return(Ed(t)?t.asyncValidators:e)||null}function KV(e){return Array.isArray(e)?Nm(e):e||null}function Ed(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function YV(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new C(1e3,"");if(!r[n])throw new C(1001,"")}function ZV(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new C(1002,"")})}var md=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return sn(this.statusReactive)}set status(t){sn(()=>this.statusReactive.set(t))}_status=ri(()=>this.statusReactive());statusReactive=ei(void 0);get valid(){return this.status===va}get invalid(){return this.status===dd}get pending(){return this.status==Po}get disabled(){return this.status===ya}get enabled(){return this.status!==ya}errors;get pristine(){return sn(this.pristineReactive)}set pristine(t){sn(()=>this.pristineReactive.set(t))}_pristine=ri(()=>this.pristineReactive());pristineReactive=ei(!0);get dirty(){return!this.pristine}get touched(){return sn(this.touchedReactive)}set touched(t){sn(()=>this.touchedReactive.set(t))}_touched=ri(()=>this.touchedReactive());touchedReactive=ei(!1);get untouched(){return!this.touched}_events=new ve;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Xb(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Xb(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(eT(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(eT(t,this._rawAsyncValidators))}hasValidator(t){return fd(this._rawValidators,t)}hasAsyncValidator(t){return fd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(U(v({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Ia(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new Ia(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(U(v({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Ea(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Ea(!0,r))}markAsPending(t={}){this.status=Po;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new xo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(U(v({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=ya,this.errors=null,this._forEachChild(i=>{i.disable(U(v({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new gd(this.value,r)),this._events.next(new xo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(U(v({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=va,this._forEachChild(r=>{r.enable(U(v({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(U(v({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===va||this.status===Po)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new gd(this.value,n)),this._events.next(new xo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(U(v({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ya:va}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Po,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=lT(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new xo(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new me,this.statusChanges=new me}_calculateStatus(){return this._allControlsDisabled()?ya:this.errors?dd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Po)?Po:this._anyControlsHaveStatus(dd)?dd:va}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new Ea(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ia(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ed(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=qV(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=KV(this._rawAsyncValidators)}},vd=class extends md{constructor(t,n,r){super(hT(n),pT(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){ZV(this,!0,t),Object.keys(t).forEach(r=>{YV(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Om=new w("",{providedIn:"root",factory:()=>km}),km="always";function QV(e,t){return[...t.path,e]}function gT(e,t,n=km){mT(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),XV(e,t),tj(e,t),ej(e,t),JV(e,t)}function tT(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function JV(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function mT(e,t){let n=WV(e);t.validator!==null?e.setValidators(Jb(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=zV(e);t.asyncValidator!==null?e.setAsyncValidators(Jb(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();tT(t._rawValidators,i),tT(t._rawAsyncValidators,i)}function XV(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&vT(e,t)})}function ej(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&vT(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function vT(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function tj(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function nj(e,t){e==null,mT(e,t)}function rj(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function ij(e){return Object.getPrototypeOf(e.constructor)===PV}function oj(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function sj(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===Lo?n=o:ij(o)?r=o:i=o}),i||r||n||null}var aj={provide:Fo,useExisting:Qr(()=>Ca)},_a=Promise.resolve(),Ca=(()=>{class e extends Fo{callSetDisabledState;get submitted(){return sn(this.submittedReactive)}_submitted=ri(()=>this.submittedReactive());submittedReactive=ei(!1);_directives=new Set;form;ngSubmit=new me;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new vd({},Rm(n),Nm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){_a.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),gT(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){_a.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){_a.then(()=>{let r=this._findContainer(n.path),i=new vd({});nj(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){_a.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){_a.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),oj(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new Sm(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new Am(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||e)(S(Mm,10),S(aT,10),S(Om,8))};static \u0275dir=Te({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ve("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[$s([aj]),Ln]})}return e})();function nT(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function rT(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var cj=class extends md{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(hT(n),pT(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ed(n)&&(n.nonNullable||n.initialValueIsDefault)&&(rT(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){nT(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){nT(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){rT(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var lj={provide:wa,useExisting:Qr(()=>Da)},iT=Promise.resolve(),Da=(()=>{class e extends wa{_changeDetectorRef;callSetDisabledState;control=new cj;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new me;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=sj(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),rj(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){gT(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){iT.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&fr(r);iT.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?QV(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(S(Fo,9),S(Mm,10),S(aT,10),S(sT,10),S(Un,8),S(Om,8))};static \u0275dir=Te({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[$s([lj]),Ln,sr]})}return e})();var Id=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=Te({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var uj=(()=>{class e{_validator=Qb;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Qb,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Te({type:e,features:[sr]})}return e})();var dj={provide:Mm,useExisting:Qr(()=>ba),multi:!0};var ba=(()=>{class e extends uj{required;inputName="required";normalizeInput=fr;createValidator=n=>UV;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=uo(e)))(i||e)}})();static \u0275dir=Te({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Bs("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[$s([dj]),Ln]})}return e})();var fj=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Fn({type:e});static \u0275inj=On({})}return e})();var Vo=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Om,useValue:n.callSetDisabledState??km}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Fn({type:e});static \u0275inj=On({imports:[fj]})}return e})();var _T=()=>{};var xm={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var y=function(e,t){if(!e)throw di(t)},di=function(e){return new Error("Firebase Database ("+xm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};var wT=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},hj=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=e[n++],s=e[n++],a=e[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},Bo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){let o=e[i],s=i+1<e.length,a=s?e[i+1]:0,c=i+2<e.length,l=c?e[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(wT(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):hj(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){let o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;let l=i<e.length?n[e.charAt(i)]:64;++i;let d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Fm;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let g=l<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Fm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Vm=function(e){let t=wT(e);return Bo.encodeByteArray(t,!0)},Sa=function(e){return Vm(e).replace(/\./g,"")},jo=function(e){try{return Bo.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function CT(e){return DT(void 0,e)}function DT(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:let n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(let n in t)!t.hasOwnProperty(n)||!pj(n)||(e[n]=DT(e[n],t[n]));return e}function pj(e){return e!=="__proto__"}function bT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var gj=()=>bT().__FIREBASE_DEFAULTS__,mj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},vj=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&jo(e[1]);return t&&JSON.parse(t)},jm=()=>{try{return _T()||gj()||mj()||vj()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Um=e=>{var t,n;return(n=(t=jm())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},TT=e=>{let t=Um(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Bm=()=>{var e;return(e=jm())===null||e===void 0?void 0:e.config},$m=e=>{var t;return(t=jm())===null||t===void 0?void 0:t[`_${e}`]};var Ut=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}};function fi(e){return e.endsWith(".cloudworkstations.dev")}function Cd(e){return p(this,null,function*(){return(yield fetch(e,{credentials:"include"})).ok})}function ST(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Sa(JSON.stringify(n)),Sa(JSON.stringify(s)),""].join(".")}var Ta={};function yj(){let e={prod:[],emulator:[]};for(let t of Object.keys(Ta))Ta[t]?e.emulator.push(t):e.prod.push(t);return e}function _j(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}var ET=!1;function $o(e,t){if(typeof window>"u"||typeof document>"u"||!fi(window.location.host)||Ta[e]===t||Ta[e]||ET)return;Ta[e]=t;function n(f){return`__firebase__banner__${f}`}let r="__firebase__banner",o=yj().prod.length>0;function s(){let f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,h){f.setAttribute("width","24"),f.setAttribute("id",h),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function l(){let f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{ET=!0,s()},f}function u(f,h){f.setAttribute("id",h),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){let f=_j(r),h=n("text"),g=document.getElementById(h)||document.createElement("span"),_=n("learnmore"),T=document.getElementById(_)||document.createElement("a"),j=n("preprendIcon"),ke=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){let de=f.element;a(de),u(T,_);let Yn=l();c(ke,j),de.append(ke,g,T,Yn),document.body.appendChild(de)}o?(g.innerText="Preview backend disconnected.",ke.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ke.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Aa(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function AT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MT(){let e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Dd(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RT(){let e=$e();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function dn(){return xm.NODE_CLIENT===!0||xm.NODE_ADMIN===!0}function bd(){try{return typeof indexedDB=="object"}catch{return!1}}function NT(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}var Ej="FirebaseError",Bt=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Ej,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$t.prototype.create)}},$t=class{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){let r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?Ij(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Bt(i,a,r)}};function Ij(e,t){return e.replace(wj,(n,r)=>{let i=t[r];return i!=null?String(i):`<${r}?>`})}var wj=/\{\$([^}]+)}/g;function Uo(e){return JSON.parse(e)}function we(e){return JSON.stringify(e)}var OT=function(e){let t={},n={},r={},i="";try{let o=e.split(".");t=Uo(jo(o[0])||""),n=Uo(jo(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};var kT=function(e){let t=OT(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},PT=function(e){let t=OT(e).claims;return typeof t=="object"&&t.admin===!0};function Ht(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function hi(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Ma(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ra(e,t,n){let r={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function fn(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let o=e[i],s=t[i];if(IT(o)&&IT(s)){if(!fn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function IT(e){return e!==null&&typeof e=="object"}function pi(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ho(e){let t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}}),t}function Wo(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var wd=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);let r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}};function xT(e,t){let n=new Lm(e,t);return n.subscribe.bind(n)}var Lm=class{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Cj(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Pm),i.error===void 0&&(i.error=Pm),i.complete===void 0&&(i.complete=Pm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Cj(e,t){if(typeof e!="object"||e===null)return!1;for(let n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Pm(){}function Na(e,t){return`${e} failed: ${t} argument `}var FT=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,y(r<e.length,"Surrogate pair missing trail surrogate.");let s=e.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Oa=function(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};var lZ=4*60*60*1e3;function Ue(e){return e&&e._delegate?e._delegate:e}var Ge=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var gi="[DEFAULT]";var Td=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){let r=new Ut;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;let r=this.normalizeInstanceIdentifier(t?.identifier),i=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(bj(t))try{this.getOrInitializeService({instanceIdentifier:gi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=gi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return p(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=gi){return this.instances.has(t)}getOptions(t=gi){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Dj(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=gi){return this.component?this.component.multipleInstances?t:gi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Dj(e){return e===gi?void 0:e}function bj(e){return e.instantiationMode==="EAGER"}var ka=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let n=new Td(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}};var Tj=[],ne=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(ne||{}),Sj={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},Aj=ne.INFO,Mj={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},Rj=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=Mj[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},hn=class{constructor(t){this.name=t,this._logLevel=Aj,this._logHandler=Rj,this._userLogHandler=null,Tj.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ne))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Sj[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...t),this._logHandler(this,ne.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...t),this._logHandler(this,ne.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...t),this._logHandler(this,ne.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...t),this._logHandler(this,ne.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...t),this._logHandler(this,ne.ERROR,...t)}};var Nj=(e,t)=>t.some(n=>e instanceof n),LT,VT;function Oj(){return LT||(LT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kj(){return VT||(VT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var jT=new WeakMap,Wm=new WeakMap,UT=new WeakMap,Hm=new WeakMap,Gm=new WeakMap;function Pj(e){let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(pn(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&jT.set(n,e)}).catch(()=>{}),Gm.set(t,e),t}function xj(e){if(Wm.has(e))return;let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Wm.set(e,t)}var zm={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Wm.get(e);if(t==="objectStoreNames")return e.objectStoreNames||UT.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function BT(e){zm=e(zm)}function Fj(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){let r=e.call(Sd(this),t,...n);return UT.set(r,t.sort?t.sort():[t]),pn(r)}:kj().includes(e)?function(...t){return e.apply(Sd(this),t),pn(jT.get(this))}:function(...t){return pn(e.apply(Sd(this),t))}}function Lj(e){return typeof e=="function"?Fj(e):(e instanceof IDBTransaction&&xj(e),Nj(e,Oj())?new Proxy(e,zm):e)}function pn(e){if(e instanceof IDBRequest)return Pj(e);if(Hm.has(e))return Hm.get(e);let t=Lj(e);return t!==e&&(Hm.set(e,t),Gm.set(t,e)),t}var Sd=e=>Gm.get(e);function HT(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(e,t),a=pn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(pn(s.result),c.oldVersion,c.newVersion,pn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var Vj=["get","getKey","getAll","getAllKeys","count"],jj=["put","add","delete","clear"],qm=new Map;function $T(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(qm.get(t))return qm.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=jj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Vj.includes(n)))return;let o=function(s,...a){return p(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return qm.set(t,o),o}BT(e=>U(v({},e),{get:(t,n,r)=>$T(t,n)||e.get(t,n,r),has:(t,n)=>!!$T(t,n)||e.has(t,n)}));var Ym=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Uj(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Uj(e){let t=e.getComponent();return t?.type==="VERSION"}var Zm="@firebase/app",WT="0.12.3";var Bn=new hn("@firebase/app"),Bj="@firebase/app-compat",$j="@firebase/analytics-compat",Hj="@firebase/analytics",Wj="@firebase/app-check-compat",zj="@firebase/app-check",Gj="@firebase/auth",qj="@firebase/auth-compat",Kj="@firebase/database",Yj="@firebase/data-connect",Zj="@firebase/database-compat",Qj="@firebase/functions",Jj="@firebase/functions-compat",Xj="@firebase/installations",eU="@firebase/installations-compat",tU="@firebase/messaging",nU="@firebase/messaging-compat",rU="@firebase/performance",iU="@firebase/performance-compat",oU="@firebase/remote-config",sU="@firebase/remote-config-compat",aU="@firebase/storage",cU="@firebase/storage-compat",lU="@firebase/firestore",uU="@firebase/vertexai",dU="@firebase/firestore-compat",fU="firebase",hU="11.7.3";var Qm="[DEFAULT]",pU={[Zm]:"fire-core",[Bj]:"fire-core-compat",[Hj]:"fire-analytics",[$j]:"fire-analytics-compat",[zj]:"fire-app-check",[Wj]:"fire-app-check-compat",[Gj]:"fire-auth",[qj]:"fire-auth-compat",[Kj]:"fire-rtdb",[Yj]:"fire-data-connect",[Zj]:"fire-rtdb-compat",[Qj]:"fire-fn",[Jj]:"fire-fn-compat",[Xj]:"fire-iid",[eU]:"fire-iid-compat",[tU]:"fire-fcm",[nU]:"fire-fcm-compat",[rU]:"fire-perf",[iU]:"fire-perf-compat",[oU]:"fire-rc",[sU]:"fire-rc-compat",[aU]:"fire-gcs",[cU]:"fire-gcs-compat",[lU]:"fire-fst",[dU]:"fire-fst-compat",[uU]:"fire-vertex","fire-js":"fire-js",[fU]:"fire-js-all"};var Pa=new Map,gU=new Map,Jm=new Map;function zT(e,t){try{e.container.addComponent(t)}catch(n){Bn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Wt(e){let t=e.name;if(Jm.has(t))return Bn.debug(`There were multiple attempts to register component ${t}.`),!1;Jm.set(t,e);for(let n of Pa.values())zT(n,e);for(let n of gU.values())zT(n,e);return!0}function zo(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function st(e){return e==null?!1:e.settings!==void 0}var mU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new $t("app","Firebase",mU);var Xm=class{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ge("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}};var wr=hU;function nv(e,t={}){let n=e;typeof t!="object"&&(t={name:t});let r=Object.assign({name:Qm,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Ir.create("bad-app-name",{appName:String(i)});if(n||(n=Bm()),!n)throw Ir.create("no-options");let o=Pa.get(i);if(o){if(fn(n,o.options)&&fn(r,o.config))return o;throw Ir.create("duplicate-app",{appName:i})}let s=new ka(i);for(let c of Jm.values())s.addComponent(c);let a=new Xm(n,r,s);return Pa.set(i,a),a}function mi(e=Qm){let t=Pa.get(e);if(!t&&e===Qm&&Bm())return nv();if(!t)throw Ir.create("no-app",{appName:e});return t}function Ad(){return Array.from(Pa.values())}function pe(e,t,n){var r;let i=(r=pU[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bn.warn(a.join(" "));return}Wt(new Ge(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}var vU="firebase-heartbeat-database",yU=1,xa="firebase-heartbeat-store",Km=null;function YT(){return Km||(Km=HT(vU,yU,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(xa)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ir.create("idb-open",{originalErrorMessage:e.message})})),Km}function _U(e){return p(this,null,function*(){try{let n=(yield YT()).transaction(xa),r=yield n.objectStore(xa).get(ZT(e));return yield n.done,r}catch(t){if(t instanceof Bt)Bn.warn(t.message);else{let n=Ir.create("idb-get",{originalErrorMessage:t?.message});Bn.warn(n.message)}}})}function GT(e,t){return p(this,null,function*(){try{let r=(yield YT()).transaction(xa,"readwrite");yield r.objectStore(xa).put(t,ZT(e)),yield r.done}catch(n){if(n instanceof Bt)Bn.warn(n.message);else{let r=Ir.create("idb-set",{originalErrorMessage:n?.message});Bn.warn(r.message)}}})}function ZT(e){return`${e.name}!${e.options.appId}`}var EU=1024,IU=30,ev=class{constructor(t){this.container=t,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new tv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var t,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=qT();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>IU){let s=CU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Bn.warn(r)}})}getHeartbeatsHeader(){return p(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=qT(),{heartbeatsToSend:r,unsentEntries:i}=wU(this._heartbeatsCache.heartbeats),o=Sa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Bn.warn(n),""}})}};function qT(){return new Date().toISOString().substring(0,10)}function wU(e,t=EU){let n=[],r=e.slice();for(let i of e){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),KT(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),KT(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var tv=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return bd()?NT().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield _U(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return GT(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return GT(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return})}};function KT(e){return Sa(JSON.stringify({version:2,heartbeats:e})).length}function CU(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function DU(e){Wt(new Ge("platform-logger",t=>new Ym(t),"PRIVATE")),Wt(new Ge("heartbeat",t=>new ev(t),"PRIVATE")),pe(Zm,WT,e),pe(Zm,WT,"esm2017"),pe("fire-js","")}DU("");var bU="firebase",TU="11.7.3";pe(bU,TU,"app");function rv(e){e===void 0&&(Xl(rv),e=m(he));let t=e.get(Fs);return n=>new q(r=>{let i=t.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Cr=new or("ANGULARFIRE2_VERSION");function Fa(e,t,n){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var qo=(e,t)=>{let n=t?[t]:Ad(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Go=function(e){return e[e.SILENT=0]="SILENT",e[e.WARN=1]="WARN",e[e.VERBOSE=2]="VERBOSE",e}(Go||{}),QT=Rg()&&typeof Zone<"u"?Go.WARN:Go.SILENT;var Md=class{zone;delegate;constructor(t,n=ph){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{t.apply(this,[s])}):t.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Dr=(()=>{class e{outsideAngular;insideAngular;constructor(){let n=m(Q);this.outsideAngular=n.runOutsideAngular(()=>new Md(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Md(typeof Zone>"u"?void 0:Zone.current,hh))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),JT=!1;function SU(e,t){!JT&&(QT>Go.SILENT||Rg())&&(JT=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),QT>=t&&console.warn(`Firebase API called outside injection context: ${e.name}`)}function AU(e){let t=m(Q,{optional:!0});return t?t.runOutsideAngular(()=>e()):e()}function vi(e){let t=m(Q,{optional:!0});return t?t.run(()=>e()):e()}var MU=(e,t,n)=>(...r)=>(t&&setTimeout(t,0),Le(n,()=>vi(()=>e.apply(void 0,r)))),Ne=(e,t,n)=>(n||=t?Go.WARN:Go.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=m(Dr),s=m(Fs),a=m(xe)}catch{return SU(e,n),e.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(t&&(r||=vi(()=>s.add())),i[l]=MU(i[l],r,a));let c=AU(()=>e.apply(this,i));return t?c instanceof q?c.pipe(Jn(o.outsideAngular),Qn(o.insideAngular),rv(a)):c instanceof Promise?vi(()=>new Promise((l,u)=>{s.run(()=>c).then(d=>Le(a,()=>vi(()=>l(d))),d=>Le(a,()=>vi(()=>u(d))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:vi(()=>c):c instanceof q?c.pipe(Jn(o.outsideAngular),Qn(o.insideAngular)):vi(()=>c)});var $n=class{constructor(t){return t}},yi=class{constructor(){return Ad()}};function RU(e){return e&&e.length===1?e[0]:new $n(mi())}var iv=new w("angularfire2._apps"),NU={provide:$n,useFactory:RU,deps:[[new Xe,iv]]},OU={provide:yi,deps:[[new Xe,iv]]};function kU(e){return(t,n)=>{let r=n.get(cr);pe("angularfire",Cr.full,"core"),pe("angularfire",Cr.full,"app"),pe("angular",ED.full,r.toString());let i=t.runOutsideAngular(()=>e(n));return new $n(i)}}function XT(e,...t){return et([NU,OU,{provide:iv,useFactory:kU(e),multi:!0,deps:[Q,he,Dr,...t]}])}var eS=Ne(nv,!0);var PU=new Map,xU={activated:!1,tokenObservers:[]},FU={initialized:!1,enabled:!1};function zt(e){return PU.get(e)||Object.assign({},xU)}function iS(){return FU}var LU="https://content-firebaseappcheck.googleapis.com/v1";var VU="exchangeDebugToken",tS={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},gQ=24*60*60*1e3;var av=class{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return p(this,null,function*(){this.stop();try{this.pending=new Ut,this.pending.promise.catch(n=>{}),yield jU(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ut,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function jU(e){return new Promise(t=>{setTimeout(t,e)})}var UU={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},br=new $t("appCheck","AppCheck",UU);function oS(e){if(!zt(e).activated)throw br.create("use-before-activation",{appName:e.name})}function sS(r,i){return p(this,arguments,function*({url:e,body:t},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(t),headers:o},c;try{c=yield fetch(e,a)}catch(h){throw br.create("fetch-network-error",{originalErrorMessage:h?.message})}if(c.status!==200)throw br.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(h){throw br.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw br.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:l.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function aS(e,t){let{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${LU}/projects/${n}/apps/${r}:${VU}?key=${i}`,body:{debug_token:t}}}var BU="firebase-app-check-database",$U=1,cv="firebase-app-check-store";var Rd=null;function HU(){return Rd||(Rd=new Promise((e,t)=>{try{let n=indexedDB.open(BU,$U);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(br.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(cv,{keyPath:"compositeKey"})}}}catch(n){t(br.create("storage-open",{originalErrorMessage:n?.message}))}}),Rd)}function WU(e,t){return zU(GU(e),t)}function zU(e,t){return p(this,null,function*(){let r=(yield HU()).transaction(cv,"readwrite"),o=r.objectStore(cv).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(br.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function GU(e){return`${e.options.appId}-${e.name}`}var La=new hn("@firebase/app-check");function ov(e,t){return bd()?WU(e,t).catch(n=>{La.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function cS(){return iS().enabled}function lS(){return p(this,null,function*(){let e=iS();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var qU={error:"UNKNOWN_ERROR"};function KU(e){return Bo.encodeString(JSON.stringify(e),!1)}function lv(e,t=!1,n=!1){return p(this,null,function*(){let r=e.app;oS(r);let i=zt(r),o=i.token,s;if(o&&!Va(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Va(l)?o=l:yield ov(r,void 0))}if(!t&&o&&Va(o))return{token:o.token};let a=!1;if(cS())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=sS(aS(r,yield lS()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield ov(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?La.warn(l.message):n&&La.error(l),sv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield zt(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?La.warn(l.message):n&&La.error(l),s=l}let c;return o?s?Va(o)?c={token:o.token,internalError:s}:c=sv(s):(c={token:o.token},i.token=o,yield ov(r,o)):c=sv(s),a&&JU(r,c),c})}function YU(e){return p(this,null,function*(){let t=e.app;oS(t);let{provider:n}=zt(t);if(cS()){let r=yield lS(),{token:i}=yield sS(aS(t,r),e.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function ZU(e,t,n,r){let{app:i}=e,o=zt(i),s={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Va(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),nS(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>nS(e))}function uS(e,t){let n=zt(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function nS(e){let{app:t}=e,n=zt(t),r=n.tokenRefresher;r||(r=QU(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function QU(e){let{app:t}=e;return new av(()=>p(null,null,function*(){let n=zt(t),r;if(n.token?r=yield lv(e,!0):r=yield lv(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=zt(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},tS.RETRIAL_MIN_WAIT,tS.RETRIAL_MAX_WAIT)}function JU(e,t){let n=zt(e).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function Va(e){return e.expireTimeMillis-Date.now()>0}function sv(e){return{token:KU(qU),error:e}}var uv=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=zt(this.app);for(let n of t)uS(this.app,n.next);return Promise.resolve()}};function XU(e,t){return new uv(e,t)}function e2(e){return{getToken:t=>lv(e,t),getLimitedUseToken:()=>YU(e),addTokenListener:t=>ZU(e,"INTERNAL",t),removeTokenListener:t=>uS(e.app,t)}}var t2="@firebase/app-check",n2="0.9.3";var r2="app-check",rS="app-check-internal";function i2(){Wt(new Ge(r2,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return XU(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(rS).initialize()})),Wt(new Ge(rS,e=>{let t=e.getProvider("app-check").getImmediate();return e2(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),pe(t2,n2)}i2();var o2="app-check";var Ko=class{constructor(){return qo(o2)}};var s2=["localhost","0.0.0.0","127.0.0.1"],AQ=typeof window<"u"&&s2.includes(window.location.hostname);function TS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var SS=TS,AS=new $t("auth","Firebase",TS());var Fd=new hn("@firebase/auth");function a2(e,...t){Fd.logLevel<=ne.WARN&&Fd.warn(`Auth (${wr}): ${e}`,...t)}function Od(e,...t){Fd.logLevel<=ne.ERROR&&Fd.error(`Auth (${wr}): ${e}`,...t)}function mn(e,...t){throw xv(e,...t)}function _i(e,...t){return xv(e,...t)}function MS(e,t,n){let r=Object.assign(Object.assign({},SS()),{[t]:n});return new $t("auth","Firebase",r).create(t,{appName:e.name})}function zn(e){return MS(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xv(e,...t){if(typeof e!="string"){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return AS.create(e,...t)}function O(e,t,...n){if(!e)throw xv(t,...n)}function Hn(e){let t="INTERNAL ASSERTION FAILED: "+e;throw Od(t),new Error(t)}function Ar(e,t){e||Hn(t)}function pv(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function c2(){return dS()==="http:"||dS()==="https:"}function dS(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function l2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(c2()||MT()||"connection"in navigator)?navigator.onLine:!0}function u2(){if(typeof navigator>"u")return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var Ei=class{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ar(n>t,"Short delay should be less than long delay!"),this.isMobile=Aa()||Dd()}get(){return l2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Fv(e,t){Ar(e.emulator,"Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}var Ld=class{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var d2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var f2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],h2=new Ei(3e4,6e4);function Mr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Rr(o,s,a,c){return p(this,arguments,function*(e,t,n,r,i={}){return RS(e,i,()=>p(null,null,function*(){let l={},u={};r&&(t==="GET"?u=r:l={body:JSON.stringify(r)});let d=pi(Object.assign({key:e.config.apiKey},u)).slice(1),f=yield e._getAdditionalHeaders();f["Content-Type"]="application/json",e.languageCode&&(f["X-Firebase-Locale"]=e.languageCode);let h=Object.assign({method:t,headers:f},l);return AT()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&fi(e.emulatorConfig.host)&&(h.credentials="include"),Ld.fetch()(yield NS(e,e.config.apiHost,n,d),h)}))})}function RS(e,t,n){return p(this,null,function*(){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},d2),t);try{let i=new gv(e),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Nd(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nd(e,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Nd(e,"email-already-in-use",s);if(c==="USER_DISABLED")throw Nd(e,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw MS(e,u,l);mn(e,u)}}catch(i){if(i instanceof Bt)throw i;mn(e,"network-request-failed",{message:String(i)})}})}function qa(o,s,a,c){return p(this,arguments,function*(e,t,n,r,i={}){let l=yield Rr(e,t,n,r,i);return"mfaPendingCredential"in l&&mn(e,"multi-factor-auth-required",{_serverResponse:l}),l})}function NS(e,t,n,r){return p(this,null,function*(){let i=`${t}${n}?${r}`,o=e,s=o.config.emulator?Fv(e.config,i):`${e.config.apiScheme}://${i}`;return f2.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function p2(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var gv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_i(this.auth,"network-request-failed")),h2.get())})}};function Nd(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=_i(e,t,r);return i.customData._tokenResponse=n,i}function fS(e){return e!==void 0&&e.enterprise!==void 0}var mv=class{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return p2(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function g2(e,t){return p(this,null,function*(){return Rr(e,"GET","/v2/recaptchaConfig",Mr(e,t))})}function m2(e,t){return p(this,null,function*(){return Rr(e,"POST","/v1/accounts:delete",t)})}function Vd(e,t){return p(this,null,function*(){return Rr(e,"POST","/v1/accounts:lookup",t)})}function Ua(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function Lv(e,t=!1){return p(this,null,function*(){let n=Ue(e),r=yield n.getIdToken(t),i=Vv(r);O(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ua(dv(i.auth_time)),issuedAtTime:Ua(dv(i.iat)),expirationTime:Ua(dv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function dv(e){return Number(e)*1e3}function Vv(e){let[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Od("JWT malformed, contained fewer than 3 sections"),null;try{let i=jo(n);return i?JSON.parse(i):(Od("Failed to decode base64 JWT payload"),null)}catch(i){return Od("Caught error parsing JWT payload as JSON",i?.toString()),null}}function hS(e){let t=Vv(e);return O(t,"internal-error"),O(typeof t.exp<"u","internal-error"),O(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function $a(e,t,n=!1){return p(this,null,function*(){if(n)return t;try{return yield t}catch(r){throw r instanceof Bt&&v2(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})}function v2({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}var vv=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;let n=this.getInterval(t);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ha=class{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ua(this.lastLoginAt),this.creationTime=Ua(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function jd(e){return p(this,null,function*(){var t;let n=e.auth,r=yield e.getIdToken(),i=yield $a(e,Vd(n,{idToken:r}));O(i?.users.length,n,"internal-error");let o=i.users[0];e._notifyReloadListener(o);let s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?OS(o.providerUserInfo):[],a=y2(e.providerData,s),c=e.isAnonymous,l=!(e.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ha(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)})}function jv(e){return p(this,null,function*(){let t=Ue(e);yield jd(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function y2(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function OS(e){return e.map(t=>{var{providerId:n}=t,r=gh(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function _2(e,t){return p(this,null,function*(){let n=yield RS(e,{},()=>p(null,null,function*(){let r=pi({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=yield NS(e,i,"/v1/token",`key=${o}`),a=yield e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ld.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function E2(e,t){return p(this,null,function*(){return Rr(e,"POST","/v2/accounts:revokeToken",Mr(e,t))})}var Ba=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){O(t.idToken,"internal-error"),O(typeof t.idToken<"u","internal-error"),O(typeof t.refreshToken<"u","internal-error");let n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):hS(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){O(t.length!==0,"internal-error");let n=hS(t);this.updateTokensAndExpiration(t,null,n)}getToken(t,n=!1){return p(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(O(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield _2(t,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new e;return r&&(O(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(O(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(O(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return Hn("not implemented")}};function Tr(e,t){O(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}var Sr=class e{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=gh(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ha(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){return p(this,null,function*(){let n=yield $a(this,this.stsTokenManager.getToken(this.auth,t));return O(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(t){return Lv(this,t)}reload(){return jv(this)}_assign(t){this!==t&&(O(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){O(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,n=!1){return p(this,null,function*(){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&(yield jd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){if(st(this.auth.app))return Promise.reject(zn(this.auth));let t=yield this.getIdToken();return yield $a(this,m2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,j=(l=n.createdAt)!==null&&l!==void 0?l:void 0,ke=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:de,emailVerified:Yn,isAnonymous:A_,providerData:Lf,stsTokenManager:M_}=n;O(de&&M_,t,"internal-error");let _M=Ba.fromJSON(this.name,M_);O(typeof de=="string",t,"internal-error"),Tr(d,t.name),Tr(f,t.name),O(typeof Yn=="boolean",t,"internal-error"),O(typeof A_=="boolean",t,"internal-error"),Tr(h,t.name),Tr(g,t.name),Tr(_,t.name),Tr(T,t.name),Tr(j,t.name),Tr(ke,t.name);let Vf=new e({uid:de,auth:t,email:f,emailVerified:Yn,displayName:d,isAnonymous:A_,photoURL:g,phoneNumber:h,tenantId:_,stsTokenManager:_M,createdAt:j,lastLoginAt:ke});return Lf&&Array.isArray(Lf)&&(Vf.providerData=Lf.map(EM=>Object.assign({},EM))),T&&(Vf._redirectEventId=T),Vf}static _fromIdTokenResponse(t,n,r=!1){return p(this,null,function*(){let i=new Ba;i.updateFromServerResponse(n);let o=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield jd(o),o})}static _fromGetAccountInfoResponse(t,n,r){return p(this,null,function*(){let i=n.users[0];O(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?OS(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Ba;a.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ha(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var pS=new Map;function Wn(e){Ar(e instanceof Function,"Expected a class definition");let t=pS.get(e);return t?(Ar(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,pS.set(e,t),t)}var I2=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return e.type="NONE",e})(),yv=I2;function kd(e,t,n){return`firebase:${e}:${t}:${n}`}var Ud=class e{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=kd(this.userKey,i.apiKey,o),this.fullPersistenceKey=kd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return p(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let n=yield Vd(this.auth,{idToken:t}).catch(()=>{});return n?Sr._fromGetAccountInfoResponse(this.auth,n,t):null}return Sr._fromJSON(this.auth,t)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return p(this,null,function*(){if(this.persistence===t)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new e(Wn(yv),t,r);let i=(yield Promise.all(n.map(l=>p(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Wn(yv),s=kd(r,t.config.apiKey,t.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d;if(typeof u=="string"){let f=yield Vd(t,{idToken:u}).catch(()=>{});if(!f)break;d=yield Sr._fromGetAccountInfoResponse(t,f,u)}else d=Sr._fromJSON(t,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new e(o,t,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>p(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new e(o,t,r))})}};function gS(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(FS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(kS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(VS(t))return"Blackberry";if(jS(t))return"Webos";if(PS(t))return"Safari";if((t.includes("chrome/")||xS(t))&&!t.includes("edge/"))return"Chrome";if(LS(t))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function kS(e=$e()){return/firefox\//i.test(e)}function PS(e=$e()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function xS(e=$e()){return/crios\//i.test(e)}function FS(e=$e()){return/iemobile/i.test(e)}function LS(e=$e()){return/android/i.test(e)}function VS(e=$e()){return/blackberry/i.test(e)}function jS(e=$e()){return/webos/i.test(e)}function Uv(e=$e()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function w2(e=$e()){var t;return Uv(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function C2(){return RT()&&document.documentMode===10}function US(e=$e()){return Uv(e)||LS(e)||jS(e)||VS(e)||/windows phone/i.test(e)||FS(e)}function BS(e,t=[]){let n;switch(e){case"Browser":n=gS($e());break;case"Worker":n=`${gS($e())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${wr}/${r}`}var _v=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){let r=o=>new Promise((s,a)=>{try{let c=t(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){return p(this,null,function*(){if(this.auth.currentUser===t)return;let n=[];try{for(let r of this.queue)yield r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function D2(n){return p(this,arguments,function*(e,t={}){return Rr(e,"GET","/v2/passwordPolicy",Mr(e,t))})}var b2=6,Ev=class{constructor(t){var n,r,i,o;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:b2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(t,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var Iv=class{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bd(this),this.idTokenSubscription=new Bd(this),this.beforeStateQueue=new _v(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Wn(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Ud.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return p(this,null,function*(){try{let n=yield Vd(this,{idToken:t}),r=yield Sr._fromGetAccountInfoResponse(this,n,t);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return p(this,null,function*(){var n;if(st(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(t);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return O(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(t){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(t){return p(this,null,function*(){try{yield jd(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=u2()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return p(this,null,function*(){if(st(this.app))return Promise.reject(zn(this));let n=t?Ue(t):null;return n&&O(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(t,n=!1){return p(this,null,function*(){if(!this._deleted)return t&&O(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return st(this.app)?Promise.reject(zn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return st(this.app)?Promise.reject(zn(this)):this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(Wn(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let t=yield D2(this),n=new Ev(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new $t("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{let r=this.onAuthStateChanged(()=>{r(),t()},n)}})}revokeAccessToken(t){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield E2(this,r)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=t&&Wn(t)||this._popupRedirectResolver;O(n,this,"argument-error"),this.redirectPersistenceManager=yield Ud.create(this,[Wn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return p(this,null,function*(){if(t===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(O(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=t.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=t.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(t){return p(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return O(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=BS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var t;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var t;if(st(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return n?.error&&a2(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function wi(e){return Ue(e)}var Bd=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=xT(n=>this.observer=n)}get next(){return O(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Kd={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function T2(e){Kd=e}function $S(e){return Kd.loadJS(e)}function S2(){return Kd.recaptchaEnterpriseScript}function A2(){return Kd.gapiScript}function HS(e){return`__${e}${Math.floor(Math.random()*1e6)}`}var wv=class{constructor(){this.enterprise=new Cv}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}},Cv=class{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}};var M2="recaptcha-enterprise",WS="NO_RECAPTCHA",Dv=class{constructor(t){this.type=M2,this.auth=wi(t)}verify(t="verify",n=!1){return p(this,null,function*(){function r(o){return p(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>p(null,null,function*(){g2(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new mv(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;fS(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:t}).then(l=>{s(l)}).catch(()=>{s(WS)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wv().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&fS(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=S2();c.length!==0&&(c+=a),$S(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function ja(e,t,n,r=!1,i=!1){return p(this,null,function*(){let o=new Dv(e),s;if(i)s=WS;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let a=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function bv(e,t,n,r,i){return p(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=e._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield ja(e,t,n,n==="getOobCode");return r(e,a)}else return r(e,t).catch(a=>p(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield ja(e,t,n,n==="getOobCode");return r(e,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=e._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield ja(e,t,n);return r(e,a).catch(c=>p(null,null,function*(){var l;if(((l=e._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let u=yield ja(e,t,n,!1,!0);return r(e,u)}return Promise.reject(c)}))}else{let a=yield ja(e,t,n,!1,!0);return r(e,a)}else return Promise.reject(i+" provider is not supported.")})}function Bv(e,t){let n=zo(e,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(fn(o,t??{}))return i;mn(i,"already-initialized")}return n.initialize({options:t})}function R2(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Wn);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function $v(e,t,n){let r=wi(e);O(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=zS(t),{host:s,port:a}=N2(t),c=a===null?"":`:${a}`,l={url:`${o}//${s}${c}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){O(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),O(fn(l,r.config.emulator)&&fn(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,fi(s)?($o("Auth",!0),Cd(`${o}//${s}${c}`)):i||O2()}function zS(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function N2(e){let t=zS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:mS(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:mS(s)}}}function mS(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function O2(){function e(){let t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}var Wa=class{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Hn("not implemented")}_getIdTokenResponse(t){return Hn("not implemented")}_linkToIdToken(t,n){return Hn("not implemented")}_getReauthenticationResolver(t){return Hn("not implemented")}};function k2(e,t){return p(this,null,function*(){return Rr(e,"POST","/v1/accounts:signUp",t)})}function P2(e,t){return p(this,null,function*(){return qa(e,"POST","/v1/accounts:signInWithPassword",Mr(e,t))})}function x2(e,t){return p(this,null,function*(){return qa(e,"POST","/v1/accounts:signInWithEmailLink",Mr(e,t))})}function F2(e,t){return p(this,null,function*(){return qa(e,"POST","/v1/accounts:signInWithEmailLink",Mr(e,t))})}var za=class e extends Wa{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new e(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new e(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){let n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(t){return p(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bv(t,n,"signInWithPassword",P2,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return x2(t,{email:this._email,oobCode:this._password});default:mn(t,"internal-error")}})}_linkToIdToken(t,n){return p(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bv(t,r,"signUpPassword",k2,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return F2(t,{idToken:n,email:this._email,oobCode:this._password});default:mn(t,"internal-error")}})}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}};function fv(e,t){return p(this,null,function*(){return qa(e,"POST","/v1/accounts:signInWithIdp",Mr(e,t))})}function L2(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function V2(e){let t=Ho(Wo(e)).link,n=t?Ho(Wo(t)).deep_link_id:null,r=Ho(Wo(e)).deep_link_id;return(r?Ho(Wo(r)).link:null)||r||n||t||e}var $d=class e{constructor(t){var n,r,i,o,s,a;let c=Ho(Wo(t)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,d=L2((i=c.mode)!==null&&i!==void 0?i:null);O(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){let n=V2(t);try{return new e(n)}catch{return null}}};var GS=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(n,r){return za._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=$d.parseLink(r);return O(i,"argument-error"),za._fromEmailAndCode(n,i.code,i.tenantId)}}e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return e})(),Hd=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var Tv=class extends Hd{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};function j2(e,t){return p(this,null,function*(){return qa(e,"POST","/v1/accounts:signUp",Mr(e,t))})}var Yo=class e{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,n,r,i=!1){return p(this,null,function*(){let o=yield Sr._fromIdTokenResponse(t,r,i),s=vS(r);return new e({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(t,n,r){return p(this,null,function*(){yield t._updateTokensIfNecessary(r,!0);let i=vS(r);return new e({user:t,providerId:i,_tokenResponse:r,operationType:n})})}};function vS(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Sv=class e extends Bt{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new e(t,n,r,i)}};function qS(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Sv._fromErrorAndOperation(e,o,t,r):o})}function U2(e,t,n=!1){return p(this,null,function*(){let r=yield $a(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return Yo._forOperation(e,"link",r)})}function B2(e,t,n=!1){return p(this,null,function*(){let{auth:r}=e;if(st(r.app))return Promise.reject(zn(r));let i="reauthenticate";try{let o=yield $a(e,qS(r,i,t,e),n);O(o.idToken,r,"internal-error");let s=Vv(o.idToken);O(s,r,"internal-error");let{sub:a}=s;return O(e.uid===a,r,"user-mismatch"),Yo._forOperation(e,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&mn(r,"user-mismatch"),o}})}function KS(e,t,n=!1){return p(this,null,function*(){if(st(e.app))return Promise.reject(zn(e));let r="signIn",i=yield qS(e,r,t),o=yield Yo._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(o.user)),o})}function Hv(e,t){return p(this,null,function*(){return KS(wi(e),t)})}function YS(e){return p(this,null,function*(){let t=wi(e);t._getPasswordPolicyInternal()&&(yield t._updatePasswordPolicy())})}function Wv(e,t,n){return p(this,null,function*(){if(st(e.app))return Promise.reject(zn(e));let r=wi(e),s=yield bv(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",j2,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&YS(e),c}),a=yield Yo._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function zv(e,t,n){return st(e.app)?Promise.reject(zn(e)):Hv(Ue(e),GS.credential(t,n)).catch(r=>p(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&YS(e),r}))}function Gv(e,t,n,r){return Ue(e).onIdTokenChanged(t,n,r)}function qv(e,t,n){return Ue(e).beforeAuthStateChanged(t,n)}var Wd="__sak";var zd=class{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wd,"1"),this.storage.removeItem(Wd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){let n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var $2=1e3,H2=10,W2=(()=>{class e extends zd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=US(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);C2()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,H2):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},$2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return p(this,null,function*(){yield Lr(e.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return p(this,null,function*(){let r=yield Lr(e.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return p(this,null,function*(){yield Lr(e.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return e.type="LOCAL",e})(),ZS=W2;var z2=(()=>{class e extends zd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return e.type="SESSION",e})(),Kv=z2;function G2(e){return Promise.all(e.map(t=>p(null,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(n){return{fulfilled:!1,reason:n}}})))}var q2=(()=>{class e{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new e(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return p(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>p(this,null,function*(){return u(r.origin,s)})),l=yield G2(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}e.receivers=[];return e})();function QS(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}var Av=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,n,r=50){return p(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=QS("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function gn(){return window}function K2(e){gn().location.href=e}function JS(){return typeof gn().WorkerGlobalScope<"u"&&typeof gn().importScripts=="function"}function Y2(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Z2(){var e;return((e=navigator?.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function Q2(){return JS()?self:null}var XS="firebaseLocalStorageDb",J2=1,Gd="firebaseLocalStorage",e0="fbase_key",Ii=class{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Yd(e,t){return e.transaction([Gd],t?"readwrite":"readonly").objectStore(Gd)}function X2(){let e=indexedDB.deleteDatabase(XS);return new Ii(e).toPromise()}function Mv(){let e=indexedDB.open(XS,J2);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let r=e.result;try{r.createObjectStore(Gd,{keyPath:e0})}catch(i){n(i)}}),e.addEventListener("success",()=>p(null,null,function*(){let r=e.result;r.objectStoreNames.contains(Gd)?t(r):(r.close(),yield X2(),t(yield Mv()))}))})}function yS(e,t,n){return p(this,null,function*(){let r=Yd(e,!0).put({[e0]:t,value:n});return new Ii(r).toPromise()})}function eB(e,t){return p(this,null,function*(){let n=Yd(e,!1).get(t),r=yield new Ii(n).toPromise();return r===void 0?null:r.value})}function _S(e,t){let n=Yd(e,!0).delete(t);return new Ii(n).toPromise()}var tB=800,nB=3,rB=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield Mv(),this.db)})}_withRetries(n){return p(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>nB)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return JS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=q2._getInstance(Q2()),this.receiver._subscribe("keyChanged",(n,r)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Y2(),!this.activeServiceWorker)return;this.sender=new Av(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Z2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Mv();return yield yS(n,Wd,"1"),yield _S(n,Wd),!0}catch{}return!1})}_withPendingWrite(n){return p(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>yS(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return p(this,null,function*(){let r=yield this._withRetries(i=>eB(i,n));return this.localCache[n]=r,r})}_remove(n){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>_S(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return p(this,null,function*(){let n=yield this._withRetries(o=>{let s=Yd(o,!1).getAll();return new Ii(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),tB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return e.type="LOCAL",e})(),t0=rB;var FQ=HS("rcb"),LQ=new Ei(3e4,6e4);function iB(e,t){return t?Wn(t):(O(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}var Ga=class extends Wa{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return fv(t,this._buildIdpRequest())}_linkToIdToken(t,n){return fv(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return fv(t,this._buildIdpRequest())}_buildIdpRequest(t){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}};function oB(e){return KS(e.auth,new Ga(e),e.bypassAuthState)}function sB(e){let{auth:t,user:n}=e;return O(n,t,"internal-error"),B2(n,new Ga(e),e.bypassAuthState)}function aB(e){return p(this,null,function*(){let{auth:t,user:n}=e;return O(n,t,"internal-error"),U2(n,new Ga(e),e.bypassAuthState)})}var Rv=class{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((t,n)=>p(this,null,function*(){this.pendingPromise={resolve:t,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(t){return p(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return oB;case"linkViaPopup":case"linkViaRedirect":return aB;case"reauthViaPopup":case"reauthViaRedirect":return sB;default:mn(this.auth,"internal-error")}}resolve(t){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var VQ=new Ei(2e3,1e4);var cB="pendingRedirect",Pd=new Map,Nv=class e extends Rv{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return p(this,null,function*(){let t=Pd.get(this.auth._key());if(!t){try{let r=(yield lB(this.resolver,this.auth))?yield Lr(e.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Pd.set(this.auth._key(),t)}return this.bypassAuthState||Pd.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return p(this,null,function*(){if(t.type==="signInViaRedirect")return Lr(e.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let n=yield this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,Lr(e.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function lB(e,t){return p(this,null,function*(){let n=fB(t),r=dB(e);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function uB(e,t){Pd.set(e._key(),t)}function dB(e){return Wn(e._redirectPersistence)}function fB(e){return kd(cB,e.config.apiKey,e.name)}function hB(e,t,n=!1){return p(this,null,function*(){if(st(e.app))return Promise.reject(zn(e));let r=wi(e),i=iB(r,t),s=yield new Nv(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,t)),s})}var pB=10*60*1e3,Ov=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!gB(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!n0(t)){let i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(_i(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){let r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=pB&&this.cachedEventUids.clear(),this.cachedEventUids.has(ES(t))}saveEventToCache(t){this.cachedEventUids.add(ES(t)),this.lastProcessedEventTime=Date.now()}};function ES(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function n0({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function gB(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n0(e);default:return!1}}function mB(n){return p(this,arguments,function*(e,t={}){return Rr(e,"GET","/v1/projects",t)})}var vB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yB=/^https?/;function _B(e){return p(this,null,function*(){if(e.config.emulator)return;let{authorizedDomains:t}=yield mB(e);for(let n of t)try{if(EB(n))return}catch{}mn(e,"unauthorized-domain")})}function EB(e){let t=pv(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!yB.test(n))return!1;if(vB.test(e))return r===e;let i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var IB=new Ei(3e4,6e4);function IS(){let e=gn().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function wB(e){return new Promise((t,n)=>{var r,i,o;function s(){IS(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{IS(),n(_i(e,"network-request-failed"))},timeout:IB.get()})}if(!((i=(r=gn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=gn().gapi)===null||o===void 0)&&o.load)s();else{let a=HS("iframefcb");return gn()[a]=()=>{gapi.load?s():n(_i(e,"network-request-failed"))},$S(`${A2()}?onload=${a}`).catch(c=>n(c))}}).catch(t=>{throw xd=null,t})}var xd=null;function CB(e){return xd=xd||wB(e),xd}var DB=new Ei(5e3,15e3),bB="__/auth/iframe",TB="emulator/auth/iframe",SB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MB(e){let t=e.config;O(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?Fv(t,TB):`https://${e.config.authDomain}/${bB}`,r={apiKey:t.apiKey,appName:e.name,v:wr},i=AB.get(e.config.apiHost);i&&(r.eid=i);let o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${pi(r).slice(1)}`}function RB(e){return p(this,null,function*(){let t=yield CB(e),n=gn().gapi;return O(n,e,"internal-error"),t.open({where:document.body,url:MB(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SB,dontclear:!0},r=>new Promise((i,o)=>p(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=_i(e,"network-request-failed"),a=gn().setTimeout(()=>{o(s)},DB.get());function c(){gn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var NB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OB=500,kB=600,PB="_blank",xB="http://localhost",qd=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function FB(e,t,n,r=OB,i=kB){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},NB),{width:r.toString(),height:i.toString(),top:o,left:s}),l=$e().toLowerCase();n&&(a=xS(l)?PB:n),kS(l)&&(t=t||xB,c.scrollbars="yes");let u=Object.entries(c).reduce((f,[h,g])=>`${f}${h}=${g},`,"");if(w2(l)&&a!=="_self")return LB(t||"",a),new qd(null);let d=window.open(t||"",a,u);O(d,e,"popup-blocked");try{d.focus()}catch{}return new qd(d)}function LB(e,t){let n=document.createElement("a");n.href=e,n.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var VB="__/auth/handler",jB="emulator/auth/handler",UB=encodeURIComponent("fac");function wS(e,t,n,r,i,o){return p(this,null,function*(){O(e.config.authDomain,e,"auth-domain-config-required"),O(e.config.apiKey,e,"invalid-api-key");let s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:wr,eventId:i};if(t instanceof Hd){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",Ma(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(t instanceof Tv){let u=t.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}e.tenantId&&(s.tid=e.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield e._getAppCheckToken(),l=c?`#${UB}=${encodeURIComponent(c)}`:"";return`${BB(e)}?${pi(a).slice(1)}${l}`})}function BB({config:e}){return e.emulator?Fv(e,jB):`https://${e.authDomain}/${VB}`}var hv="webStorageSupport",kv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kv,this._completeRedirectFn=hB,this._overrideRedirectResult=uB}_openPopup(t,n,r,i){return p(this,null,function*(){var o;Ar((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield wS(t,n,r,pv(),i);return FB(t,s,QS())})}_openRedirect(t,n,r,i){return p(this,null,function*(){yield this._originValidation(t);let o=yield wS(t,n,r,pv(),i);return K2(o),new Promise(()=>{})})}_initialize(t){let n=t._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ar(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(t){return p(this,null,function*(){let n=yield RB(t),r=new Ov(t);return n.register("authEvent",i=>(O(i?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r})}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(hv,{type:hv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[hv];s!==void 0&&n(!!s),mn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_B(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return US()||PS()||Uv()}},r0=kv;var CS="@firebase/auth",DS="1.10.4";var Pv=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){O(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function $B(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HB(e){Wt(new Ge("auth",(t,{options:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;O(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BS(e)},l=new Iv(r,i,o,c);return R2(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Wt(new Ge("auth-internal",t=>{let n=wi(t.getProvider("auth").getImmediate());return(r=>new Pv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pe(CS,DS,$B(e)),pe(CS,DS,"esm2017")}var WB=5*60,zB=$m("authIdTokenMaxAge")||WB,bS=null,GB=e=>t=>p(null,null,function*(){let n=t&&(yield t.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>zB)return;let i=n?.token;bS!==i&&(bS=i,yield fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Yv(e=mi()){let t=zo(e,"auth");if(t.isInitialized())return t.getImmediate();let n=Bv(e,{popupRedirectResolver:r0,persistence:[t0,ZS,Kv]}),r=$m("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=GB(o.toString());qv(n,s,()=>s(n.currentUser)),Gv(n,a=>s(a))}}let i=Um("auth");return i?$v(n,`http://${i}`):$o("Auth",!1),n}function qB(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}T2({loadJS(e){return new Promise((t,n)=>{let r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{let o=_i("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",qB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HB("Browser");var i0="auth",Gn=class{constructor(t){return t}},Ka=class{constructor(){return qo(i0)}};var Zv=new w("angularfire2.auth-instances");function L$(e,t){let n=Fa(i0,e,t);return n&&new Gn(n)}function V$(e){return(t,n)=>{let r=t.runOutsideAngular(()=>e(n));return new Gn(r)}}var j$={provide:Ka,deps:[[new Xe,Zv]]},U$={provide:Gn,useFactory:L$,deps:[[new Xe,Zv],$n]};function o0(e,...t){return pe("angularfire",Cr.full,"auth"),et([U$,j$,{provide:Zv,useFactory:V$(e),multi:!0,deps:[Q,he,Dr,yi,[new Xe,Ko],...t]}])}var s0=Ne(Wv,!0,2);var a0=Ne(Yv,!0);var c0=Ne(zv,!0,2);var vn=class e{constructor(t){this.auth=t}login(t,n){return c0(this.auth,t,n)}register(t,n){return s0(this.auth,t,n)}logout(){return this.auth.signOut()}get currentUserId(){return this.auth.currentUser?this.auth.currentUser.uid:""}static \u0275fac=function(n){return new(n||e)(N(Gn))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})};function B$(e,t){if(e&1&&(E(0,"div",17),A(1),I()),e&2){let n=Ee();D(),se(n.error)}}var Ya=class e{constructor(t,n){this.authService=t;this.router=n}email="";password="";error="";onLogin(){return p(this,null,function*(){try{yield this.authService.login(this.email,this.password),this.router.navigate(["/feed"])}catch(t){this.error=t.message}})}static \u0275fac=function(n){return new(n||e)(S(vn),S(Ie))};static \u0275cmp=Be({type:e,selectors:[["app-login"]],decls:27,vars:3,consts:[[1,"auth-container"],[1,"auth-card","fade-in-up"],[1,"text-center","mb-4"],[1,"app-title"],[1,"form-title"],[1,"subtitle"],[3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","autocomplete","username",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","autocomplete","current-password",1,"form-control",3,"ngModelChange","ngModel"],["class","alert alert-danger",4,"ngIf"],["type","submit",1,"btn","btn-morado","w-100"],[1,"bi","bi-box-arrow-in-right"],[1,"text-center","mt-3"],["routerLink","/register",1,"link-morado"],[1,"alert","alert-danger"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),A(4,"CookShare"),I(),E(5,"h2",4),A(6,"Iniciar sesi\xF3n"),I(),E(7,"p",5),A(8,"\xA1Bienvenido de nuevo a la red social de comida!"),I()(),E(9,"form",6),Ve("ngSubmit",function(){return r.onLogin()}),E(10,"div",7)(11,"label",8),A(12,"Correo electr\xF3nico"),I(),E(13,"input",9),jn("ngModelChange",function(o){return dr(r.email,o)||(r.email=o),o}),I()(),E(14,"div",7)(15,"label",10),A(16,"Contrase\xF1a"),I(),E(17,"input",11),jn("ngModelChange",function(o){return dr(r.password,o)||(r.password=o),o}),I()(),_e(18,B$,2,1,"div",12),E(19,"button",13),ce(20,"i",14),A(21," Entrar "),I()(),E(22,"div",15)(23,"span"),A(24,"\xBFNo tienes cuenta?"),I(),E(25,"a",16),A(26,"Reg\xEDstrate"),I()()()()),n&2&&(D(13),Vn("ngModel",r.email),D(4),Vn("ngModel",r.password),D(),F("ngIf",r.error))},dependencies:[rt,Lt,Vo,Id,Lo,yd,_d,ba,Da,Ca,jt,Tt],styles:[".auth-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#a259c6,#6d28d9)}.auth-card[_ngcontent-%COMP%]{background:#fff;border-radius:1.5rem;box-shadow:0 6px 32px #6c008026;padding:2.5rem 2rem;width:100%;max-width:400px}.logo-icon[_ngcontent-%COMP%]{font-size:2.5rem;color:#a259c6}.app-title[_ngcontent-%COMP%]{font-family:Segoe UI,sans-serif;font-weight:700;color:#6d28d9;margin-bottom:.5rem}.form-title[_ngcontent-%COMP%]{color:#a259c6;margin-bottom:.25rem}.subtitle[_ngcontent-%COMP%]{color:#6d28d9;font-size:1rem;margin-bottom:1.5rem}.btn-morado[_ngcontent-%COMP%]{background:linear-gradient(90deg,#a259c6,#6d28d9);color:#fff;border:none;font-weight:600;transition:background .2s}.btn-morado[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#6d28d9,#a259c6);color:#fff}.link-morado[_ngcontent-%COMP%]{color:#a259c6;font-weight:500;text-decoration:none}.link-morado[_ngcontent-%COMP%]:hover{color:#6d28d9;text-decoration:underline}.fade-in-up[_ngcontent-%COMP%]{opacity:0;transform:translateY(40px);animation:_ngcontent-%COMP%_fadeInUp .7s cubic-bezier(.23,1,.32,1) forwards}@keyframes _ngcontent-%COMP%_fadeInUp{to{opacity:1;transform:translateY(0)}}"]})};var u0="@firebase/database",d0="1.0.17";var Xy="";function $$(e){Xy=e}var iy=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),we(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Uo(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var oy=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Ht(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var H0=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new iy(t)}}catch{}return new oy},Di=H0("localStorage"),sy=H0("sessionStorage");var Jo=new hn("@firebase/database"),H$=function(){let e=1;return function(){return e++}}(),W0=function(e){let t=FT(e),n=new wd;n.update(t);let r=n.digest();return Bo.encodeByteArray(r)},vc=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=vc.apply(null,r):typeof r=="object"?t+=we(r):t+=r,t+=" "}return t},Ti=null,f0=!0,W$=function(e,t){y(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Jo.logLevel=ne.VERBOSE,Ti=Jo.log.bind(Jo),t&&sy.set("logging_enabled",!0)):typeof e=="function"?Ti=e:(Ti=null,sy.remove("logging_enabled"))},He=function(...e){if(f0===!0&&(f0=!1,Ti===null&&sy.get("logging_enabled")===!0&&W$(!0)),Ti){let t=vc.apply(null,e);Ti(t)}},yc=function(e){return function(...t){He(e,...t)}},ay=function(...e){let t="FIREBASE INTERNAL ERROR: "+vc(...e);Jo.error(t)},qn=function(...e){let t=`FIREBASE FATAL ERROR: ${vc(...e)}`;throw Jo.error(t),new Error(t)},at=function(...e){let t="FIREBASE WARNING: "+vc(...e);Jo.warn(t)},z$=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&at("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},e_=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},G$=function(e){if(dn()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ai="[MIN_NAME]",kr="[MAX_NAME]",as=function(e,t){if(e===t)return 0;if(e===Ai||t===kr)return-1;if(t===Ai||e===kr)return 1;{let n=h0(e),r=h0(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},q$=function(e,t){return e===t?0:e<t?-1:1},Za=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+we(t))},t_=function(e){if(typeof e!="object"||e===null)return we(e);let t=[];for(let r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=we(t[r]),n+=":",n+=t_(e[t[r]]);return n+="}",n},z0=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function ct(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var G0=function(e){y(!e_(e),"Invalid JSON number");let t=11,n=52,r=(1<<t-1)-1,i,o,s,a,c;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=t;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},K$=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Y$=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Z$(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var Q$=new RegExp("^-?(0*)\\d{1,10}$"),J$=-2147483648,X$=2147483647,h0=function(e){if(Q$.test(e)){let t=Number(e);if(t>=J$&&t<=X$)return t}return null},cs=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw at("Exception was thrown by user callback.",n),t},Math.floor(0))}},eH=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},tc=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var cy=class{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,st(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){at(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var ly=class{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(He("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',at(t)}},nc=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),Jd="5",q0="v",K0="s",Y0="r",Z0="f",Q0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,J0="ls",X0="p",uy="ac",eA="websocket",tA="long_polling";var Xd=class{constructor(t,n,r,i,o=!1,s="",a=!1,c=!1,l=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this.emulatorOptions=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Di.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Di.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function tH(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function nA(e,t,n){y(typeof t=="string","typeof type must == string"),y(typeof n=="object","typeof params must == object");let r;if(t===eA)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===tA)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);tH(e)&&(n.ns=e.namespace);let i=[];return ct(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var dy=class{constructor(){this.counters_={}}incrementCounter(t,n=1){Ht(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return CT(this.counters_)}};var Qv={},Jv={};function n_(e){let t=e.toString();return Qv[t]||(Qv[t]=new dy),Qv[t]}function nH(e,t){let n=e.toString();return Jv[n]||(Jv[n]=t()),Jv[n]}var fy=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&cs(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var p0="start",rH="close",iH="pLPCommand",oH="pRTLPCB",rA="id",iA="pw",oA="ser",sH="cb",aH="seg",cH="ts",lH="d",uH="dframe",sA=1870,aA=30,dH=sA-aA,fH=25e3,hH=3e4,hy=class e{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=yc(t),this.stats_=n_(n),this.urlFn=c=>(this.appCheckToken&&(c[uy]=this.appCheckToken),nA(n,tA,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new fy(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(hH)),G$(()=>{if(this.isClosed_)return;this.scriptTagHolder=new py((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===p0)this.id=a,this.password=c;else if(s===rH)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[p0]="t",r[oA]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[sH]=this.scriptTagHolder.uniqueCallbackIdentifier),r[q0]=Jd,this.transportSessionId&&(r[K0]=this.transportSessionId),this.lastSessionId&&(r[J0]=this.lastSessionId),this.applicationId&&(r[X0]=this.applicationId),this.appCheckToken&&(r[uy]=this.appCheckToken),typeof location<"u"&&location.hostname&&Q0.test(location.hostname)&&(r[Y0]=Z0);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return dn()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!K$()&&!Y$()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=we(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Vm(n),i=z0(r,dH);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(dn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[uH]="t",r[rA]=t,r[iA]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=we(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},py=class e{constructor(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,dn())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=H$(),window[iH+this.uniqueCallbackIdentifier]=t,window[oH+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){He("frame writing exception"),a.stack&&He(a.stack),He(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||He("No IE domain setting required")}catch{let r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[rA]=this.myID,t[iA]=this.myPW,t[oA]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+aA+r.length<=sA;){let s=this.pendingSegs.shift();r=r+"&"+aH+i+"="+s.seg+"&"+cH+i+"="+s.ts+"&"+lH+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(fH)),o=()=>{clearTimeout(i),r()};this.addTag(t,o)}addTag(t,n){dn()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{He("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var pH=16384,gH=45e3,ef=null;typeof MozWebSocket<"u"?ef=MozWebSocket:typeof WebSocket<"u"&&(ef=WebSocket);var Qa=(()=>{class e{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=yc(this.connId),this.stats_=n_(r),this.connURL=e.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[q0]=Jd,!dn()&&typeof location<"u"&&location.hostname&&Q0.test(location.hostname)&&(a[Y0]=Z0),r&&(a[K0]=r),i&&(a[J0]=i),o&&(a[uy]=o),s&&(a[X0]=s),nA(n,eA,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Di.set("previous_websocket_failure",!0);try{let i;if(dn()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Jd}/${Xy}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new ef(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&ef!==null&&!e.forceDisallow_}static previouslyFailed(){return Di.isInMemoryStorage||Di.get("previous_websocket_failure")===!0}markConnectionHealthy(){Di.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Uo(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(y(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=we(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=z0(r,pH);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(gH))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),mH=(()=>{class e{static get ALL_TRANSPORTS(){return[hy,Qa]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=Qa&&Qa.isAvailable(),i=r&&!Qa.previouslyFailed();if(n.webSocketOnly&&(r||at("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Qa];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),vH=6e4,yH=5e3,_H=10*1024,EH=100*1024,Xv="t",g0="d",IH="s",m0="r",wH="e",v0="o",y0="a",_0="n",E0="p",CH="h",gy=class{constructor(t,n,r,i,o,s,a,c,l,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=yc("c:"+this.id+":"),this.transportManager_=new mH(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=tc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>EH?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>_H?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Xv in t){let n=t[Xv];n===y0?this.upgradeIfSecondaryHealthy_():n===m0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===v0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=Za("t",t),r=Za("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:E0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:y0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:_0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=Za("t",t),r=Za("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=Za(Xv,t);if(g0 in t){let r=t[g0];if(n===CH){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===_0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===IH?this.onConnectionShutdown_(r):n===m0?this.onReset_(r):n===wH?ay("Server Error: "+r):n===v0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ay("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Jd!==r&&at("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),tc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(vH))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):tc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(yH))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:E0,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Di.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var tf=class{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}};var nf=class{constructor(t){this.allowedEvents_=t,this.listeners_={},y(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});let i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);let i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(t){y(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var rf=class e extends nf{static getInstance(){return new e}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Aa()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return y(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var I0=32,w0=768,te=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function J(){return new te("")}function H(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Pr(e){return e.pieces_.length-e.pieceNum_}function ae(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new te(e.pieces_,t)}function cA(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function DH(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function lA(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function uA(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new te(t,0)}function Ae(e,t){let n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof te)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{let r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new te(n,0)}function W(e){return e.pieceNum_>=e.pieces_.length}function qe(e,t){let n=H(e),r=H(t);if(n===null)return t;if(n===r)return qe(ae(e),ae(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function r_(e,t){if(Pr(e)!==Pr(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function qt(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Pr(e)>Pr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var my=class{constructor(t,n){this.errorPrefix_=n,this.parts_=lA(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Oa(this.parts_[r]);dA(this)}};function bH(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Oa(t),dA(e)}function TH(e){let t=e.parts_.pop();e.byteLength_-=Oa(t),e.parts_.length>0&&(e.byteLength_-=1)}function dA(e){if(e.byteLength_>w0)throw new Error(e.errorPrefix_+"has a key path longer than "+w0+" bytes ("+e.byteLength_+").");if(e.parts_.length>I0)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+I0+") or object contains a cycle "+Ci(e))}function Ci(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var vy=class e extends nf{static getInstance(){return new e}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return y(t==="visible","Unknown event type: "+t),[this.visible_]}};var Ja=1e3,SH=60*5*1e3,C0=30*1e3,AH=1.3,MH=3e4,RH="server_kill",D0=3,i_=(()=>{class e extends tf{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=e.nextPersistentConnectionId_++,this.log_=yc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ja,this.maxReconnectDelay_=SH,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!dn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vy.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&rf.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(we(s)),y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Ut,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),y(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),y(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;e.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Ht(n,"w")){let i=hi(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();at(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||PT(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=C0)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=kT(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),y(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+we(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):ay("Unrecognized action received from server: "+we(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ja,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ja,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>MH&&(this.reconnectDelay_=Ja),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*AH)}this.onConnectStatus_(!1)}establishConnection_(){return p(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){y(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?He("getToken() completed but was canceled"):(He("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new gy(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,g=>{at(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(RH)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&at(f),l())}}})}interrupt(n){He("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){He("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Ma(this.interruptReasons_)&&(this.reconnectDelay_=Ja,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>t_(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new te(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){He("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=D0&&(this.reconnectDelay_=C0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){He("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=D0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";dn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Xy.replace(/\./g,"-")]=1,Aa()?n["framework.cordova"]=1:Dd()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=rf.getInstance().currentlyOnline();return Ma(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),z=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var Xo=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let r=new z(Ai,t),i=new z(Ai,n);return this.compare(r,i)!==0}minPost(){return z.MIN}};var Qd,of=class extends Xo{static get __EMPTY_NODE(){return Qd}static set __EMPTY_NODE(t){Qd=t}compare(t,n){return as(t.name,n.name)}isDefinedOn(t){throw di("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return z.MIN}maxPost(){return new z(kr,Qd)}makePost(t,n){return y(typeof t=="string","KeyIndex indexValue must always be a string."),new z(t,Qd)}toString(){return".key"}},Si=new of;var Qo=class{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},Gt=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??St.EMPTY_NODE,this.right=s??St.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return St.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return St.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),yy=class{copy(t,n,r,i,o){return this}insert(t,n,r){return new Gt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},St=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Gt.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Gt.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Qo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Qo(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Qo(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Qo(this.root_,null,this.comparator_,!0,t)}};St.EMPTY_NODE=new yy;function NH(e,t){return as(e.name,t.name)}function o_(e,t){return as(e,t)}var _y;function OH(e){_y=e}var fA=function(e){return typeof e=="number"?"number:"+G0(e):"string:"+e},hA=function(e){if(e.isLeafNode()){let t=e.val();y(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Ht(t,".sv"),"Priority must be a string or number.")}else y(e===_y||e.isEmpty(),"priority of unexpected type.");y(e===_y||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var b0,es=(()=>{class e{static set __childrenNodeConstructor(n){b0=n}static get __childrenNodeConstructor(){return b0}constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),hA(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return W(n)?this:H(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=H(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(y(i!==".priority"||Pr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ae(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+fA(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=G0(this.value_):n+=this.value_,this.lazyHash_=W0(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(y(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return y(o>=0,"Unknown leaf type: "+r),y(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),pA,gA;function kH(e){pA=e}function PH(e){gA=e}var Ey=class extends Xo{compare(t,n){let r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?as(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return z.MIN}maxPost(){return new z(kr,new es("[PRIORITY-POST]",gA))}makePost(t,n){let r=pA(t);return new z(n,new es("[PRIORITY-POST]",r))}toString(){return".priority"}},ue=new Ey;var xH=Math.log(2),Iy=class{constructor(t){let n=o=>parseInt(Math.log(o)/xH,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},sf=function(e,t,n,r){e.sort(t);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=e[c],f=n?n(d):d,new Gt(f,d.node,Gt.BLACK,null,null);{let h=parseInt(u/2,10)+c,g=i(c,h),_=i(h+1,l);return d=e[h],f=n?n(d):d,new Gt(f,d.node,Gt.BLACK,g,_)}},o=function(c){let l=null,u=null,d=e.length,f=function(g,_){let T=d-g,j=d;d-=g;let ke=i(T+1,j),de=e[T],Yn=n?n(de):de;h(new Gt(Yn,de.node,_,null,ke))},h=function(g){l?(l.left=g,l=g):(u=g,l=g)};for(let g=0;g<c.count;++g){let _=c.nextBitIsOne(),T=Math.pow(2,c.count-(g+1));_?f(T,Gt.BLACK):(f(T,Gt.BLACK),f(T,Gt.RED))}return u},s=new Iy(e.length),a=o(s);return new St(r||t,a)};var ey,Zo={},ts=class e{static get Default(){return y(Zo&&ue,"ChildrenNode.ts has not been loaded"),ey=ey||new e({".priority":Zo},{".priority":ue}),ey}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){let n=hi(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof St?n:null}hasIndex(t){return Ht(this.indexSet_,t.toString())}addIndex(t,n){y(t!==Si,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(z.Wrap),s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=sf(r,t.getCompare()):a=Zo;let c=t.toString(),l=Object.assign({},this.indexSet_);l[c]=t;let u=Object.assign({},this.indexes_);return u[c]=a,new e(u,l)}addToIndexes(t,n){let r=Ra(this.indexes_,(i,o)=>{let s=hi(this.indexSet_,o);if(y(s,"Missing index implementation for "+o),i===Zo)if(s.isDefinedOn(t.node)){let a=[],c=n.getIterator(z.Wrap),l=c.getNext();for(;l;)l.name!==t.name&&a.push(l),l=c.getNext();return a.push(t),sf(a,s.getCompare())}else return Zo;else{let a=n.get(t.name),c=i;return a&&(c=c.remove(new z(t.name,a))),c.insert(t,t.node)}});return new e(r,this.indexSet_)}removeFromIndexes(t,n){let r=Ra(this.indexes_,i=>{if(i===Zo)return i;{let o=n.get(t.name);return o?i.remove(new z(t.name,o)):i}});return new e(r,this.indexSet_)}};var Xa,V=(()=>{class e{static get EMPTY_NODE(){return Xa||(Xa=new e(new St(o_),null,ts.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&hA(this.priorityNode_),this.children_.isEmpty()&&y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Xa}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Xa:r}}getChild(n){let r=H(n);return r===null?this:this.getImmediateChild(r).getChild(ae(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(y(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new z(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Xa:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){let i=H(n);if(i===null)return r;{y(H(n)!==".priority"||Pr(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(ae(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(ue,(a,c)=>{r[a]=c.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+fA(this.getPriority().val())+":"),this.forEachChild(ue,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":W0(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new z(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new z(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new z(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,z.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,z.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===_c?-1:0}withIndex(n){if(n===Si||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Si||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(ue),o=r.getIterator(ue),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Si?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),wy=class extends V{constructor(){super(new St(o_),V.EMPTY_NODE,ts.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return V.EMPTY_NODE}isEmpty(){return!1}},_c=new wy;Object.defineProperties(z,{MIN:{value:new z(Ai,V.EMPTY_NODE)},MAX:{value:new z(kr,_c)}});of.__EMPTY_NODE=V.EMPTY_NODE;es.__childrenNodeConstructor=V;OH(_c);PH(_c);var FH=!0;function Oe(e,t=null){if(e===null)return V.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),y(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new es(n,Oe(t))}if(!(e instanceof Array)&&FH){let n=[],r=!1;if(ct(e,(s,a)=>{if(s.substring(0,1)!=="."){let c=Oe(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new z(s,c)))}}),n.length===0)return V.EMPTY_NODE;let o=sf(n,NH,s=>s.name,o_);if(r){let s=sf(n,ue.getCompare());return new V(o,Oe(t),new ts({".priority":s},{".priority":ue}))}else return new V(o,Oe(t),ts.Default)}else{let n=V.EMPTY_NODE;return ct(e,(r,i)=>{if(Ht(e,r)&&r.substring(0,1)!=="."){let o=Oe(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Oe(t))}}kH(Oe);var sc=class extends Xo{constructor(t){super(),this.indexPath_=t,y(!W(t)&&H(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?as(t.name,n.name):o}makePost(t,n){let r=Oe(t),i=V.EMPTY_NODE.updateChild(this.indexPath_,r);return new z(n,i)}maxPost(){let t=V.EMPTY_NODE.updateChild(this.indexPath_,_c);return new z(kr,t)}toString(){return lA(this.indexPath_,0).join("/")}};var Cy=class extends Xo{compare(t,n){let r=t.node.compareTo(n.node);return r===0?as(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return z.MIN}maxPost(){return z.MAX}makePost(t,n){let r=Oe(t);return new z(n,r)}toString(){return".value"}},mA=new Cy;function vA(e){return{type:"value",snapshotNode:e}}function ns(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function ac(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function cc(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function LH(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var lc=class{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){y(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(ac(n,a)):y(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ns(n,r)):s.trackChildChange(cc(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(ue,(i,o)=>{n.hasChild(i)||r.trackChildChange(ac(i,o))}),n.isLeafNode()||n.forEachChild(ue,(i,o)=>{if(t.hasChild(i)){let s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(cc(i,o,s))}else r.trackChildChange(ns(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?V.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var af=class e{constructor(t){this.indexedFilter_=new lc(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new z(n,r))||(r=V.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=V.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(V.EMPTY_NODE);let o=this;return n.forEachChild(ue,(s,a)=>{o.matches(new z(s,a))||(i=i.updateImmediateChild(s,V.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var Dy=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new af(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new z(n,r))||(r=V.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=V.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=V.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(V.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,V.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=t;y(a.numChildren()===this.limit_,"");let c=new z(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(cc(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(ac(n,d));let _=a.updateImmediateChild(n,V.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(ns(f.name,f.node)),_.updateImmediateChild(f.name,f.node)):_}}else return r.isEmpty()?t:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(ac(l.name,l.node)),o.trackChildChange(ns(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,V.EMPTY_NODE)):t}};var by=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ue}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ai}hasEnd(){return this.endSet_}getIndexEndValue(){return y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:kr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ue}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function VH(e){return e.loadsAllData()?new lc(e.getIndex()):e.hasLimit()?new Dy(e):new af(e)}function jH(e,t,n){let r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function UH(e,t,n){let r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function BH(e,t){let n=e.copy();return n.index_=t,n}function T0(e){let t={};if(e.isDefault())return t;let n;if(e.index_===ue?n="$priority":e.index_===mA?n="$value":e.index_===Si?n="$key":(y(e.index_ instanceof sc,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=we(n),e.startSet_){let r=e.startAfterSet_?"startAfter":"startAt";t[r]=we(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+we(e.indexStartName_))}if(e.endSet_){let r=e.endBeforeSet_?"endBefore":"endAt";t[r]=we(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+we(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function S0(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ue&&(t.i=e.index_.toString()),t}var Ty=class e extends tf{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(y(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=yc("p:rest:"),this.listens_={}}listen(t,n,r,i){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,r),a={};this.listens_[s]=a;let c=T0(t._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),hi(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(t,n){let r=e.getListenId_(t,n);delete this.listens_[r]}get(t){let n=T0(t._queryParams),r=t._path.toString(),i=new Ut;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+pi(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Uo(a.responseText)}catch{at("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&at("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var Sy=class{constructor(){this.rootNode_=V.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function cf(){return{value:null,children:new Map}}function yA(e,t,n){if(W(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let r=H(t);e.children.has(r)||e.children.set(r,cf());let i=e.children.get(r);t=ae(t),yA(i,t,n)}}function Ay(e,t,n){e.value!==null?n(t,e.value):$H(e,(r,i)=>{let o=new te(t.toString()+"/"+r);Ay(i,o,n)})}function $H(e,t){e.children.forEach((n,r)=>{t(r,n)})}var My=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&ct(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}};var A0=10*1e3,HH=30*1e3,WH=5*60*1e3,Ry=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new My(t);let r=A0+(HH-A0)*Math.random();tc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let t=this.statsListener_.get(),n={},r=!1;ct(t,(i,o)=>{o>0&&Ht(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),tc(this.reportStats_.bind(this),Math.floor(Math.random()*2*WH))}};var yn=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(yn||{});function _A(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function s_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function a_(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var Ny=class e{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=yn.ACK_USER_WRITE,this.source=_A()}operationForChild(t){if(W(this.path)){if(this.affectedTree.value!=null)return y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new te(t));return new e(J(),n,this.revert)}}else return y(H(this.path)===t,"operationForChild called for unrelated child."),new e(ae(this.path),this.affectedTree,this.revert)}};var lf=class e{constructor(t,n){this.source=t,this.path=n,this.type=yn.LISTEN_COMPLETE}operationForChild(t){return W(this.path)?new e(this.source,J()):new e(this.source,ae(this.path))}};var rs=class e{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=yn.OVERWRITE}operationForChild(t){return W(this.path)?new e(this.source,J(),this.snap.getImmediateChild(t)):new e(this.source,ae(this.path),this.snap)}};var uf=class e{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=yn.MERGE}operationForChild(t){if(W(this.path)){let n=this.children.subtree(new te(t));return n.isEmpty()?null:n.value?new rs(this.source,J(),n.value):new e(this.source,J(),n)}else return y(H(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var _n=class{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(W(t))return this.isFullyInitialized()&&!this.filtered_;let n=H(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var Oy=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function zH(e,t,n,r){let i=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(LH(s.childName,s.snapshotNode))}),ec(e,i,"child_removed",t,r,n),ec(e,i,"child_added",t,r,n),ec(e,i,"child_moved",o,r,n),ec(e,i,"child_changed",t,r,n),ec(e,i,"value",t,r,n),i}function ec(e,t,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>qH(e,a,c)),s.forEach(a=>{let c=GH(e,a,o);i.forEach(l=>{l.respondsTo(a.type)&&t.push(l.createEvent(c,e.query_))})})}function GH(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function qH(e,t,n){if(t.childName==null||n.childName==null)throw di("Should only compare child_ events.");let r=new z(t.childName,t.snapshotNode),i=new z(n.childName,n.snapshotNode);return e.index_.compare(r,i)}function Cf(e,t){return{eventCache:e,serverCache:t}}function rc(e,t,n,r){return Cf(new _n(t,n,r),e.serverCache)}function EA(e,t,n,r){return Cf(e.eventCache,new _n(t,n,r))}function df(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Mi(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var ty,KH=()=>(ty||(ty=new St(q$)),ty),lt=class e{static fromObject(t){let n=new e(null);return ct(t,(r,i)=>{n=n.set(new te(r),i)}),n}constructor(t,n=KH()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:J(),value:this.value};if(W(t))return null;{let r=H(t),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(ae(t),n);return o!=null?{path:Ae(new te(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(W(t))return this;{let n=H(t),r=this.children.get(n);return r!==null?r.subtree(ae(t)):new e(null)}}set(t,n){if(W(t))return new e(n,this.children);{let r=H(t),o=(this.children.get(r)||new e(null)).set(ae(t),n),s=this.children.insert(r,o);return new e(this.value,s)}}remove(t){if(W(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=H(t),r=this.children.get(n);if(r){let i=r.remove(ae(t)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(W(t))return this.value;{let n=H(t),r=this.children.get(n);return r?r.get(ae(t)):null}}setTree(t,n){if(W(t))return n;{let r=H(t),o=(this.children.get(r)||new e(null)).setTree(ae(t),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new e(this.value,s)}}fold(t){return this.fold_(J(),t)}fold_(t,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Ae(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,J(),n)}findOnPath_(t,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(W(t))return null;{let o=H(t),s=this.children.get(o);return s?s.findOnPath_(ae(t),Ae(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,J(),n)}foreachOnPath_(t,n,r){if(W(t))return this;{this.value&&r(n,this.value);let i=H(t),o=this.children.get(i);return o?o.foreachOnPath_(ae(t),Ae(n,i),r):new e(null)}}foreach(t){this.foreach_(J(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ae(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}};var Kt=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new lt(null))}};function ic(e,t,n){if(W(t))return new Kt(new lt(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){let i=r.path,o=r.value,s=qe(i,t);return o=o.updateChild(s,n),new Kt(e.writeTree_.set(i,o))}else{let i=new lt(n),o=e.writeTree_.setTree(t,i);return new Kt(o)}}}function M0(e,t,n){let r=e;return ct(n,(i,o)=>{r=ic(r,Ae(t,i),o)}),r}function R0(e,t){if(W(t))return Kt.empty();{let n=e.writeTree_.setTree(t,new lt(null));return new Kt(n)}}function ky(e,t){return Ri(e,t)!=null}function Ri(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(qe(n.path,t)):null}function N0(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ue,(r,i)=>{t.push(new z(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new z(r,i.value))}),t}function Nr(e,t){if(W(t))return e;{let n=Ri(e,t);return n!=null?new Kt(new lt(n)):new Kt(e.writeTree_.subtree(t))}}function Py(e){return e.writeTree_.isEmpty()}function is(e,t){return IA(J(),e.writeTree_,t)}function IA(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{i===".priority"?(y(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=IA(Ae(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Ae(e,".priority"),r)),n}}function Df(e,t){return bA(t,e)}function YH(e,t,n,r,i){y(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=ic(e.visibleWrites,t,n)),e.lastWriteId=r}function ZH(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}function QH(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);y(n>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&JH(a,r.path)?i=!1:qt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return XH(e),!0;if(r.snap)e.visibleWrites=R0(e.visibleWrites,r.path);else{let a=r.children;ct(a,c=>{e.visibleWrites=R0(e.visibleWrites,Ae(r.path,c))})}return!0}else return!1}function JH(e,t){if(e.snap)return qt(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&qt(Ae(e.path,n),t))return!0;return!1}function XH(e){e.visibleWrites=wA(e.allWrites,eW,J()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function eW(e){return e.visible}function wA(e,t,n){let r=Kt.empty();for(let i=0;i<e.length;++i){let o=e[i];if(t(o)){let s=o.path,a;if(o.snap)qt(n,s)?(a=qe(n,s),r=ic(r,a,o.snap)):qt(s,n)&&(a=qe(s,n),r=ic(r,J(),o.snap.getChild(a)));else if(o.children){if(qt(n,s))a=qe(n,s),r=M0(r,a,o.children);else if(qt(s,n))if(a=qe(s,n),W(a))r=M0(r,J(),o.children);else{let c=hi(o.children,H(a));if(c){let l=c.getChild(ae(a));r=ic(r,J(),l)}}}else throw di("WriteRecord should have .snap or .children")}}return r}function CA(e,t,n,r,i){if(!r&&!i){let o=Ri(e.visibleWrites,t);if(o!=null)return o;{let s=Nr(e.visibleWrites,t);if(Py(s))return n;if(n==null&&!ky(s,J()))return null;{let a=n||V.EMPTY_NODE;return is(s,a)}}}else{let o=Nr(e.visibleWrites,t);if(!i&&Py(o))return n;if(!i&&n==null&&!ky(o,J()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(qt(l.path,t)||qt(t,l.path))},a=wA(e.allWrites,s,t),c=n||V.EMPTY_NODE;return is(a,c)}}}function tW(e,t,n){let r=V.EMPTY_NODE,i=Ri(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ue,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=Nr(e.visibleWrites,t);return n.forEachChild(ue,(s,a)=>{let c=is(Nr(o,new te(s)),a);r=r.updateImmediateChild(s,c)}),N0(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=Nr(e.visibleWrites,t);return N0(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function nW(e,t,n,r,i){y(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=Ae(t,n);if(ky(e.visibleWrites,o))return null;{let s=Nr(e.visibleWrites,o);return Py(s)?i.getChild(n):is(s,i.getChild(n))}}function rW(e,t,n,r){let i=Ae(t,n),o=Ri(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=Nr(e.visibleWrites,i);return is(s,r.getNode().getImmediateChild(n))}else return null}function iW(e,t){return Ri(e.visibleWrites,t)}function oW(e,t,n,r,i,o,s){let a,c=Nr(e.visibleWrites,t),l=Ri(c,J());if(l!=null)a=l;else if(n!=null)a=is(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function sW(){return{visibleWrites:Kt.empty(),allWrites:[],lastWriteId:-1}}function ff(e,t,n,r){return CA(e.writeTree,e.treePath,t,n,r)}function c_(e,t){return tW(e.writeTree,e.treePath,t)}function O0(e,t,n,r){return nW(e.writeTree,e.treePath,t,n,r)}function hf(e,t){return iW(e.writeTree,Ae(e.treePath,t))}function aW(e,t,n,r,i,o){return oW(e.writeTree,e.treePath,t,n,r,i,o)}function l_(e,t,n){return rW(e.writeTree,e.treePath,t,n)}function DA(e,t){return bA(Ae(e.treePath,t),e.writeTree)}function bA(e,t){return{treePath:e,writeTree:t}}var xy=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,r=t.childName;y(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),y(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,cc(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,ac(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,ns(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,cc(r,t.snapshotNode,i.oldSnap));else throw di("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}};var Fy=class{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}},TA=new Fy,uc=class{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let r=this.optCompleteServerCache_!=null?new _n(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return l_(this.writes_,t,r)}}getChildAfterChild(t,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Mi(this.viewCache_),o=aW(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]}};function cW(e){return{filter:e}}function lW(e,t){y(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),y(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function uW(e,t,n,r,i){let o=new xy,s,a;if(n.type===yn.OVERWRITE){let l=n;l.source.fromUser?s=Ly(e,t,l.path,l.snap,r,i,o):(y(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!W(l.path),s=pf(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===yn.MERGE){let l=n;l.source.fromUser?s=fW(e,t,l.path,l.children,r,i,o):(y(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=Vy(e,t,l.path,l.children,r,i,a,o))}else if(n.type===yn.ACK_USER_WRITE){let l=n;l.revert?s=gW(e,t,l.path,r,i,o):s=hW(e,t,l.path,l.affectedTree,r,i,o)}else if(n.type===yn.LISTEN_COMPLETE)s=pW(e,t,n.path,r,o);else throw di("Unknown operation type: "+n.type);let c=o.getChanges();return dW(t,s,c),{viewCache:s,changes:c}}function dW(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=df(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(vA(df(t)))}}function SA(e,t,n,r,i,o){let s=t.eventCache;if(hf(r,n)!=null)return t;{let a,c;if(W(n))if(y(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let l=Mi(t),u=l instanceof V?l:V.EMPTY_NODE,d=c_(r,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let l=ff(r,Mi(t));a=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{let l=H(n);if(l===".priority"){y(Pr(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=t.serverCache.getNode();let d=O0(r,n,u,c);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=ae(n),d;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();let f=O0(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=l_(r,l,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return rc(t,a,s.isFullyInitialized()||W(n),e.filter.filtersNodes())}}function pf(e,t,n,r,i,o,s,a){let c=t.serverCache,l,u=s?e.filter:e.filter.getIndexedFilter();if(W(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=H(n);if(!c.isCompleteForPath(n)&&Pr(n)>1)return t;let g=ae(n),T=c.getNode().getImmediateChild(h).updateChild(g,r);h===".priority"?l=u.updatePriority(c.getNode(),T):l=u.updateChild(c.getNode(),h,T,g,TA,null)}let d=EA(t,l,c.isFullyInitialized()||W(n),u.filtersNodes()),f=new uc(i,d,o);return SA(e,d,n,i,f,a)}function Ly(e,t,n,r,i,o,s){let a=t.eventCache,c,l,u=new uc(i,t,o);if(W(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,s),c=rc(t,l,!0,e.filter.filtersNodes());else{let d=H(n);if(d===".priority")l=e.filter.updatePriority(t.eventCache.getNode(),r),c=rc(t,l,a.isFullyInitialized(),a.isFiltered());else{let f=ae(n),h=a.getNode().getImmediateChild(d),g;if(W(f))g=r;else{let _=u.getCompleteChild(d);_!=null?cA(f)===".priority"&&_.getChild(uA(f)).isEmpty()?g=_:g=_.updateChild(f,r):g=V.EMPTY_NODE}if(h.equals(g))c=t;else{let _=e.filter.updateChild(a.getNode(),d,g,f,u,s);c=rc(t,_,a.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function k0(e,t){return e.eventCache.isCompleteForChild(t)}function fW(e,t,n,r,i,o,s){let a=t;return r.foreach((c,l)=>{let u=Ae(n,c);k0(t,H(u))&&(a=Ly(e,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=Ae(n,c);k0(t,H(u))||(a=Ly(e,a,u,l,i,o,s))}),a}function P0(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Vy(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,l;W(n)?l=r:l=new lt(null).setTree(n,r);let u=t.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=t.serverCache.getNode().getImmediateChild(d),g=P0(e,h,f);c=pf(e,c,new te(d),g,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let g=t.serverCache.getNode().getImmediateChild(d),_=P0(e,g,f);c=pf(e,c,new te(d),_,i,o,s,a)}}),c}function hW(e,t,n,r,i,o,s){if(hf(i,n)!=null)return t;let a=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(W(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return pf(e,t,n,c.getNode().getChild(n),i,o,a,s);if(W(n)){let l=new lt(null);return c.getNode().forEachChild(Si,(u,d)=>{l=l.set(new te(u),d)}),Vy(e,t,n,l,i,o,a,s)}else return t}else{let l=new lt(null);return r.foreach((u,d)=>{let f=Ae(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),Vy(e,t,n,l,i,o,a,s)}}function pW(e,t,n,r,i){let o=t.serverCache,s=EA(t,o.getNode(),o.isFullyInitialized()||W(n),o.isFiltered());return SA(e,s,n,r,TA,i)}function gW(e,t,n,r,i,o){let s;if(hf(r,n)!=null)return t;{let a=new uc(r,t,i),c=t.eventCache.getNode(),l;if(W(n)||H(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=ff(r,Mi(t));else{let d=t.serverCache.getNode();y(d instanceof V,"serverChildren would be complete if leaf node"),u=c_(r,d)}u=u,l=e.filter.updateFullNode(c,u,o)}else{let u=H(n),d=l_(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=e.filter.updateChild(c,u,d,ae(n),a,o):t.eventCache.getNode().hasChild(u)?l=e.filter.updateChild(c,u,V.EMPTY_NODE,ae(n),a,o):l=c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=ff(r,Mi(t)),s.isLeafNode()&&(l=e.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||hf(r,J())!=null,rc(t,l,s,e.filter.filtersNodes())}}var jy=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new lc(r.getIndex()),o=VH(r);this.processor_=cW(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(V.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(V.EMPTY_NODE,a.getNode(),null),u=new _n(c,s.isFullyInitialized(),i.filtersNodes()),d=new _n(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Cf(d,u),this.eventGenerator_=new Oy(this.query_)}get query(){return this.query_}};function mW(e){return e.viewCache_.serverCache.getNode()}function vW(e){return df(e.viewCache_)}function yW(e,t){let n=Mi(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!W(t)&&!n.getImmediateChild(H(t)).isEmpty())?n.getChild(t):null}function x0(e){return e.eventRegistrations_.length===0}function _W(e,t){e.eventRegistrations_.push(t)}function F0(e,t,n){let r=[];if(n){y(t==null,"A cancel should cancel all event registrations.");let i=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(t))i.push(s);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function L0(e,t,n,r){t.type===yn.MERGE&&t.source.queryId!==null&&(y(Mi(e.viewCache_),"We should always have a full cache before handling merges"),y(df(e.viewCache_),"Missing event cache, even though we have a server cache"));let i=e.viewCache_,o=uW(e.processor_,i,t,n,r);return lW(e.processor_,o.viewCache),y(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,AA(e,o.changes,o.viewCache.eventCache.getNode(),null)}function EW(e,t){let n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ue,(o,s)=>{r.push(ns(o,s))}),n.isFullyInitialized()&&r.push(vA(n.getNode())),AA(e,r,n.getNode(),t)}function AA(e,t,n,r){let i=r?[r]:e.eventRegistrations_;return zH(e.eventGenerator_,t,n,i)}var gf,mf=class{constructor(){this.views=new Map}};function IW(e){y(!gf,"__referenceConstructor has already been defined"),gf=e}function wW(){return y(gf,"Reference.ts has not been loaded"),gf}function CW(e){return e.views.size===0}function u_(e,t,n,r){let i=t.source.queryId;if(i!==null){let o=e.views.get(i);return y(o!=null,"SyncTree gave us an op for an invalid query."),L0(o,t,n,r)}else{let o=[];for(let s of e.views.values())o=o.concat(L0(s,t,n,r));return o}}function MA(e,t,n,r,i){let o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=ff(n,i?r:null),c=!1;a?c=!0:r instanceof V?(a=c_(n,r),c=!1):(a=V.EMPTY_NODE,c=!1);let l=Cf(new _n(a,c,!1),new _n(r,i,!1));return new jy(t,l)}return s}function DW(e,t,n,r,i,o){let s=MA(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),_W(s,n),EW(s,n)}function bW(e,t,n,r){let i=t._queryIdentifier,o=[],s=[],a=xr(e);if(i==="default")for(let[c,l]of e.views.entries())s=s.concat(F0(l,n,r)),x0(l)&&(e.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=e.views.get(i);c&&(s=s.concat(F0(c,n,r)),x0(c)&&(e.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!xr(e)&&o.push(new(wW())(t._repo,t._path)),{removed:o,events:s}}function RA(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Or(e,t){let n=null;for(let r of e.views.values())n=n||yW(r,t);return n}function NA(e,t){if(t._queryParams.loadsAllData())return bf(e);{let r=t._queryIdentifier;return e.views.get(r)}}function OA(e,t){return NA(e,t)!=null}function xr(e){return bf(e)!=null}function bf(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var vf;function TW(e){y(!vf,"__referenceConstructor has already been defined"),vf=e}function SW(){return y(vf,"Reference.ts has not been loaded"),vf}var AW=1,yf=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new lt(null),this.pendingWriteTree_=sW(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function kA(e,t,n,r,i){return YH(e.pendingWriteTree_,t,n,r,i),i?Ic(e,new rs(_A(),t,n)):[]}function bi(e,t,n=!1){let r=ZH(e.pendingWriteTree_,t);if(QH(e.pendingWriteTree_,t)){let o=new lt(null);return r.snap!=null?o=o.set(J(),!0):ct(r.children,s=>{o=o.set(new te(s),!0)}),Ic(e,new Ny(r.path,o,n))}else return[]}function Ec(e,t,n){return Ic(e,new rs(s_(),t,n))}function MW(e,t,n){let r=lt.fromObject(n);return Ic(e,new uf(s_(),t,r))}function RW(e,t){return Ic(e,new lf(s_(),t))}function NW(e,t,n){let r=f_(e,n);if(r){let i=h_(r),o=i.path,s=i.queryId,a=qe(o,t),c=new lf(a_(s),a);return p_(e,o,c)}else return[]}function _f(e,t,n,r,i=!1){let o=t._path,s=e.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||OA(s,t))){let c=bW(s,t,n,r);CW(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(f,h)=>xr(h));if(u&&!d){let f=e.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=PW(f);for(let g=0;g<h.length;++g){let _=h[g],T=_.query,j=LA(e,_);e.listenProvider_.startListening(oc(T),dc(e,T),j.hashFn,j.onComplete)}}}!d&&l.length>0&&!r&&(u?e.listenProvider_.stopListening(oc(t),null):l.forEach(f=>{let h=e.queryToTagMap.get(Tf(f));e.listenProvider_.stopListening(oc(f),h)}))}xW(e,l)}return a}function PA(e,t,n,r){let i=f_(e,r);if(i!=null){let o=h_(i),s=o.path,a=o.queryId,c=qe(s,t),l=new rs(a_(a),c,n);return p_(e,s,l)}else return[]}function OW(e,t,n,r){let i=f_(e,r);if(i){let o=h_(i),s=o.path,a=o.queryId,c=qe(s,t),l=lt.fromObject(n),u=new uf(a_(a),c,l);return p_(e,s,u)}else return[]}function Uy(e,t,n,r=!1){let i=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(f,h)=>{let g=qe(f,i);o=o||Or(h,g),s=s||xr(h)});let a=e.syncPointTree_.get(i);a?(s=s||xr(a),o=o||Or(a,J())):(a=new mf,e.syncPointTree_=e.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=V.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((h,g)=>{let _=Or(g,J());_&&(o=o.updateImmediateChild(h,_))}));let l=OA(a,t);if(!l&&!t._queryParams.loadsAllData()){let f=Tf(t);y(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=FW();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}let u=Df(e.pendingWriteTree_,i),d=DW(a,t,n,u,o,c);if(!l&&!s&&!r){let f=NA(a,t);d=d.concat(LW(e,t,f))}return d}function d_(e,t,n){let i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let c=qe(s,t),l=Or(a,c);if(l)return l});return CA(i,t,o,n,!0)}function kW(e,t){let n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(l,u)=>{let d=qe(l,n);r=r||Or(u,d)});let i=e.syncPointTree_.get(n);i?r=r||Or(i,J()):(i=new mf,e.syncPointTree_=e.syncPointTree_.set(n,i));let o=r!=null,s=o?new _n(r,!0,!1):null,a=Df(e.pendingWriteTree_,t._path),c=MA(i,t,a,o?s.getNode():V.EMPTY_NODE,o);return vW(c)}function Ic(e,t){return xA(t,e.syncPointTree_,null,Df(e.pendingWriteTree_,J()))}function xA(e,t,n,r){if(W(e.path))return FA(e,t,n,r);{let i=t.get(J());n==null&&i!=null&&(n=Or(i,J()));let o=[],s=H(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=DA(r,s);o=o.concat(xA(a,c,l,u))}return i&&(o=o.concat(u_(i,e,r,n))),o}}function FA(e,t,n,r){let i=t.get(J());n==null&&i!=null&&(n=Or(i,J()));let o=[];return t.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=DA(r,s),u=e.operationForChild(s);u&&(o=o.concat(FA(u,a,c,l)))}),i&&(o=o.concat(u_(i,e,r,n))),o}function LA(e,t){let n=t.query,r=dc(e,n);return{hashFn:()=>(mW(t)||V.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?NW(e,n._path,r):RW(e,n._path);{let o=Z$(i,n);return _f(e,n,null,o)}}}}function dc(e,t){let n=Tf(t);return e.queryToTagMap.get(n)}function Tf(e){return e._path.toString()+"$"+e._queryIdentifier}function f_(e,t){return e.tagToQueryMap.get(t)}function h_(e){let t=e.indexOf("$");return y(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new te(e.substr(0,t))}}function p_(e,t,n){let r=e.syncPointTree_.get(t);y(r,"Missing sync point for query tag that we're tracking");let i=Df(e.pendingWriteTree_,t);return u_(r,n,i,null)}function PW(e){return e.fold((t,n,r)=>{if(n&&xr(n))return[bf(n)];{let i=[];return n&&(i=RA(n)),ct(r,(o,s)=>{i=i.concat(s)}),i}})}function oc(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(SW())(e._repo,e._path):e}function xW(e,t){for(let n=0;n<t.length;++n){let r=t[n];if(!r._queryParams.loadsAllData()){let i=Tf(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function FW(){return AW++}function LW(e,t,n){let r=t._path,i=dc(e,t),o=LA(e,n),s=e.listenProvider_.startListening(oc(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)y(!xr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!W(l)&&u&&xr(u))return[bf(u).query];{let f=[];return u&&(f=f.concat(RA(u).map(h=>h.query))),ct(d,(h,g)=>{f=f.concat(g)}),f}});for(let l=0;l<c.length;++l){let u=c[l];e.listenProvider_.stopListening(oc(u),dc(e,u))}}return s}var By=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},$y=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=Ae(this.path_,t);return new e(this.syncTree_,n)}node(){return d_(this.syncTree_,this.path_)}},VW=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},V0=function(e,t,n){if(!e||typeof e!="object")return e;if(y(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return jW(e[".sv"],t,n);if(typeof e[".sv"]=="object")return UW(e[".sv"],t);y(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},jW=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:y(!1,"Unexpected server value: "+e)}},UW=function(e,t,n){e.hasOwnProperty("increment")||y(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;typeof r!="number"&&y(!1,"Unexpected increment value: "+r);let i=t.node();if(y(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},BW=function(e,t,n,r){return g_(t,new $y(n,e),r)},VA=function(e,t,n){return g_(e,new By(t),n)};function g_(e,t,n){let r=e.getPriority().val(),i=V0(r,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=V0(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new es(a,Oe(i)):e}else{let s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new es(i))),s.forEachChild(ue,(a,c)=>{let l=g_(c,t.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var fc=class{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}};function m_(e,t){let n=t instanceof te?t:new te(t),r=e,i=H(n);for(;i!==null;){let o=hi(r.node.children,i)||{children:{},childCount:0};r=new fc(i,r,o),n=ae(n),i=H(n)}return r}function ls(e){return e.node.value}function jA(e,t){e.node.value=t,Hy(e)}function UA(e){return e.node.childCount>0}function $W(e){return ls(e)===void 0&&!UA(e)}function Sf(e,t){ct(e.node.children,(n,r)=>{t(new fc(n,e,r))})}function BA(e,t,n,r){n&&!r&&t(e),Sf(e,i=>{BA(i,t,!0,r)}),n&&r&&t(e)}function HW(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function wc(e){return new te(e.parent===null?e.name:wc(e.parent)+"/"+e.name)}function Hy(e){e.parent!==null&&WW(e.parent,e.name,e)}function WW(e,t,n){let r=$W(n),i=Ht(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Hy(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Hy(e))}var zW=/[\[\].#$\/\u0000-\u001F\u007F]/,GW=/[\[\].#$\u0000-\u001F\u007F]/,ny=10*1024*1024,v_=function(e){return typeof e=="string"&&e.length!==0&&!zW.test(e)},$A=function(e){return typeof e=="string"&&e.length!==0&&!GW.test(e)},qW=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),$A(e)},j0=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!e_(e)||e&&typeof e=="object"&&Ht(e,".sv")},Af=function(e,t,n,r){r&&t===void 0||y_(Na(e,"value"),t,n)},y_=function(e,t,n){let r=n instanceof te?new my(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Ci(r));if(typeof t=="function")throw new Error(e+"contains a function "+Ci(r)+" with contents = "+t.toString());if(e_(t))throw new Error(e+"contains "+t.toString()+" "+Ci(r));if(typeof t=="string"&&t.length>ny/3&&Oa(t)>ny)throw new Error(e+"contains a string greater than "+ny+" utf8 bytes "+Ci(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,o=!1;if(ct(t,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!v_(s)))throw new Error(e+" contains an invalid key ("+s+") "+Ci(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);bH(r,s),y_(e,a,r),TH(r)}),i&&o)throw new Error(e+' contains ".value" child '+Ci(r)+" in addition to actual children.")}};var KW=function(e,t,n,r){if(!(r&&n===void 0)&&!v_(n))throw new Error(Na(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},__=function(e,t,n,r){if(!(r&&n===void 0)&&!$A(n))throw new Error(Na(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},YW=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),__(e,t,n,r)},HA=function(e,t){if(H(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},ZW=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!v_(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!qW(n))throw new Error(Na(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Wy=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function E_(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],o=i.getPath();n!==null&&!r_(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function WA(e,t,n){E_(e,n),zA(e,r=>r_(r,t))}function En(e,t,n){E_(e,n),zA(e,r=>qt(r,t)||qt(t,r))}function zA(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];if(i){let o=i.path;t(o)?(QW(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function QW(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let r=n.getEventRunner();Ti&&He("event: "+n.toString()),cs(r)}}}var JW="repo_interrupt",XW=25,zy=class{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Wy,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=cf(),this.transactionQueueTree_=new fc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function e3(e,t,n){if(e.stats_=n_(e.repoInfo_),e.forceRestClient_||eH())e.server_=new Ty(e.repoInfo_,(r,i,o,s)=>{U0(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>B0(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{we(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new i_(e.repoInfo_,t,(r,i,o,s)=>{U0(e,r,i,o,s)},r=>{B0(e,r)},r=>{n3(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=nH(e.repoInfo_,()=>new Ry(e.stats_,e.server_)),e.infoData_=new Sy,e.infoSyncTree_=new yf({startListening:(r,i,o,s)=>{let a=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(a=Ec(e.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),w_(e,"connected",!1),e.serverSyncTree_=new yf({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);En(e.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function t3(e){let n=e.infoData_.getNode(new te(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function I_(e){return VW({timestamp:t3(e)})}function U0(e,t,n,r,i){e.dataUpdateCount++;let o=new te(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){let c=Ra(n,l=>Oe(l));s=OW(e.serverSyncTree_,o,c,i)}else{let c=Oe(n);s=PA(e.serverSyncTree_,o,c,i)}else if(r){let c=Ra(n,l=>Oe(l));s=MW(e.serverSyncTree_,o,c)}else{let c=Oe(n);s=Ec(e.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Rf(e,o)),En(e.eventQueue_,a,s)}function B0(e,t){w_(e,"connected",t),t===!1&&o3(e)}function n3(e,t){ct(t,(n,r)=>{w_(e,n,r)})}function w_(e,t,n){let r=new te("/.info/"+t),i=Oe(n);e.infoData_.updateSnapshot(r,i);let o=Ec(e.infoSyncTree_,r,i);En(e.eventQueue_,r,o)}function GA(e){return e.nextWriteId_++}function r3(e,t,n){let r=kW(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{let o=Oe(i).withIndex(t._queryParams.getIndex());Uy(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=Ec(e.serverSyncTree_,t._path,o);else{let a=dc(e.serverSyncTree_,t);s=PA(e.serverSyncTree_,t._path,o,a)}return En(e.eventQueue_,t._path,s),_f(e.serverSyncTree_,t,n,null,!0),o},i=>(Mf(e,"get for query "+we(t)+" failed: "+i),Promise.reject(new Error(i))))}function i3(e,t,n,r,i){Mf(e,"set",{path:t.toString(),value:n,priority:r});let o=I_(e),s=Oe(n,r),a=d_(e.serverSyncTree_,t),c=VA(s,a,o),l=GA(e),u=kA(e.serverSyncTree_,t,c,l,!0);E_(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(f,h)=>{let g=f==="ok";g||at("set at "+t+" failed: "+f);let _=bi(e.serverSyncTree_,l,!g);En(e.eventQueue_,t,_),c3(e,i,f,h)});let d=QA(e,t);Rf(e,d),En(e.eventQueue_,d,[])}function o3(e){Mf(e,"onDisconnectEvents");let t=I_(e),n=cf();Ay(e.onDisconnect_,J(),(i,o)=>{let s=BW(i,o,e.serverSyncTree_,t);yA(n,i,s)});let r=[];Ay(n,J(),(i,o)=>{r=r.concat(Ec(e.serverSyncTree_,i,o));let s=QA(e,i);Rf(e,s)}),e.onDisconnect_=cf(),En(e.eventQueue_,J(),r)}function s3(e,t,n){let r;H(t._path)===".info"?r=Uy(e.infoSyncTree_,t,n):r=Uy(e.serverSyncTree_,t,n),WA(e.eventQueue_,t._path,r)}function Gy(e,t,n){let r;H(t._path)===".info"?r=_f(e.infoSyncTree_,t,n):r=_f(e.serverSyncTree_,t,n),WA(e.eventQueue_,t._path,r)}function a3(e){e.persistentConnection_&&e.persistentConnection_.interrupt(JW)}function Mf(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),He(n,...t)}function c3(e,t,n,r){t&&cs(()=>{if(n==="ok")t(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,t(s)}})}function qA(e,t,n){return d_(e.serverSyncTree_,t,n)||V.EMPTY_NODE}function C_(e,t=e.transactionQueueTree_){if(t||Nf(e,t),ls(t)){let n=YA(e,t);y(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&l3(e,wc(t),n)}else UA(t)&&Sf(t,n=>{C_(e,n)})}function l3(e,t,n){let r=n.map(l=>l.currentWriteId),i=qA(e,t,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];y(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=qe(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=t;e.server_.put(c.toString(),a,l=>{Mf(e,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(bi(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Nf(e,m_(e.transactionQueueTree_,t)),C_(e,e.transactionQueueTree_),En(e.eventQueue_,t,u);for(let f=0;f<d.length;f++)cs(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{at("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}Rf(e,t)}},s)}function Rf(e,t){let n=KA(e,t),r=wc(n),i=YA(e,n);return u3(e,i,r),r}function u3(e,t,n){if(t.length===0)return;let r=[],i=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let c=t[a],l=qe(n,c.path),u=!1,d;if(y(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(bi(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=XW)u=!0,d="maxretry",i=i.concat(bi(e.serverSyncTree_,c.currentWriteId,!0));else{let f=qA(e,c.path,s);c.currentInputSnapshot=f;let h=t[a].update(f.val());if(h!==void 0){y_("transaction failed: Data returned ",h,c.path);let g=Oe(h);typeof h=="object"&&h!=null&&Ht(h,".priority")||(g=g.updatePriority(f.getPriority()));let T=c.currentWriteId,j=I_(e),ke=VA(g,f,j);c.currentOutputSnapshotRaw=g,c.currentOutputSnapshotResolved=ke,c.currentWriteId=GA(e),s.splice(s.indexOf(T),1),i=i.concat(kA(e.serverSyncTree_,c.path,ke,c.currentWriteId,c.applyLocally)),i=i.concat(bi(e.serverSyncTree_,T,!0))}else u=!0,d="nodata",i=i.concat(bi(e.serverSyncTree_,c.currentWriteId,!0))}En(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}Nf(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)cs(r[a]);C_(e,e.transactionQueueTree_)}function KA(e,t){let n,r=e.transactionQueueTree_;for(n=H(t);n!==null&&ls(r)===void 0;)r=m_(r,n),t=ae(t),n=H(t);return r}function YA(e,t){let n=[];return ZA(e,t,n),n.sort((r,i)=>r.order-i.order),n}function ZA(e,t,n){let r=ls(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Sf(t,i=>{ZA(e,i,n)})}function Nf(e,t){let n=ls(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,jA(t,n.length>0?n:void 0)}Sf(t,r=>{Nf(e,r)})}function QA(e,t){let n=wc(KA(e,t)),r=m_(e.transactionQueueTree_,t);return HW(r,i=>{ry(e,i)}),ry(e,r),BA(r,i=>{ry(e,i)}),n}function ry(e,t){let n=ls(t);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(y(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(y(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(bi(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?jA(t,void 0):n.length=o+1,En(e.eventQueue_,wc(t),i);for(let s=0;s<r.length;s++)cs(r[s])}}function d3(e){let t="",n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function f3(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):at(`Invalid query segment '${n}' in query '${e}'`)}return t}var $0=function(e,t){let n=h3(e),r=n.namespace;n.domain==="firebase.com"&&qn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&qn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||z$();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Xd(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new te(n.pathString)}},h3=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof e=="string"){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=d3(e.substring(u,d)));let f=f3(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(t.substring(l+1),10)):l=t.length;let h=t.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let g=t.indexOf(".");r=t.substring(0,g).toLowerCase(),n=t.substring(g+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var Ef=class{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+we(this.snapshot.exportVal())}},If=class{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var hc=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var os=class e{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return W(this._path)?null:cA(this._path)}get ref(){return new In(this._repo,this._path)}get _queryIdentifier(){let t=S0(this._queryParams),n=t_(t);return n==="{}"?"default":n}get _queryObject(){return S0(this._queryParams)}isEqual(t){if(t=Ue(t),!(t instanceof e))return!1;let n=this._repo===t._repo,r=r_(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+DH(this._path)}};function p3(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function D_(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Si){let r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Ai)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==kr)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===ue){if(t!=null&&!j0(t)||n!=null&&!j0(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(y(e.getIndex()instanceof sc||e.getIndex()===mA,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function JA(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var In=class e extends os{constructor(t,n){super(t,n,new by,!1)}get parent(){let t=uA(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},pc=class e{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new te(t),r=gc(this.ref,t);return new e(this._node.getChild(n),r,ue)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new e(i,gc(this.ref,r),ue)))}hasChild(t){let n=new te(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function XA(e,t){return e=Ue(e),e._checkNotDeleted("ref"),t!==void 0?gc(e._root,t):e._root}function gc(e,t){return e=Ue(e),H(e._path)===null?YW("child","path",t,!1):__("child","path",t,!1),new In(e._repo,Ae(e._path,t))}function eM(e){return HA("remove",e._path),b_(e,null)}function b_(e,t){e=Ue(e),HA("set",e._path),Af("set",t,e._path,!1);let n=new Ut;return i3(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function tM(e){e=Ue(e);let t=new hc(()=>{}),n=new mc(t);return r3(e._repo,e,n).then(r=>new pc(r,new In(e._repo,e._path),e._queryParams.getIndex()))}var mc=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let r=n._queryParams.getIndex();return new Ef("value",this,new pc(t.snapshotNode,new In(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new If(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},wf=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new If(this,t,n):null}createEvent(t,n){y(t.childName!=null,"Child events should have a childName.");let r=gc(new In(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new Ef(t.type,this,new pc(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function g3(e,t,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{Gy(e._repo,e,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new hc(n,o||void 0),a=t==="value"?new mc(s):new wf(t,s);return s3(e._repo,e,a),()=>Gy(e._repo,e,a)}function nM(e,t,n,r){return g3(e,"value",t,n,r)}function rM(e,t,n){let r=null,i=n?new hc(n):null;t==="value"?r=new mc(i):t&&(r=new wf(t,i)),Gy(e._repo,e,r)}var ss=class{},qy=class extends ss{constructor(t,n){super(),this._value=t,this._key=n,this.type="endAt"}_apply(t){Af("endAt",this._value,t._path,!0);let n=UH(t._queryParams,this._value,this._key);if(JA(n),D_(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new os(t._repo,t._path,n,t._orderByCalled)}};var Ky=class extends ss{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAt"}_apply(t){Af("startAt",this._value,t._path,!0);let n=jH(t._queryParams,this._value,this._key);if(JA(n),D_(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new os(t._repo,t._path,n,t._orderByCalled)}};var Yy=class extends ss{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){p3(t,"orderByChild");let n=new te(this._path);if(W(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let r=new sc(n),i=BH(t._queryParams,r);return D_(i),new os(t._repo,t._path,i,!0)}};function iM(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return __("orderByChild","path",e,!1),new Yy(e)}var Zy=class extends ss{constructor(t,n){super(),this._value=t,this._key=n,this.type="equalTo"}_apply(t){if(Af("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new qy(this._value,this._key)._apply(new Ky(this._value,this._key)._apply(t))}};function oM(e,t){return KW("equalTo","key",t,!0),new Zy(e,t)}function sM(e,...t){let n=Ue(e);for(let r of t)n=r._apply(n);return n}IW(In);TW(In);var m3="FIREBASE_DATABASE_EMULATOR_HOST",Qy={},v3=!1;function y3(e,t,n,r){let i=t.lastIndexOf(":"),o=t.substring(0,i),s=fi(o);e.repoInfo_=new Xd(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function _3(e,t,n,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||qn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),He("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=$0(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[m3]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=$0(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new nc(nc.OWNER):new ly(e.name,e.options,t);ZW("Invalid Firebase Database URL",s),W(s.path)||qn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=I3(a,e,u,new cy(e,n));return new Jy(d,e)}function E3(e,t){let n=Qy[t];(!n||n[e.key]!==e)&&qn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),a3(e),delete n[e.key]}function I3(e,t,n,r){let i=Qy[t.name];i||(i={},Qy[t.name]=i);let o=i[e.toURLString()];return o&&qn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new zy(e,v3,n,r),i[e.toURLString()]=o,o}var Jy=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(e3(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0,$o("Database",this._repo.repoInfo_.emulatorOptions!==null)),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new In(this._repo,J())),this._rootInternal}_delete(){return this._rootInternal!==null&&(E3(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&qn("Cannot call "+t+" on a deleted database.")}};function aM(e=mi(),t){let n=zo(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let r=TT("database");r&&cM(n,...r)}return n}function cM(e,t,n,r={}){e=Ue(e),e._checkNotDeleted("useEmulator");let i=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&fn(r,o.repoInfo_.emulatorOptions))return;qn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&qn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new nc(nc.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:ST(r.mockUserToken,e.app.options.projectId);s=new nc(a)}fi(t)&&(Cd(t),$o("Database",!0)),y3(o,i,r,s)}function w3(e){$$(wr),Wt(new Ge("database",(t,{instanceIdentifier:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return _3(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),pe(u0,d0,e),pe(u0,d0,"esm2017")}i_.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};i_.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};w3();var vt=class{constructor(t){return t}},lM="database",T_=class{constructor(){return qo(lM)}};var S_=new w("angularfire2.database-instances");function C3(e,t){let n=Fa(lM,e,t);return n&&new vt(n)}function D3(e){return(t,n)=>{let r=t.runOutsideAngular(()=>e(n));return new vt(r)}}var b3={provide:T_,deps:[[new Xe,S_]]},T3={provide:vt,useFactory:C3,deps:[[new Xe,S_],$n]};function uM(e,...t){return pe("angularfire",Cr.full,"rtdb"),et([T3,b3,{provide:S_,useFactory:D3(e),multi:!0,deps:[Q,he,Dr,yi,[new Xe,Ka],[new Xe,Ko],...t]}])}var dM=Ne(oM,!0,2);var Kn=Ne(tM,!0),fM=Ne(aM,!0);var us=Ne(rM,!0);var ds=Ne(nM,!0),hM=Ne(iM,!0,2);var pM=Ne(sM,!0,2),We=Ne(XA,!0,2);var gM=Ne(eM,!0,2);var Cc=Ne(b_,!0,2);function S3(e,t){if(e&1&&(E(0,"div",21),A(1),I()),e&2){let n=Ee();D(),se(n.error)}}var kf=class e{constructor(t,n,r){this.authService=t;this.router=n;this.db=r}fullname="";username="";email="";password="";error="";onRegister(){return p(this,null,function*(){if(!this.fullname||!this.username||!this.email||!this.password){this.error="Completa todos los campos";return}try{let t=We(this.db,"usernames/"+this.username);if((yield Kn(t)).exists()){this.error="El nombre de usuario ya est\xE1 en uso";return}let i=(yield this.authService.register(this.email,this.password)).user.uid,o=new Date().toISOString(),s={id:i,nombre:this.fullname,username:this.username,email:this.email,fotoPerfil:"",fechaRegistro:o,seguidores:0,seguidos:0,recetas:0,recetasFavoritas:[]};yield Cc(We(this.db,"usuarios/"+i),s),yield Cc(We(this.db,"usernames/"+this.username),i),this.router.navigate(["/login"])}catch(t){this.error=t.message}})}static \u0275fac=function(n){return new(n||e)(S(vn),S(Ie),S(vt))};static \u0275cmp=Be({type:e,selectors:[["app-register"]],decls:35,vars:5,consts:[[1,"auth-container"],[1,"auth-card","fade-in-up"],[1,"text-center","mb-4"],[1,"app-title"],[1,"form-title"],[1,"subtitle"],[3,"ngSubmit"],[1,"mb-3"],["for","fullname",1,"form-label"],["type","text","id","fullname","name","fullname","required","","autocomplete","name",1,"form-control",3,"ngModelChange","ngModel"],["for","username",1,"form-label"],["type","text","id","username","name","username","required","","autocomplete","username",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","autocomplete","email",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","autocomplete","new-password",1,"form-control",3,"ngModelChange","ngModel"],["class","alert alert-danger",4,"ngIf"],["type","submit",1,"btn","btn-morado","w-100"],[1,"bi","bi-person-plus"],[1,"text-center","mt-3"],["routerLink","/login",1,"link-morado"],[1,"alert","alert-danger"]],template:function(n,r){n&1&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),A(4,"CookShare"),I(),E(5,"h2",4),A(6,"Crear cuenta"),I(),E(7,"p",5),A(8,"\xA1\xDAnete y comparte tus mejores recetas!"),I()(),E(9,"form",6),Ve("ngSubmit",function(){return r.onRegister()}),E(10,"div",7)(11,"label",8),A(12,"Nombre completo"),I(),E(13,"input",9),jn("ngModelChange",function(o){return dr(r.fullname,o)||(r.fullname=o),o}),I()(),E(14,"div",7)(15,"label",10),A(16,"Usuario"),I(),E(17,"input",11),jn("ngModelChange",function(o){return dr(r.username,o)||(r.username=o),o}),I()(),E(18,"div",7)(19,"label",12),A(20,"Correo electr\xF3nico"),I(),E(21,"input",13),jn("ngModelChange",function(o){return dr(r.email,o)||(r.email=o),o}),I()(),E(22,"div",7)(23,"label",14),A(24,"Contrase\xF1a"),I(),E(25,"input",15),jn("ngModelChange",function(o){return dr(r.password,o)||(r.password=o),o}),I()(),_e(26,S3,2,1,"div",16),E(27,"button",17),ce(28,"i",18),A(29," Registrarse "),I()(),E(30,"div",19)(31,"span"),A(32,"\xBFYa tienes cuenta?"),I(),E(33,"a",20),A(34,"Inicia sesi\xF3n"),I()()()()),n&2&&(D(13),Vn("ngModel",r.fullname),D(4),Vn("ngModel",r.username),D(4),Vn("ngModel",r.email),D(4),Vn("ngModel",r.password),D(),F("ngIf",r.error))},dependencies:[rt,Lt,Vo,Id,Lo,yd,_d,ba,Da,Ca,jt,Tt],styles:[".auth-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#a259c6,#6d28d9)}.auth-card[_ngcontent-%COMP%]{background:#fff;border-radius:1.5rem;box-shadow:0 6px 32px #6c008026;padding:2.5rem 2rem;width:100%;max-width:400px}.logo-icon[_ngcontent-%COMP%]{font-size:2.5rem;color:#a259c6}.app-title[_ngcontent-%COMP%]{font-family:Segoe UI,sans-serif;font-weight:700;color:#6d28d9;margin-bottom:.5rem}.form-title[_ngcontent-%COMP%]{color:#a259c6;margin-bottom:.25rem}.subtitle[_ngcontent-%COMP%]{color:#6d28d9;font-size:1rem;margin-bottom:1.5rem}.btn-morado[_ngcontent-%COMP%]{background:linear-gradient(90deg,#a259c6,#6d28d9);color:#fff;border:none;font-weight:600;transition:background .2s}.btn-morado[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#6d28d9,#a259c6);color:#fff}.link-morado[_ngcontent-%COMP%]{color:#a259c6;font-weight:500;text-decoration:none}.link-morado[_ngcontent-%COMP%]:hover{color:#6d28d9;text-decoration:underline}.fade-in-up[_ngcontent-%COMP%]{opacity:0;transform:translateY(40px);animation:_ngcontent-%COMP%_fadeInUp .7s cubic-bezier(.23,1,.32,1) forwards}@keyframes _ngcontent-%COMP%_fadeInUp{to{opacity:1;transform:translateY(0)}}"]})};var A3=()=>["/main"],M3=()=>["/feed"],R3=e=>["/perfil",e],Fr=class e{constructor(t,n){this.authService=t;this.router=n}tipos=["Postres","Platos principales","Bebidas","Entrantes","Sopas","Ensaladas"];selectedTipo="";tipoSeleccionado=new me;logout(){return p(this,null,function*(){yield this.authService.logout(),this.router.navigate(["/login"])})}onTipoChange(){this.tipoSeleccionado.emit(this.selectedTipo)}static \u0275fac=function(n){return new(n||e)(S(vn),S(Ie))};static \u0275cmp=Be({type:e,selectors:[["app-navbar"]],outputs:{tipoSeleccionado:"tipoSeleccionado"},decls:15,vars:7,consts:[[1,"navbar","navbar-expand-lg","shadow-sm","custom-navbar"],[1,"container"],[1,"navbar-brand","fw-bold","text-white",3,"routerLink"],[1,"collapse","navbar-collapse","justify-content-end"],[1,"navbar-nav","align-items-center"],[1,"nav-item"],[1,"nav-link","custom-link",3,"routerLink"],[1,"btn","btn-morado","ms-2",3,"click"]],template:function(n,r){n&1&&(E(0,"nav",0)(1,"div",1)(2,"a",2),A(3,"CookShare"),I(),E(4,"div",3)(5,"ul",4)(6,"li",5)(7,"a",6),A(8,"Feed"),I()(),E(9,"li",5)(10,"a",6),A(11,"Perfil"),I()(),E(12,"li",5)(13,"button",7),Ve("click",function(){return r.logout()}),A(14,"Cerrar sesi\xF3n"),I()()()()()()),n&2&&(D(2),F("routerLink",Ag(3,A3)),D(5),F("routerLink",Ag(4,M3)),D(3),F("routerLink",ni(5,R3,r.authService.currentUserId)))},dependencies:[rt,jt,Tt,Vo],styles:[".custom-navbar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#a259c6,#6d28d9)!important}.navbar-brand[_ngcontent-%COMP%], .custom-link[_ngcontent-%COMP%]{color:#fff!important;font-weight:500;transition:color .2s}.custom-link[_ngcontent-%COMP%]:hover, .custom-link[_ngcontent-%COMP%]:focus{color:#ffe6ff!important;text-decoration:underline}.btn-morado[_ngcontent-%COMP%]{background:#a259c6;color:#fff;border:none;font-weight:500;transition:background .2s,color .2s}.btn-morado[_ngcontent-%COMP%]:hover, .btn-morado[_ngcontent-%COMP%]:focus{background:#6d28d9;color:#fff}"]})};var N3=e=>["/receta",e];function O3(e,t){e&1&&(E(0,"div",6),ce(1,"div",7),I())}function k3(e,t){e&1&&(E(0,"div",8),A(1," No hay recetas disponibles. "),I())}function P3(e,t){if(e&1&&(E(0,"div",11)(1,"a",12)(2,"div",13),ce(3,"img",14),E(4,"div",15)(5,"h6",16),A(6),I(),E(7,"p",17),A(8),I(),E(9,"span",18),A(10),I()()()()()),e&2){let n=t.$implicit;D(),F("routerLink",ni(7,N3,n.id)),D(2),_o("alt","Imagen de ",n.titulo||n.nombre,""),F("src",n.imagenReceta||"https://via.placeholder.com/300x180?text=Sin+imagen",on),D(3),se(n.titulo||n.nombre||"Receta sin t\xEDtulo"),D(2),se(n.descripcion||"Sin descripci\xF3n."),D(2),se(n.categoria||"Sin categor\xEDa")}}function x3(e,t){if(e&1&&(E(0,"div",9),_e(1,P3,11,9,"div",10),I()),e&2){let n=Ee();D(),F("ngForOf",n.recetas)}}var Pf=class e{constructor(t,n){this.db=t;this.router=n}recetas=[];todasLasRecetas=[];loading=!0;ngOnInit(){return p(this,null,function*(){try{let t=We(this.db,"recipes"),n=yield Kn(t);n.exists()?(this.todasLasRecetas=Object.entries(n.val()).map(([r,i])=>v({id:r},i)),this.recetas=[...this.todasLasRecetas]):(this.todasLasRecetas=[],this.recetas=[])}catch{this.todasLasRecetas=[],this.recetas=[]}this.loading=!1})}filtrarRecetas(t){t?this.recetas=this.todasLasRecetas.filter(n=>(n.categoria||n.tipo||"").toLowerCase()===t.toLowerCase()):this.recetas=[...this.todasLasRecetas]}verDetalle(t){let n=t.id||t.id_receta;n&&this.router.navigate(["/receta",n])}static \u0275fac=function(n){return new(n||e)(S(vt),S(Ie))};static \u0275cmp=Be({type:e,selectors:[["app-main"]],decls:7,vars:3,consts:[[3,"tipoSeleccionado"],[1,"feed-container"],[1,"feed-title"],["class","text-center my-5",4,"ngIf"],["class","alert alert-info text-center",4,"ngIf"],["class","row g-3",4,"ngIf"],[1,"text-center","my-5"],["role","status",1,"spinner-border","text-primary"],[1,"alert","alert-info","text-center"],[1,"row","g-3"],["class","col-12 col-md-6 col-lg-4",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-lg-4"],[1,"text-decoration-none",3,"routerLink"],[1,"card","receta-card-h"],[1,"card-img-top","receta-img-thumb",3,"src","alt"],[1,"card-body"],[1,"card-title","text-morado","mb-1"],[1,"card-text","small","text-muted","mb-0"],[1,"badge","bg-morado","mt-2"]],template:function(n,r){n&1&&(E(0,"app-navbar",0),Ve("tipoSeleccionado",function(o){return r.filtrarRecetas(o)}),I(),E(1,"div",1)(2,"h2",2),A(3," Feed de Recetas"),I(),_e(4,O3,2,0,"div",3)(5,k3,2,0,"div",4)(6,x3,2,1,"div",5),I()),n&2&&(D(4),F("ngIf",r.loading),D(),F("ngIf",!r.loading&&r.recetas.length===0),D(),F("ngIf",!r.loading&&r.recetas.length>0))},dependencies:[rt,pr,Lt,Fr,jt,Tt],styles:[".feed-container[_ngcontent-%COMP%]{max-width:1100px;margin:2rem auto;padding:1rem}.feed-title[_ngcontent-%COMP%]{color:#a259c6;font-weight:700;margin-bottom:2rem;text-align:center}.receta-card-h[_ngcontent-%COMP%]{border-radius:1rem;box-shadow:0 2px 8px #6c008014;overflow:hidden;transition:transform .15s,box-shadow .15s;cursor:pointer;height:100%;display:flex;flex-direction:column}.receta-card-h[_ngcontent-%COMP%]:hover{transform:translateY(-4px) scale(1.03);box-shadow:0 6px 24px #6c008026}.receta-img-thumb[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:cover;background:#eee}.card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600}.card-text[_ngcontent-%COMP%]{font-size:.97rem}.text-morado[_ngcontent-%COMP%]{color:#a259c6}.bg-morado[_ngcontent-%COMP%]{background:linear-gradient(90deg,#a259c6,#6d28d9);color:#fff}"]})};function F3(e,t){if(e&1){let n=Tg();E(0,"button",20),Ve("click",function(){Hp(n);let i=Ee(2);return Wp(i.verPerfilAutor())}),ce(1,"img",21),I()}if(e&2){let n=Ee(2);D(),F("src",(n.receta==null?null:n.receta.fotoPerfilAutor)||n.defaultProfile,on)}}function L3(e,t){if(e&1&&(E(0,"span",22),A(1),I()),e&2){let n=Ee(2);D(),Cu(" \u23F1 ",n.receta.tiempo," ")}}function V3(e,t){if(e&1&&(E(0,"li"),A(1),I()),e&2){let n=t.$implicit;D(),se(n)}}function j3(e,t){if(e&1&&(E(0,"ul"),_e(1,V3,2,1,"li",23),I()),e&2){let n=Ee(2);D(),F("ngForOf",n.receta.ingredientes)}}function U3(e,t){if(e&1&&(E(0,"span"),A(1),I()),e&2){let n=Ee(2);D(),se(n.receta.ingredientes)}}function B3(e,t){if(e&1&&(E(0,"li"),A(1),I()),e&2){let n=t.$implicit;D(),se(n)}}function $3(e,t){if(e&1&&(E(0,"ol"),_e(1,B3,2,1,"li",23),I()),e&2){let n=Ee(2);D(),F("ngForOf",n.receta.pasos)}}function H3(e,t){if(e&1&&(E(0,"span"),A(1),I()),e&2){let n=Ee(2);D(),se(n.receta.pasos)}}function W3(e,t){if(e&1){let n=Tg();E(0,"div",2)(1,"div",3),ce(2,"img",4),I(),E(3,"div",5),_e(4,F3,2,1,"button",6),E(5,"button",7),Ve("click",function(){Hp(n);let i=Ee();return Wp(i.toggleLike())}),ce(6,"i",8),I(),E(7,"span",9),A(8),I()(),E(9,"div",10)(10,"h2",11),A(11),I(),E(12,"div",12)(13,"span",13),A(14),I(),_e(15,L3,2,1,"span",14),I(),E(16,"p",15),A(17),I(),ce(18,"hr",16),E(19,"h5",17),A(20,"Ingredientes"),I(),_e(21,j3,2,1,"ul",18)(22,U3,2,1,"span",18),E(23,"h5",19),A(24,"Pasos"),I(),_e(25,$3,2,1,"ol",18)(26,H3,2,1,"span",18),I()()}if(e&2){let n=Ee();D(2),F("src",n.receta.imagenReceta,on),D(2),F("ngIf",n.receta==null?null:n.receta.id_usuario),D(2),F("ngClass",n.isLiked?"bi-heart-fill":"bi-heart"),D(2),se(n.likesCount),D(3),se((n.receta==null?null:n.receta.titulo)||(n.receta==null?null:n.receta.nombre)),D(3),se(n.receta==null?null:n.receta.categoria),D(),F("ngIf",n.receta==null?null:n.receta.tiempo),D(2),se(n.receta.descripcion),D(4),F("ngIf",n.receta.ingredientes&&n.receta.ingredientes.length&&n.receta.ingredientes[0]),D(),F("ngIf",n.receta.ingredientes&&!n.receta.ingredientes.length),D(3),F("ngIf",n.receta.pasos&&n.receta.pasos.length&&n.receta.pasos[0]),D(),F("ngIf",n.receta.pasos&&!n.receta.pasos.length)}}function z3(e,t){e&1&&(E(0,"div",24),ce(1,"div",25),I())}var xf=class e{constructor(t,n,r,i,o){this.route=t;this.db=n;this.auth=r;this.router=i;this.cdr=o}receta=null;loading=!0;likesCount=0;isLiked=!1;userId="";defaultProfile="https://ui-avatars.com/api/?name=User&background=a259c6&color=fff";likesRef;ngOnInit(){return p(this,null,function*(){let t=this.route.snapshot.paramMap.get("id");if(this.userId=this.auth.currentUser?.uid||"",t){let n=We(this.db,"recipes/"+t),r=yield Kn(n);r.exists()&&(this.receta=r.val(),this.receta.id=t,this.receta.id_usuario&&(yield this.fetchAutorInfo(this.receta.id_usuario)),this.setupLikes())}this.loading=!1})}fetchAutorInfo(t){return p(this,null,function*(){let n=We(this.db,"usuarios/"+t),r=yield Kn(n);if(r.exists()){let i=r.val();this.receta=U(v({},this.receta),{nombreAutor:i.nombre,fotoPerfilAutor:i.fotoPerfil&&i.fotoPerfil.trim()!==""?i.fotoPerfil:this.defaultProfile})}else this.receta=U(v({},this.receta),{nombreAutor:"Autor desconocido",fotoPerfilAutor:this.defaultProfile});this.cdr.detectChanges()})}verPerfilAutor(){this.receta?.id_usuario&&this.router.navigate(["/perfil",this.receta.id_usuario])}setupLikes(){this.receta?.id&&(this.likesRef=We(this.db,"likes/"+this.receta.id),ds(this.likesRef,t=>{let n=0;t.forEach(()=>(n++,!1)),this.likesCount=n,this.isLiked=t.hasChild(this.userId)}))}toggleLike(){return p(this,null,function*(){if(!this.userId||!this.receta?.id)return;let t=We(this.db,`likes/${this.receta.id}/${this.userId}`);if(this.isLiked)yield gM(t);else{let n=new Date().toISOString();yield Cc(t,{id:this.userId+"_"+this.receta.id,id_usuario:this.userId,id_receta:this.receta.id,fecha:n})}})}ngOnDestroy(){this.likesRef&&us(this.likesRef)}static \u0275fac=function(n){return new(n||e)(S(ot),S(vt),S(Gn),S(Ie),S(Un))};static \u0275cmp=Be({type:e,selectors:[["app-recipe-detail"]],decls:3,vars:2,consts:[["class","container mt-5 position-relative",4,"ngIf"],["class","text-center my-5",4,"ngIf"],[1,"container","mt-5","position-relative"],[1,"receta-img-wrapper","mb-3"],["alt","Imagen de la receta",1,"img-fluid","receta-img-main",3,"src"],[1,"floating-buttons","d-flex","flex-column","align-items-center"],["class","profile-btn mb-3","aria-label","Ver perfil del autor",3,"click",4,"ngIf"],["aria-label","Me gusta",1,"btn","btn-like-float","mb-2",3,"click"],[1,"bi",3,"ngClass"],[1,"likes-count"],[1,"receta-card","px-3","py-4","mt-2"],[1,"text-morado","mb-2","text-center"],[1,"text-center","mb-2"],[1,"badge","bg-morado","me-2"],["class","badge bg-light text-morado border border-morado ms-1",4,"ngIf"],[1,"receta-desc","mb-3","text-center"],[1,"my-4","border-0"],[1,"text-morado","mb-2"],[4,"ngIf"],[1,"text-morado","mt-4","mb-2"],["aria-label","Ver perfil del autor",1,"profile-btn","mb-3",3,"click"],["alt","Foto de perfil del autor",1,"profile-img-float",3,"src"],[1,"badge","bg-light","text-morado","border","border-morado","ms-1"],[4,"ngFor","ngForOf"],[1,"text-center","my-5"],["role","status",1,"spinner-border","text-primary"]],template:function(n,r){n&1&&(ce(0,"app-navbar"),_e(1,W3,27,12,"div",0)(2,z3,2,0,"div",1)),n&2&&(D(),F("ngIf",!r.loading&&r.receta),D(),F("ngIf",r.loading))},dependencies:[rt,Fg,pr,Lt,Fr],styles:["body[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{background:#fff!important}.receta-card[_ngcontent-%COMP%]{background:#fff;border-radius:0;box-shadow:none;margin-top:0;position:relative;z-index:1;padding-left:0;padding-right:0}.text-morado[_ngcontent-%COMP%]{color:#a259c6}.bg-morado[_ngcontent-%COMP%]{background:linear-gradient(90deg,#a259c6,#6d28d9);color:#fff}.border-morado[_ngcontent-%COMP%]{border-color:#a259c6!important}.receta-img-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:220px;border-radius:1.2rem;overflow:hidden;box-shadow:0 4px 16px #6c00801a;background:#eaeaea}.receta-img-main[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:1.2rem}.floating-buttons[_ngcontent-%COMP%]{position:absolute;top:30px;right:24px;z-index:2}.profile-btn[_ngcontent-%COMP%]{border:none;background:none;padding:0;cursor:pointer;display:flex;justify-content:center}.profile-img-float[_ngcontent-%COMP%]{width:56px;height:56px;object-fit:cover;border-radius:50%;border:3px solid #a259c6;background:#fff;box-shadow:0 2px 8px #6c00801a;transition:border-color .2s}.profile-btn[_ngcontent-%COMP%]:hover   .profile-img-float[_ngcontent-%COMP%]{border-color:#6d28d9}.btn-like-float[_ngcontent-%COMP%]{background:#fff;border:3px solid #a259c6;border-radius:50%;width:56px;height:56px;display:flex;align-items:center;justify-content:center;color:#a259c6;font-size:2rem;box-shadow:0 2px 8px #6c00801a;transition:border-color .2s,color .2s;padding:0}.btn-like-float[_ngcontent-%COMP%]:hover{border-color:#6d28d9;color:#6d28d9}.bi-heart-fill[_ngcontent-%COMP%]{color:#a259c6}.likes-count[_ngcontent-%COMP%]{color:#a259c6;font-weight:700;font-size:1.1rem;margin-top:2px;text-align:center}.receta-desc[_ngcontent-%COMP%]{color:#444;font-size:1.1rem}hr[_ngcontent-%COMP%]{border-top:1px solid #ccc}",".receta-card[_ngcontent-%COMP%], .card[_ngcontent-%COMP%], .receta-card-h[_ngcontent-%COMP%]{border:none!important;box-shadow:0 2px 12px #6c008014}.receta-img-main[_ngcontent-%COMP%], .receta-img[_ngcontent-%COMP%], .card-img-top[_ngcontent-%COMP%], .receta-img-thumb[_ngcontent-%COMP%]{border:none!important}hr[_ngcontent-%COMP%]{border:none!important;border-top:none!important;height:1px;background:#eee;margin:1.5rem 0}"]})};var mM=e=>["/receta",e];function G3(e,t){if(e&1&&(E(0,"div",3)(1,"div",4),ce(2,"img",5),E(3,"h2",6),A(4),I(),E(5,"div",7)(6,"div")(7,"span",8),A(8),I(),E(9,"div",9),A(10,"Seguidores"),I()(),E(11,"div")(12,"span",8),A(13),I(),E(14,"div",9),A(15,"Seguidos"),I()()()()()),e&2){let n=Ee();D(2),F("src",n.user.fotoPerfil||n.defaultProfile,on),D(2),se("@"+n.user.username),D(4),se(n.seguidoresCount),D(5),se(n.seguidosCount)}}function q3(e,t){e&1&&(E(0,"div",10),ce(1,"div",11),I())}function K3(e,t){if(e&1&&(E(0,"div",16)(1,"a",17)(2,"div",18),ce(3,"img",19),E(4,"div",20)(5,"h6",21),A(6),I(),E(7,"p",22),A(8),I()()()()()),e&2){let n=t.$implicit;D(),F("routerLink",ni(6,mM,n.id)),D(2),_o("alt","Imagen de ",n.titulo||n.nombre,""),F("src",n.imagenReceta||"https://via.placeholder.com/300x180?text=Sin+imagen",on),D(3),se(n.titulo||n.nombre),D(2),se(n.descripcion)}}function Y3(e,t){if(e&1&&(E(0,"div",12)(1,"h5",13),A(2,"Recetas publicadas"),I(),E(3,"div",14),_e(4,K3,9,8,"div",15),I()()),e&2){let n=Ee();D(4),F("ngForOf",n.userRecipes)}}function Z3(e,t){if(e&1&&(E(0,"div",16)(1,"a",17)(2,"div",18),ce(3,"img",19),E(4,"div",20)(5,"h6",21),A(6),I(),E(7,"p",22),A(8),I()()()()()),e&2){let n=t.$implicit;D(),F("routerLink",ni(6,mM,n.id)),D(2),_o("alt","Imagen de ",n.titulo||n.nombre,""),F("src",n.imagenReceta||"https://via.placeholder.com/300x180?text=Sin+imagen",on),D(3),se(n.titulo||n.nombre),D(2),se(n.descripcion)}}function Q3(e,t){if(e&1&&(E(0,"div",12)(1,"h5",13),A(2,"Recetas que te gustan"),I(),E(3,"div",14),_e(4,Z3,9,8,"div",15),I()()),e&2){let n=Ee();D(4),F("ngForOf",n.likedRecipes)}}var Ff=class e{constructor(t,n,r){this.route=t;this.db=n;this.authService=r}user=null;loading=!0;defaultProfile="https://ui-avatars.com/api/?name=User&background=a259c6&color=fff";seguidoresCount=0;seguidosCount=0;userRecipes=[];likedRecipes=[];isOwnProfile=!1;likesRef;userRef;userListener;recipesRef;ngOnInit(){let t=this.route.snapshot.paramMap.get("id"),n=this.authService.currentUserId;t&&(this.isOwnProfile=t===n,this.userRef=We(this.db,"usuarios/"+t),this.userListener=ds(this.userRef,r=>{r.exists()&&(this.user=r.val(),this.seguidoresCount=this.user.seguidores||0,this.seguidosCount=this.user.siguiendo||0),this.loading=!1}),this.recipesRef=pM(We(this.db,"recipes"),hM("id_usuario"),dM(t)),ds(this.recipesRef,r=>{let i=[];r.forEach(o=>{i.push(v({id:o.key},o.val()))}),this.userRecipes=i}),this.isOwnProfile&&(this.likesRef=We(this.db,"likes"),ds(this.likesRef,r=>p(this,null,function*(){let i=[];if(r.forEach(o=>{let s=o.key;o.child(n).exists()&&i.push(s)}),i.length>0){let s=(yield Kn(We(this.db,"recipes"))).val()||{};this.likedRecipes=i.map(a=>s[a]?v({id:a},s[a]):null).filter(a=>!!a)}else this.likedRecipes=[]}))))}ngOnDestroy(){this.userRef&&us(this.userRef),this.recipesRef&&us(this.recipesRef),this.likesRef&&us(this.likesRef)}static \u0275fac=function(n){return new(n||e)(S(ot),S(vt),S(vn))};static \u0275cmp=Be({type:e,selectors:[["app-profile"]],decls:5,vars:4,consts:[["class","container mt-5",4,"ngIf"],["class","text-center my-5",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"container","mt-5"],[1,"text-center"],["alt","Foto de perfil",1,"profile-img","mb-3",3,"src"],[1,"text-morado"],[1,"d-flex","justify-content-center","gap-4","mt-3"],[1,"fw-bold","text-morado",2,"font-size","1.3rem"],[2,"font-size","0.95rem"],[1,"text-center","my-5"],["role","status",1,"spinner-border","text-primary"],[1,"mt-4"],[1,"text-morado","mb-3"],[1,"row","g-3"],["class","col-12 col-md-6 col-lg-4",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-lg-4"],[1,"text-decoration-none",3,"routerLink"],[1,"card","receta-card-h"],[1,"card-img-top","receta-img-thumb",3,"src","alt"],[1,"card-body"],[1,"card-title","text-morado","mb-1"],[1,"card-text","small","text-muted","mb-0"]],template:function(n,r){n&1&&(ce(0,"app-navbar"),_e(1,G3,16,4,"div",0)(2,q3,2,0,"div",1)(3,Y3,5,1,"div",2)(4,Q3,5,1,"div",2)),n&2&&(D(),F("ngIf",!r.loading&&r.user),D(),F("ngIf",r.loading),D(),F("ngIf",r.userRecipes.length>0),D(),F("ngIf",r.isOwnProfile&&r.likedRecipes.length>0))},dependencies:[rt,pr,Lt,Fr,jt,Tt],styles:[".profile-img[_ngcontent-%COMP%]{width:120px;height:120px;object-fit:cover;border-radius:50%;border:4px solid #a259c6;box-shadow:0 2px 8px #6c00801a}.text-morado[_ngcontent-%COMP%]{color:#a259c6}",".receta-card-h[_ngcontent-%COMP%]{border-radius:1rem;box-shadow:0 2px 8px #6c008014;overflow:hidden;transition:transform .15s,box-shadow .15s;cursor:pointer;height:100%;display:flex;flex-direction:column}.receta-card-h[_ngcontent-%COMP%]:hover{transform:translateY(-4px) scale(1.03);box-shadow:0 6px 24px #6c008026}.receta-img-thumb[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:cover;background:#eee}.card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600}.card-text[_ngcontent-%COMP%]{font-size:.97rem}"]})};var vM=[{path:"",component:Ya},{path:"login",component:Ya},{path:"register",component:kf},{path:"feed",component:Pf},{path:"receta/:id",component:xf},{path:"perfil/:id",component:Ff}];var yM={providers:[CD({eventCoalescing:!0}),Dm(vM),QD(ZD()),XT(()=>eS({apiKey:"AIzaSyC0cfTmaqsbSRMqPSklwkyS_NL_pQ4XbMk",authDomain:"cookshare2-fa2ff.firebaseapp.com",databaseURL:"https://cookshare2-fa2ff-default-rtdb.europe-west1.firebasedatabase.app",projectId:"cookshare2-fa2ff",storageBucket:"cookshare2-fa2ff.appspot.com",messagingSenderId:"218177580225",appId:"1:218177580225:web:56d5b5b9bee7e96c6a7840",measurementId:"G-4Q51LZ8XKK"})),o0(()=>a0()),uM(()=>fM())]};qg(ud,yM).catch(e=>console.error(e));
